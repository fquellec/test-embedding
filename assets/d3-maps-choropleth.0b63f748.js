!function(){"use strict";var t="http://www.w3.org/1999/xhtml",e={svg:"http://www.w3.org/2000/svg",xhtml:t,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function n(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),e.hasOwnProperty(n)?{space:e[n],local:t}:t}function r(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===t&&n.documentElement.namespaceURI===t?n.createElement(e):n.createElementNS(r,e)}}function i(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function o(t){var e=n(t);return(e.local?i:r)(e)}function a(){}function u(t){return null==t?a:function(){return this.querySelector(t)}}function s(){return[]}function c(t){return null==t?s:function(){return this.querySelectorAll(t)}}function l(t){return function(){return this.matches(t)}}function f(t){return new Array(t.length)}function h(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}h.prototype={constructor:h,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function p(t,e,n,r,i,o){for(var a,u=0,s=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new h(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function d(t,e,n,r,i,o,a){var u,s,c,l={},f=e.length,p=o.length,d=new Array(f);for(u=0;u<f;++u)(s=e[u])&&(d[u]=c="$"+a.call(s,s.__data__,u,e),c in l?i[u]=s:l[c]=s);for(u=0;u<p;++u)(s=l[c="$"+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):n[u]=new h(t,o[u]);for(u=0;u<f;++u)(s=e[u])&&l[d[u]]===s&&(i[u]=s)}function g(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function v(t){return function(){this.removeAttribute(t)}}function m(t){return function(){this.removeAttributeNS(t.space,t.local)}}function y(t,e){return function(){this.setAttribute(t,e)}}function b(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function w(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function x(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function _(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function M(t){return function(){this.style.removeProperty(t)}}function A(t,e,n){return function(){this.style.setProperty(t,e,n)}}function E(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function k(t,e){return t.style.getPropertyValue(e)||_(t).getComputedStyle(t,null).getPropertyValue(e)}function S(t){return function(){delete this[t]}}function N(t,e){return function(){this[t]=e}}function z(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $(t){return t.trim().split(/^|\s+/)}function O(t){return t.classList||new T(t)}function T(t){this._node=t,this._names=$(t.getAttribute("class")||"")}function j(t,e){for(var n=O(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function L(t,e){for(var n=O(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function D(t){return function(){j(this,t)}}function Y(t){return function(){L(this,t)}}function C(t,e){return function(){(e.apply(this,arguments)?j:L)(this,t)}}function R(){this.textContent=""}function P(t){return function(){this.textContent=t}}function F(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function B(){this.innerHTML=""}function I(t){return function(){this.innerHTML=t}}function q(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function H(){this.nextSibling&&this.parentNode.appendChild(this)}function W(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function U(){return null}function V(){var t=this.parentNode;t&&t.removeChild(this)}function X(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function G(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}T.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Z={},K=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Z={mouseenter:"mouseover",mouseleave:"mouseout"}));function J(t,e,n){return t=Q(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Q(t,e,n){return function(r){var i=K;K=r;try{t.call(this,this.__data__,e,n)}finally{K=i}}}function tt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function et(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function nt(t,e,n){var r=Z.hasOwnProperty(t.type)?J:Q;return function(i,o,a){var u,s=this.__on,c=r(e,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=e);this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(u):this.__on=[u]}}function rt(t,e,n){var r=_(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function it(t,e){return function(){return rt(this,t,e)}}function ot(t,e){return function(){return rt(this,t,e.apply(this,arguments))}}var at=[null];function ut(t,e){this._groups=t,this._parents=e}function st(){return new ut([[document.documentElement]],at)}function ct(t){return"string"==typeof t?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],at)}function lt(){for(var t,e=K;t=e.sourceEvent;)e=t;return e}function ft(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function ht(t){var e=lt();return e.changedTouches&&(e=e.changedTouches[0]),ft(t,e)}function pt(t,e,n){arguments.length<3&&(n=e,e=lt().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return ft(t,r);return null}function dt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ut.prototype=st.prototype={constructor:ut,select:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,l=r[i]=new Array(c),f=0;f<c;++f)(o=s[f])&&(a=t.call(o,o.__data__,f,s))&&("__data__"in o&&(a.__data__=o.__data__),l[f]=a);return new ut(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new ut(r,i)},filter:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new ut(r,this._parents)},data:function(t,e){if(!t)return v=new Array(this.size()),l=-1,this.each((function(t){v[++l]=t})),v;var n,r=e?d:p,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],g=h.length,v=t.call(f,f&&f.__data__,l,i),m=v.length,y=s[l]=new Array(m),b=u[l]=new Array(m);r(f,h,y,b,c[l]=new Array(g),v,e);for(var w,x,_=0,M=0;_<m;++_)if(w=y[_]){for(_>=M&&(M=_+1);!(x=b[M])&&++M<m;);w._next=x||null}}return(u=new ut(u,i))._enter=s,u._exit=c,u},enter:function(){return new ut(this._enter||this._groups.map(f),this._parents)},exit:function(){return new ut(this._exit||this._groups.map(f),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=e[u];return new ut(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=g);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(e)}return new ut(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var r=n(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==e?r.local?m:v:"function"==typeof e?r.local?x:w:r.local?b:y)(r,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?M:"function"==typeof e?E:A)(t,e,null==n?"":n)):k(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?S:"function"==typeof e?z:N)(t,e)):this.node()[t]},classed:function(t,e){var n=$(t+"");if(arguments.length<2){for(var r=O(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?C:e?D:Y)(n,e))},text:function(t){return arguments.length?this.each(null==t?R:("function"==typeof t?F:P)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?B:("function"==typeof t?q:I)(t)):this.node().innerHTML},raise:function(){return this.each(H)},lower:function(){return this.each(W)},append:function(t){var e="function"==typeof t?t:o(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:o(t),r=null==e?U:"function"==typeof e?e:u(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(V)},clone:function(t){return this.select(t?G:X)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=tt(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?nt:et,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?ot:it)(t,e))}};var gt=function(t){return 1===t.length&&(t=function(t){return function(e,n){return dt(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(dt).right;function vt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var mt=Math.sqrt(50),yt=Math.sqrt(10),bt=Math.sqrt(2);function wt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=mt?10:o>=yt?5:o>=bt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=mt?10:o>=yt?5:o>=bt?2:1)}function xt(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}function _t(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Mt="$";function At(){}function Et(t,e){var n=new At;if(t instanceof At)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function kt(){var t,e,n,r=[],i=[];function o(n,i,a,u){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var s,c,l,f=-1,h=n.length,p=r[i++],d=Et(),g=a();++f<h;)(l=d.get(s=p(c=n[f])+""))?l.push(c):d.set(s,[c]);return d.each((function(t,e){u(g,e,o(t,i,a,u))})),g}function a(t,n){if(++n>r.length)return t;var o,u=i[n-1];return null!=e&&n>=r.length?o=t.entries():(o=[],t.each((function(t,e){o.push({key:e,values:a(t,n)})}))),null!=u?o.sort((function(t,e){return u(t.key,e.key)})):o}return n={object:function(t){return o(t,0,St,Nt)},map:function(t){return o(t,0,zt,$t)},entries:function(t){return a(o(t,0,zt,$t),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function St(){return{}}function Nt(t,e,n){t[e]=n}function zt(){return Et()}function $t(t,e,n){t.set(e,n)}function Ot(){}At.prototype=Et.prototype={constructor:At,has:function(t){return Mt+t in this},get:function(t){return this[Mt+t]},set:function(t,e){return this[Mt+t]=e,this},remove:function(t){var e=Mt+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Mt&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Mt&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Mt&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Mt&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Mt&&++t;return t},empty:function(){for(var t in this)if(t[0]===Mt)return!1;return!0},each:function(t){for(var e in this)e[0]===Mt&&t(this[e],e.slice(1),this)}};var Tt=Et.prototype;function jt(t){var e=[];for(var n in t)e.push(t[n]);return e}Ot.prototype=function(t,e){var n=new Ot;if(t instanceof Ot)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:Ot,has:Tt.has,add:function(t){return this[Mt+(t+="")]=t,this},remove:Tt.remove,clear:Tt.clear,values:Tt.keys,size:Tt.size,empty:Tt.empty,each:Tt.each};var Lt=Array.prototype,Dt=Lt.map,Yt=Lt.slice,Ct={name:"implicit"};function Rt(){var t=Et(),e=[],n=[],r=Ct;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Ct)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=Et();for(var r,o,a=-1,u=n.length;++a<u;)t.has(o=(r=n[a])+"")||t.set(o,e.push(r));return i},i.range=function(t){return arguments.length?(n=Yt.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Rt(e,n).unknown(r)},_t.apply(i,arguments),i}function Pt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ft(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Bt(){}var It=.7,qt=1/It,Ht="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ut="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vt=/^#([0-9a-f]{3,8})$/,Xt=new RegExp("^rgb\\("+[Ht,Ht,Ht]+"\\)$"),Gt=new RegExp("^rgb\\("+[Ut,Ut,Ut]+"\\)$"),Zt=new RegExp("^rgba\\("+[Ht,Ht,Ht,Wt]+"\\)$"),Kt=new RegExp("^rgba\\("+[Ut,Ut,Ut,Wt]+"\\)$"),Jt=new RegExp("^hsl\\("+[Wt,Ut,Ut]+"\\)$"),Qt=new RegExp("^hsla\\("+[Wt,Ut,Ut,Wt]+"\\)$"),te={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ee(){return this.rgb().formatHex()}function ne(){return this.rgb().formatRgb()}function re(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Vt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ie(e):3===n?new se(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?oe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?oe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Xt.exec(t))?new se(e[1],e[2],e[3],1):(e=Gt.exec(t))?new se(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Zt.exec(t))?oe(e[1],e[2],e[3],e[4]):(e=Kt.exec(t))?oe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Jt.exec(t))?he(e[1],e[2]/100,e[3]/100,1):(e=Qt.exec(t))?he(e[1],e[2]/100,e[3]/100,e[4]):te.hasOwnProperty(t)?ie(te[t]):"transparent"===t?new se(NaN,NaN,NaN,0):null}function ie(t){return new se(t>>16&255,t>>8&255,255&t,1)}function oe(t,e,n,r){return r<=0&&(t=e=n=NaN),new se(t,e,n,r)}function ae(t){return t instanceof Bt||(t=re(t)),t?new se((t=t.rgb()).r,t.g,t.b,t.opacity):new se}function ue(t,e,n,r){return 1===arguments.length?ae(t):new se(t,e,n,null==r?1:r)}function se(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ce(){return"#"+fe(this.r)+fe(this.g)+fe(this.b)}function le(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function fe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function he(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new de(t,e,n,r)}function pe(t){if(t instanceof de)return new de(t.h,t.s,t.l,t.opacity);if(t instanceof Bt||(t=re(t)),!t)return new de;if(t instanceof de)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new de(a,u,s,t.opacity)}function de(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ge(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Pt(Bt,re,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ee,formatHex:ee,formatHsl:function(){return pe(this).formatHsl()},formatRgb:ne,toString:ne}),Pt(se,ue,Ft(Bt,{brighter:function(t){return t=null==t?qt:Math.pow(qt,t),new se(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?It:Math.pow(It,t),new se(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ce,formatHex:ce,formatRgb:le,toString:le})),Pt(de,(function(t,e,n,r){return 1===arguments.length?pe(t):new de(t,e,n,null==r?1:r)}),Ft(Bt,{brighter:function(t){return t=null==t?qt:Math.pow(qt,t),new de(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?It:Math.pow(It,t),new de(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new se(ge(t>=240?t-240:t+120,i,r),ge(t,i,r),ge(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ve=Math.PI/180,me=180/Math.PI,ye=.96422,be=.82521,we=4/29,xe=6/29,_e=3*xe*xe;function Me(t){if(t instanceof Ee)return new Ee(t.l,t.a,t.b,t.opacity);if(t instanceof Oe)return Te(t);t instanceof se||(t=ae(t));var e,n,r=ze(t.r),i=ze(t.g),o=ze(t.b),a=ke((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=ke((.4360747*r+.3850649*i+.1430804*o)/ye),n=ke((.0139322*r+.0971045*i+.7141733*o)/be)),new Ee(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Ae(t,e,n,r){return 1===arguments.length?Me(t):new Ee(t,e,n,null==r?1:r)}function Ee(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ke(t){return t>.008856451679035631?Math.pow(t,1/3):t/_e+we}function Se(t){return t>xe?t*t*t:_e*(t-we)}function Ne(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ze(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $e(t){if(t instanceof Oe)return new Oe(t.h,t.c,t.l,t.opacity);if(t instanceof Ee||(t=Me(t)),0===t.a&&0===t.b)return new Oe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*me;return new Oe(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Oe(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Te(t){if(isNaN(t.h))return new Ee(t.l,0,0,t.opacity);var e=t.h*ve;return new Ee(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Pt(Ee,Ae,Ft(Bt,{brighter:function(t){return new Ee(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Ee(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new se(Ne(3.1338561*(e=ye*Se(e))-1.6168667*(t=1*Se(t))-.4906146*(n=be*Se(n))),Ne(-.9787684*e+1.9161415*t+.033454*n),Ne(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Pt(Oe,(function(t,e,n,r){return 1===arguments.length?$e(t):new Oe(t,e,n,null==r?1:r)}),Ft(Bt,{brighter:function(t){return new Oe(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Oe(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Te(this).rgb()}}));var je=-.14861,Le=1.78277,De=-.29227,Ye=-.90649,Ce=1.97294,Re=Ce*Ye,Pe=Ce*Le,Fe=Le*De-Ye*je;function Be(t){if(t instanceof qe)return new qe(t.h,t.s,t.l,t.opacity);t instanceof se||(t=ae(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Fe*r+Re*e-Pe*n)/(Fe+Re-Pe),o=r-i,a=(Ce*(n-i)-De*o)/Ye,u=Math.sqrt(a*a+o*o)/(Ce*i*(1-i)),s=u?Math.atan2(a,o)*me-120:NaN;return new qe(s<0?s+360:s,u,i,t.opacity)}function Ie(t,e,n,r){return 1===arguments.length?Be(t):new qe(t,e,n,null==r?1:r)}function qe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function He(t){return function(){return t}}function We(t,e){return function(n){return t+n*e}}function Ue(t){return 1==(t=+t)?Ve:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):He(isNaN(e)?n:e)}}function Ve(t,e){var n=e-t;return n?We(t,n):He(isNaN(t)?e:t)}Pt(qe,Ie,Ft(Bt,{brighter:function(t){return t=null==t?qt:Math.pow(qt,t),new qe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?It:Math.pow(It,t),new qe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ve,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new se(255*(e+n*(je*r+Le*i)),255*(e+n*(De*r+Ye*i)),255*(e+n*(Ce*r)),this.opacity)}}));var Xe=function t(e){var n=Ue(e);function r(t,e){var r=n((t=ue(t)).r,(e=ue(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Ve(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Ge(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Ze(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=rn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Ke(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Je(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Qe(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=rn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,en=new RegExp(tn.source,"g");function nn(t,e){var n,r,i,o=tn.lastIndex=en.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=tn.exec(t))&&(r=en.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:Je(n,r)})),o=en.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function rn(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?He(e):("number"===i?Je:"string"===i?(n=re(e))?(e=n,Xe):nn:e instanceof re?Xe:e instanceof Date?Ke:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Ze:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Qe:Je:Ge))(t,e)}function on(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var an,un,sn,cn,ln=180/Math.PI,fn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function hn(t,e,n,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ln,skewX:Math.atan(s)*ln,scaleX:a,scaleY:u}}function pn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:Je(t,i)},{i:s-2,x:Je(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Je(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,s),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Je(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Je(t,n)},{i:u-2,x:Je(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}}var dn=pn((function(t){return"none"===t?fn:(an||(an=document.createElement("DIV"),un=document.documentElement,sn=document.defaultView),an.style.transform=t,t=sn.getComputedStyle(un.appendChild(an),null).getPropertyValue("transform"),un.removeChild(an),hn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),gn=pn((function(t){return null==t?fn:(cn||(cn=document.createElementNS("http://www.w3.org/2000/svg","g")),cn.setAttribute("transform",t),(t=cn.transform.baseVal.consolidate())?hn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):fn)}),", ",")",")"),vn=Math.SQRT2;function mn(t){return((t=Math.exp(t))+1/t)/2}function yn(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],c=e[2],l=u-i,f=s-o,h=l*l+f*f;if(h<1e-12)r=Math.log(c/a)/vn,n=function(t){return[i+t*l,o+t*f,a*Math.exp(vn*t*r)]};else{var p=Math.sqrt(h),d=(c*c-a*a+4*h)/(2*a*2*p),g=(c*c-a*a-4*h)/(2*c*2*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/vn,n=function(t){var e,n=t*r,u=mn(v),s=a/(2*p)*(u*(e=vn*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+s*l,o+s*f,a*u/mn(vn*n+v)]}}return n.duration=1e3*r,n}function bn(t,e){var n=Ve((t=Ae(t)).l,(e=Ae(e)).l),r=Ve(t.a,e.a),i=Ve(t.b,e.b),o=Ve(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function wn(t){return function e(n){function r(e,r){var i=t((e=Ie(e)).h,(r=Ie(r)).h),o=Ve(e.s,r.s),a=Ve(e.l,r.l),u=Ve(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}wn((function(t,e){var n=e-t;return n?We(t,n>180||n<-180?n-360*Math.round(n/360):n):He(isNaN(t)?e:t)}));var xn=wn(Ve);function _n(t){return+t}var Mn=[0,1];function An(t){return t}function En(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function kn(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function Sn(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=En(i,r),o=n(a,o)):(r=En(r,i),o=n(o,a)),function(t){return o(r(t))}}function Nn(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=En(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=gt(t,e,1,r)-1;return o[n](i[n](e))}}function zn(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $n(t,e){return function(){var t,e,n,r,i,o,a=Mn,u=Mn,s=rn,c=An;function l(){return r=Math.min(a.length,u.length)>2?Nn:Sn,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,s)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(u,a.map(t),Je)))(n)))},f.domain=function(t){return arguments.length?(a=Dt.call(t,_n),c===An||(c=kn(a)),l()):a.slice()},f.range=function(t){return arguments.length?(u=Yt.call(t),l()):u.slice()},f.rangeRound=function(t){return u=Yt.call(t),s=on,l()},f.clamp=function(t){return arguments.length?(c=t?kn(a):An,f):c!==An},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}()(t,e)}function On(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Tn(t){return(t=On(Math.abs(t)))?t[1]:NaN}var jn,Ln=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dn(t){if(!(e=Ln.exec(t)))throw new Error("invalid format: "+t);var e;return new Yn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Yn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Cn(t,e){var n=On(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Dn.prototype=Yn.prototype,Yn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Rn={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Cn(100*t,e)},r:Cn,s:function(t,e){var n=On(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(jn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+On(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Pn(t){return t}var Fn,Bn,In,qn=Array.prototype.map,Hn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Wn(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Pn:(e=qn.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Pn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(qn.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Dn(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Rn[y]||(void 0===v&&(v=12),m=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===h?o:/[%p]/.test(y)?s:"",x=Rn[y],_=/[defgprs%]/.test(y);function M(t){var i,o,s,h=b,M=w;if("c"===y)M=x(t)+M,t="";else{var A=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:x(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),A&&0==+t&&"+"!==f&&(A=!1),h=(A?"("===f?f:c:"-"===f||"("===f?"":f)+h,M=("s"===y?Hn[8+jn/3]:"")+M+(A&&"("===f?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!p&&(t=r(t,1/0));var E=h.length+t.length+M.length,k=E<d?new Array(d-E+1).join(e):"";switch(g&&p&&(t=r(k+t,k.length?d-M.length:1/0),k=""),n){case"<":t=h+t+M+k;break;case"=":t=h+k+t+M;break;case"^":t=k.slice(0,E=k.length>>1)+h+t+M+k.slice(E);break;default:t=k+h+t+M}return u(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n=f(((t=Dn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Tn(e)/3))),i=Math.pow(10,-r),o=Hn[8+r/3];return function(t){return n(i*t)+o}}}}function Un(t){return Math.max(0,-Tn(Math.abs(t)))}function Vn(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Tn(e)/3)))-Tn(Math.abs(t)))}function Xn(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Tn(e)-Tn(t))+1}function Gn(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=mt?i*=10:o>=yt?i*=5:o>=bt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Dn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Vn(o,a))||(r.precision=i),In(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Xn(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Un(o))||(r.precision=i-2*("%"===r.type))}return Bn(r)}function Zn(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=wt(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Gn(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,u=i[o],s=i[a];return s<u&&(r=u,u=s,s=r,r=o,o=a,a=r),(r=wt(u,s,n))>0?r=wt(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=wt(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,n)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(s/r)*r,e(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(s*r)/r,e(i)),t},t}function Kn(){var t=$n(An,An);return t.copy=function(){return zn(t,Kn())},_t.apply(t,arguments),Zn(t)}Fn=Wn({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Bn=Fn.format,In=Fn.formatPrefix;var Jn={value:function(){}};function Qn(){for(var t,e=arguments,n=0,r=arguments.length,i={};n<r;++n){if(!(t=e[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new tr(i)}function tr(t){this._=t}function er(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function nr(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function rr(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Jn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function ir(){K.preventDefault(),K.stopImmediatePropagation()}function or(t){var e=t.document.documentElement,n=ct(t).on("dragstart.drag",ir,!0);"onselectstart"in e?n.on("selectstart.drag",ir,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function ar(t,e){var n=t.document.documentElement,r=ct(t).on("dragstart.drag",null);e&&(r.on("click.drag",ir,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}tr.prototype=Qn.prototype={constructor:tr,on:function(t,e){var n,r=this._,i=er(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=rr(r[n],t.name,e);else if(null==e)for(n in r)r[n]=rr(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=nr(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tr(t)},call:function(t,e){var n=arguments;if((r=arguments.length-2)>0)for(var r,i,o=new Array(r),a=0;a<r;++a)o[a]=n[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,r=(i=this._[t]).length;a<r;++a)i[a].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var ur,sr,cr=0,lr=0,fr=0,hr=0,pr=0,dr=0,gr="object"==typeof performance&&performance.now?performance:Date,vr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mr(){return pr||(vr(yr),pr=gr.now()+dr)}function yr(){pr=0}function br(){this._call=this._time=this._next=null}function wr(t,e,n){var r=new br;return r.restart(t,e,n),r}function xr(){pr=(hr=gr.now())+dr,cr=lr=0;try{!function(){mr(),++cr;for(var t,e=ur;e;)(t=pr-e._time)>=0&&e._call.call(null,t),e=e._next;--cr}()}finally{cr=0,function(){var t,e,n=ur,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ur=e);sr=t,Mr(r)}(),pr=0}}function _r(){var t=gr.now(),e=t-hr;e>1e3&&(dr-=e,hr=t)}function Mr(t){cr||(lr&&(lr=clearTimeout(lr)),t-pr>24?(t<1/0&&(lr=setTimeout(xr,t-gr.now()-dr)),fr&&(fr=clearInterval(fr))):(fr||(hr=gr.now(),fr=setInterval(_r,1e3)),cr=1,vr(xr)))}function Ar(t,e,n){var r=new br;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}br.prototype=wr.prototype={constructor:br,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?mr():+n)+(null==e?0:+e),this._next||sr===this||(sr?sr._next=this:ur=this,sr=this),this._call=t,this._time=n,Mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mr())}};var Er=Qn("start","end","cancel","interrupt"),kr=[];function Sr(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,l,f,h;if(1!==n.state)return s();for(c in i)if((h=i[c]).name===n.name){if(3===h.state)return Ar(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[c]):+c<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[c])}if(Ar((function(){3===n.state&&(n.state=4,n.timer.restart(u,n.delay,n.time),u(o))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(h=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=h);r.length=l+1}}function u(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=wr(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Er,tween:kr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Nr(t,e){var n=$r(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function zr(t,e){var n=$r(t,e);if(n.state>3)throw new Error("too late; already running");return n}function $r(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Or(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function Tr(t,e){var n,r;return function(){var i=zr(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function jr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=zr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},s=0,c=i.length;s<c;++s)if(i[s].name===e){i[s]=u;break}s===c&&i.push(u)}o.tween=i}}function Lr(t,e,n){var r=t._id;return t.each((function(){var t=zr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return $r(t,r).value[e]}}function Dr(t,e){var n;return("number"==typeof e?Je:e instanceof re?Xe:(n=re(e))?(e=n,Xe):nn)(t,e)}function Yr(t){return function(){this.removeAttribute(t)}}function Cr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Pr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Fr(t,e,n){var r,i,o;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s));this.removeAttribute(t)}}function Br(t,e,n){var r,i,o;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,s));this.removeAttributeNS(t.space,t.local)}}function Ir(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function qr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Hr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&qr(t,i)),n}return i._value=e,i}function Wr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ir(t,i)),n}return i._value=e,i}function Ur(t,e){return function(){Nr(this,t).delay=+e.apply(this,arguments)}}function Vr(t,e){return e=+e,function(){Nr(this,t).delay=e}}function Xr(t,e){return function(){zr(this,t).duration=+e.apply(this,arguments)}}function Gr(t,e){return e=+e,function(){zr(this,t).duration=e}}function Zr(t,e){if("function"!=typeof e)throw new Error;return function(){zr(this,t).ease=e}}function Kr(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Nr:zr;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}var Jr=st.prototype.constructor;function Qr(t){return function(){this.style.removeProperty(t)}}function ti(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ei(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&ti(t,o,n)),r}return o._value=e,o}function ni(t){return function(e){this.textContent=t.call(this,e)}}function ri(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&ni(r)),e}return r._value=t,r}var ii=0;function oi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ai(t){return st().transition(t)}function ui(){return++ii}var si=st.prototype;oi.prototype=ai.prototype={constructor:oi,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=u(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,c,l=r[a],f=l.length,h=o[a]=new Array(f),p=0;p<f;++p)(s=l[p])&&(c=t.call(s,s.__data__,p,l))&&("__data__"in s&&(c.__data__=s.__data__),h[p]=c,Sr(h[p],e,n,p,h,$r(s,n)));return new oi(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=c(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,l=r[u],f=l.length,h=0;h<f;++h)if(s=l[h]){for(var p,d=t.call(s,s.__data__,h,l),g=$r(s,n),v=0,m=d.length;v<m;++v)(p=d[v])&&Sr(p,e,n,v,d,g);o.push(d),a.push(s)}return new oi(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new oi(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=e[u];return new oi(a,this._parents,this._name,this._id)},selection:function(){return new Jr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ui(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)if(a=u[c]){var l=$r(a,e);Sr(a,t,n,c,u,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new oi(r,this._parents,t,n)},call:si.call,nodes:si.nodes,node:si.node,size:si.size,empty:si.empty,each:si.each,on:function(t,e){var n=this._id;return arguments.length<2?$r(this.node(),n).on.on(t):this.each(Kr(n,t,e))},attr:function(t,e){var r=n(t),i="transform"===r?gn:Dr;return this.attrTween(t,"function"==typeof e?(r.local?Br:Fr)(r,i,Lr(this,"attr."+t,e)):null==e?(r.local?Cr:Yr)(r):(r.local?Pr:Rr)(r,i,e))},attrTween:function(t,e){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;var i=n(t);return this.tween(r,(i.local?Hr:Wr)(i,e))},style:function(t,e,n){var r="transform"==(t+="")?dn:Dr;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=k(this,t),a=(this.style.removeProperty(t),k(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Qr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=k(this,t),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=k(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u))}}(t,r,Lr(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var s=zr(this,t),c=s.on,l=null==s.value[a]?o||(o=Qr(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(u,i=l),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=k(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,ei(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Lr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,ri(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=$r(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Tr:jr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ur:Vr)(e,t)):$r(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xr:Gr)(e,t)):$r(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Zr(e,t)):$r(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};n.each((function(){var n=zr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(s)),n.on=e}))}))}};var ci={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function li(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ci.time=mr(),ci;return n}function fi(t){return function(){return t}}function hi(t,e,n){this.target=t,this.type=e,this.transform=n}function pi(t,e,n){this.k=t,this.x=e,this.y=n}st.prototype.interrupt=function(t){return this.each((function(){Or(this,t)}))},st.prototype.transition=function(t){var e,n;t instanceof oi?(e=t._id,t=t._name):(e=ui(),(n=ci).time=mr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,c=0;c<s;++c)(a=u[c])&&Sr(a,t,e,c,u,n||li(a,e));return new oi(r,this._parents,t,e)},pi.prototype={constructor:pi,scale:function(t){return 1===t?this:new pi(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new pi(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var di=new pi(1,0,0);function gi(t){for(;!t.__zoom;)if(!(t=t.parentNode))return di;return t.__zoom}function vi(){K.stopImmediatePropagation()}function mi(){K.preventDefault(),K.stopImmediatePropagation()}function yi(){return!K.ctrlKey&&!K.button}function bi(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function wi(){return this.__zoom||di}function xi(){return-K.deltaY*(1===K.deltaMode?.05:K.deltaMode?1:.002)}function _i(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mi(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Ai(){var t,e,n=yi,r=bi,i=Mi,o=xi,a=_i,u=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],c=250,l=yn,f=Qn("start","zoom","end"),h=500,p=0;function d(t){t.property("__zoom",wi).on("wheel.zoom",x).on("mousedown.zoom",_).on("dblclick.zoom",M).filter(a).on("touchstart.zoom",A).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",k).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(u[0],Math.min(u[1],e)))===t.k?t:new pi(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new pi(t.k,r,i)}function m(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,e,n){t.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=b(t,i),a=r.apply(t,i),u=null==n?m(a):"function"==typeof n?n.apply(t,i):n,s=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,i):e,h=l(c.invert(u).concat(s/c.k),f.invert(u).concat(s/f.k));return function(t){if(1===t)t=f;else{var e=h(t),n=s/e[2];t=new pi(n,u[0]-e[0]*n,u[1]-e[1]*n)}o.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function x(){if(n.apply(this,arguments)){var t=b(this,arguments),e=this.__zoom,r=Math.max(u[0],Math.min(u[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=ht(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],Or(this),t.start()}mi(),t.wheel=setTimeout(c,150),t.zoom("mouse",i(v(g(e,r),t.mouse[0],t.mouse[1]),t.extent,s))}function c(){t.wheel=null,t.end()}}function _(){if(!e&&n.apply(this,arguments)){var t=b(this,arguments,!0),r=ct(K.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",l,!0),o=ht(this),a=K.clientX,u=K.clientY;or(K.view),vi(),t.mouse=[o,this.__zoom.invert(o)],Or(this),t.start()}function c(){if(mi(),!t.moved){var e=K.clientX-a,n=K.clientY-u;t.moved=e*e+n*n>p}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=ht(t.that),t.mouse[1]),t.extent,s))}function l(){r.on("mousemove.zoom mouseup.zoom",null),ar(K.view,t.moved),mi(),t.end()}}function M(){if(n.apply(this,arguments)){var t=this.__zoom,e=ht(this),o=t.invert(e),a=t.k*(K.shiftKey?.5:2),u=i(v(g(t,a),e,o),r.apply(this,arguments),s);mi(),c>0?ct(this).transition().duration(c).call(y,u,e):ct(this).call(d.transform,u)}}function A(){if(n.apply(this,arguments)){var e,r,i,o,a=K.touches,u=a.length,s=b(this,arguments,K.changedTouches.length===u);for(vi(),r=0;r<u;++r)o=[o=pt(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],s.touch0?s.touch1||s.touch0[2]===o[2]||(s.touch1=o,s.taps=0):(s.touch0=o,e=!0,s.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(s.taps<2&&(t=setTimeout((function(){t=null}),h)),Or(this),s.start())}}function E(){if(this.__zooming){var e,n,r,o,a=b(this,arguments),u=K.changedTouches,c=u.length;for(mi(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<c;++e)r=pt(this,u,(n=u[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var l=a.touch0[0],f=a.touch0[1],h=a.touch1[0],p=a.touch1[1],d=(d=h[0]-l[0])*d+(d=h[1]-l[1])*d,m=(m=p[0]-f[0])*m+(m=p[1]-f[1])*m;n=g(n,Math.sqrt(d/m)),r=[(l[0]+h[0])/2,(l[1]+h[1])/2],o=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(n,r,o),a.extent,s))}}function k(){if(this.__zooming){var t,n,r=b(this,arguments),i=K.changedTouches,o=i.length;for(vi(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),h),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=ct(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return d.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",wi),t!==r?y(t,e,n):r.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},d.scaleBy=function(t,e,n){d.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},d.scaleTo=function(t,e,n){d.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?m(t):"function"==typeof n?n.apply(this,arguments):n,u=o.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return i(v(g(o,c),a,u),t,s)}),n)},d.translateBy=function(t,e,n){d.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),s)}))},d.translateTo=function(t,e,n,o){d.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,u=null==o?m(t):"function"==typeof o?o.apply(this,arguments):o;return i(di.translate(u[0],u[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,s)}),o)},w.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){!function(t,e,n,r){var i=K;t.sourceEvent=K,K=t;try{e.apply(n,r)}finally{K=i}}(new hi(d,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},d.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:fi(+t),d):o},d.filter=function(t){return arguments.length?(n="function"==typeof t?t:fi(!!t),d):n},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:fi(!!t),d):a},d.extent=function(t){return arguments.length?(r="function"==typeof t?t:fi([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),d):r},d.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],d):[u[0],u[1]]},d.translateExtent=function(t){return arguments.length?(s[0][0]=+t[0][0],s[1][0]=+t[1][0],s[0][1]=+t[0][1],s[1][1]=+t[1][1],d):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},d.constrain=function(t){return arguments.length?(i=t,d):i},d.duration=function(t){return arguments.length?(c=+t,d):c},d.interpolate=function(t){return arguments.length?(l=t,d):l},d.on=function(){var t=f.on.apply(f,arguments);return t===f?d:t},d.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,d):Math.sqrt(p)},d}function Ei(t,e){var n=this.node();return n?n.getBBox?this.attr("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this}function ki(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function Si(t){var e,n;"function"==typeof t?e=t:(n=ki(t),e=o(n.tag));var r=this.select((function(){return this.appendChild(e.apply(this,arguments))}));if(n)for(var i in n.attr)r.attr(i,n.attr[i]);return r}function Ni(){return null}function zi(t,e){return this.selectAll("tspan").data((function(e){return("function"==typeof t?t(e):t).map((function(t){return{line:t,parent:e}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,n){return n?("function"==typeof e?e(t.parent,t.line,n):e)||15:0}))}function $i(t,e){if("object"==typeof t){for(var n in t)this.attr(n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)}function Oi(){for(var t=arguments,e=0,n=t.length;e<n;)"string"!=typeof t[e]&&"number"!=typeof t[e]||(t[e]=function(t){return function(e){return e[t]}}(t[e])),e++;return function(e){for(var n=0,r=t.length;n++<r;)e=t[n-1].call(this,e);return e}}function Ti(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width  margin-top margin-left margin-bottom margin-right font-size width height stroke-width line-height margin padding border border-radius max-width min-width".indexOf(e)?t.style(e,"function"==typeof n?o(n):i(n)):t.style(e,n),t}function i(t){return t.match?t:t+"px"}function o(t){return function(){var e=t.apply(this,arguments);return i(e)}}}gi.prototype=pi.prototype,Oi.not=function(t){return!t},Oi.run=function(t){return t()},Oi.objToFn=function(t,e){return 1==arguments.length&&(e=void 0),function(n){return void 0!==t[n]?t[n]:e}};var ji={A:7,a:7,B:8,b:7,C:8,c:6,D:9,d:7,E:7,e:7,F:7,f:4,G:9,g:7,H:9,h:7,I:3,i:3,J:5,j:3,K:8,k:6,L:7,l:3,M:11,m:11,N:9,n:7,O:9,o:7,P:8,p:7,Q:9,q:7,R:8,r:4,S:8,s:6,T:7,t:4,U:9,u:7,V:7,v:6,W:11,w:9,X:7,x:6,Y:7,y:6,Z:7,z:5,".":2,",":2,":":2,";":2};function Li(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}Li("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Li("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Li("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Li("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),xn(Ie(300,.5,0),Ie(-240,.5,1));xn(Ie(-100,.75,.35),Ie(80,1.5,.8)),xn(Ie(260,.75,.35),Ie(80,1.5,.8)),Ie();function Di(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}Di(Li("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Di(Li("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Di(Li("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Di(Li("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Yi(){return new Ci}function Ci(){this.reset()}st.prototype.translate=Ei,ai.prototype.translate=Ei,st.prototype.append=Si,st.prototype.insert=function(t,e){var n=ki(t),r=o(n.tag),i=null==e?Ni:"function"==typeof e?e:u(e),a=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var s in n.attr)a.attr(s,n.attr[s]);return a},st.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1)&&(t.push(this.parentNode),!0)})).select((function(){return this.parentNode}))},st.prototype.selectAppend=function(t){var e,n=u(t),r=ki(t);for(var i in t=o(r.tag),e=this.select((function(){return n.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)e.attr(i,r.attr[i]);return e},st.prototype.tspans=zi,st.prototype.appendMany=function(t,e){if("string"==typeof e){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=e;e=t,t=n}return this.selectAll(null).data(e).enter().append(t)},st.prototype.at=$i,st.prototype.st=Ti,ai.prototype.at=$i,ai.prototype.st=Ti,st.prototype.prop=st.prototype.property,Ci.prototype={constructor:Ci,reset:function(){this.s=this.t=0},add:function(t){Pi(Ri,t,this.t),Pi(this,Ri.s,this.s),this.s?this.t+=Ri.t:this.s=Ri.t},valueOf:function(){return this.s}};var Ri=new Ci;function Pi(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Fi=1e-6,Bi=1e-12,Ii=Math.PI,qi=Ii/2,Hi=Ii/4,Wi=2*Ii,Ui=180/Ii,Vi=Ii/180,Xi=Math.abs,Gi=Math.atan,Zi=Math.atan2,Ki=Math.cos,Ji=Math.ceil,Qi=Math.exp,to=Math.log,eo=Math.pow,no=Math.sin,ro=Math.sign||function(t){return t>0?1:t<0?-1:0},io=Math.sqrt,oo=Math.tan;function ao(t){return t>1?0:t<-1?Ii:Math.acos(t)}function uo(t){return t>1?qi:t<-1?-qi:Math.asin(t)}function so(t){return(t=no(t/2))*t}function co(){}function lo(t,e){t&&ho.hasOwnProperty(t.type)&&ho[t.type](t,e)}var fo={Feature:function(t,e){lo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)lo(n[r].geometry,e)}},ho={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){po(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)po(n[r],e,0)},Polygon:function(t,e){go(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)go(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)lo(n[r],e)}};function po(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function go(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)po(t[n],e,1);e.polygonEnd()}function vo(t,e){t&&fo.hasOwnProperty(t.type)?fo[t.type](t,e):lo(t,e)}var mo,yo,bo,wo,xo,_o=Yi(),Mo=Yi(),Ao={point:co,lineStart:co,lineEnd:co,polygonStart:function(){_o.reset(),Ao.lineStart=Eo,Ao.lineEnd=ko},polygonEnd:function(){var t=+_o;Mo.add(t<0?Wi+t:t),this.lineStart=this.lineEnd=this.point=co},sphere:function(){Mo.add(Wi)}};function Eo(){Ao.point=So}function ko(){No(mo,yo)}function So(t,e){Ao.point=No,mo=t,yo=e,bo=t*=Vi,wo=Ki(e=(e*=Vi)/2+Hi),xo=no(e)}function No(t,e){var n=(t*=Vi)-bo,r=n>=0?1:-1,i=r*n,o=Ki(e=(e*=Vi)/2+Hi),a=no(e),u=xo*a,s=wo*o+u*Ki(i),c=u*r*no(i);_o.add(Zi(c,s)),bo=t,wo=o,xo=a}function zo(t){return[Zi(t[1],t[0]),uo(t[2])]}function $o(t){var e=t[0],n=t[1],r=Ki(n);return[r*Ki(e),r*no(e),no(n)]}function Oo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function To(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function jo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Lo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Do(t){var e=io(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Yo,Co,Ro,Po,Fo,Bo,Io,qo,Ho,Wo,Uo,Vo,Xo,Go,Zo,Ko,Jo,Qo,ta,ea,na,ra,ia,oa,aa,ua,sa=Yi(),ca={point:la,lineStart:ha,lineEnd:pa,polygonStart:function(){ca.point=da,ca.lineStart=ga,ca.lineEnd=va,sa.reset(),Ao.polygonStart()},polygonEnd:function(){Ao.polygonEnd(),ca.point=la,ca.lineStart=ha,ca.lineEnd=pa,_o<0?(Yo=-(Ro=180),Co=-(Po=90)):sa>Fi?Po=90:sa<-Fi&&(Co=-90),Wo[0]=Yo,Wo[1]=Ro},sphere:function(){Yo=-(Ro=180),Co=-(Po=90)}};function la(t,e){Ho.push(Wo=[Yo=t,Ro=t]),e<Co&&(Co=e),e>Po&&(Po=e)}function fa(t,e){var n=$o([t*Vi,e*Vi]);if(qo){var r=To(qo,n),i=To([r[1],-r[0],0],r);Do(i),i=zo(i);var o,a=t-Fo,u=a>0?1:-1,s=i[0]*Ui*u,c=Xi(a)>180;c^(u*Fo<s&&s<u*t)?(o=i[1]*Ui)>Po&&(Po=o):c^(u*Fo<(s=(s+360)%360-180)&&s<u*t)?(o=-i[1]*Ui)<Co&&(Co=o):(e<Co&&(Co=e),e>Po&&(Po=e)),c?t<Fo?ma(Yo,t)>ma(Yo,Ro)&&(Ro=t):ma(t,Ro)>ma(Yo,Ro)&&(Yo=t):Ro>=Yo?(t<Yo&&(Yo=t),t>Ro&&(Ro=t)):t>Fo?ma(Yo,t)>ma(Yo,Ro)&&(Ro=t):ma(t,Ro)>ma(Yo,Ro)&&(Yo=t)}else Ho.push(Wo=[Yo=t,Ro=t]);e<Co&&(Co=e),e>Po&&(Po=e),qo=n,Fo=t}function ha(){ca.point=fa}function pa(){Wo[0]=Yo,Wo[1]=Ro,ca.point=la,qo=null}function da(t,e){if(qo){var n=t-Fo;sa.add(Xi(n)>180?n+(n>0?360:-360):n)}else Bo=t,Io=e;Ao.point(t,e),fa(t,e)}function ga(){Ao.lineStart()}function va(){da(Bo,Io),Ao.lineEnd(),Xi(sa)>Fi&&(Yo=-(Ro=180)),Wo[0]=Yo,Wo[1]=Ro,qo=null}function ma(t,e){return(e-=t)<0?e+360:e}function ya(t,e){return t[0]-e[0]}function ba(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var wa={sphere:co,point:xa,lineStart:Ma,lineEnd:ka,polygonStart:function(){wa.lineStart=Sa,wa.lineEnd=Na},polygonEnd:function(){wa.lineStart=Ma,wa.lineEnd=ka}};function xa(t,e){t*=Vi;var n=Ki(e*=Vi);_a(n*Ki(t),n*no(t),no(e))}function _a(t,e,n){++Uo,Xo+=(t-Xo)/Uo,Go+=(e-Go)/Uo,Zo+=(n-Zo)/Uo}function Ma(){wa.point=Aa}function Aa(t,e){t*=Vi;var n=Ki(e*=Vi);oa=n*Ki(t),aa=n*no(t),ua=no(e),wa.point=Ea,_a(oa,aa,ua)}function Ea(t,e){t*=Vi;var n=Ki(e*=Vi),r=n*Ki(t),i=n*no(t),o=no(e),a=Zi(io((a=aa*o-ua*i)*a+(a=ua*r-oa*o)*a+(a=oa*i-aa*r)*a),oa*r+aa*i+ua*o);Vo+=a,Ko+=a*(oa+(oa=r)),Jo+=a*(aa+(aa=i)),Qo+=a*(ua+(ua=o)),_a(oa,aa,ua)}function ka(){wa.point=xa}function Sa(){wa.point=za}function Na(){$a(ra,ia),wa.point=xa}function za(t,e){ra=t,ia=e,t*=Vi,e*=Vi,wa.point=$a;var n=Ki(e);oa=n*Ki(t),aa=n*no(t),ua=no(e),_a(oa,aa,ua)}function $a(t,e){t*=Vi;var n=Ki(e*=Vi),r=n*Ki(t),i=n*no(t),o=no(e),a=aa*o-ua*i,u=ua*r-oa*o,s=oa*i-aa*r,c=io(a*a+u*u+s*s),l=uo(c),f=c&&-l/c;ta+=f*a,ea+=f*u,na+=f*s,Vo+=l,Ko+=l*(oa+(oa=r)),Jo+=l*(aa+(aa=i)),Qo+=l*(ua+(ua=o)),_a(oa,aa,ua)}function Oa(t){return function(){return t}}function Ta(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function ja(t,e){return[Xi(t)>Ii?t+Math.round(-t/Wi)*Wi:t,e]}function La(t,e,n){return(t%=Wi)?e||n?Ta(Ya(t),Ca(e,n)):Ya(t):e||n?Ca(e,n):ja}function Da(t){return function(e,n){return[(e+=t)>Ii?e-Wi:e<-Ii?e+Wi:e,n]}}function Ya(t){var e=Da(t);return e.invert=Da(-t),e}function Ca(t,e){var n=Ki(t),r=no(t),i=Ki(e),o=no(e);function a(t,e){var a=Ki(e),u=Ki(t)*a,s=no(t)*a,c=no(e),l=c*n+u*r;return[Zi(s*i-l*o,u*n-c*r),uo(l*i+s*o)]}return a.invert=function(t,e){var a=Ki(e),u=Ki(t)*a,s=no(t)*a,c=no(e),l=c*i-s*o;return[Zi(s*i+c*o,u*n+l*r),uo(l*n-u*r)]},a}function Ra(t){function e(e){return(e=t(e[0]*Vi,e[1]*Vi))[0]*=Ui,e[1]*=Ui,e}return t=La(t[0]*Vi,t[1]*Vi,t.length>2?t[2]*Vi:0),e.invert=function(e){return(e=t.invert(e[0]*Vi,e[1]*Vi))[0]*=Ui,e[1]*=Ui,e},e}function Pa(t,e,n,r,i,o){if(n){var a=Ki(e),u=no(e),s=r*n;null==i?(i=e+r*Wi,o=e-s/2):(i=Fa(a,i),o=Fa(a,o),(r>0?i<o:i>o)&&(i+=r*Wi));for(var c,l=i;r>0?l>o:l<o;l-=s)c=zo([a,-u*Ki(l),-u*no(l)]),t.point(c[0],c[1])}}function Fa(t,e){(e=$o(e))[0]-=t,Do(e);var n=ao(-e[1]);return((-e[2]<0?-n:n)+Wi-Fi)%Wi}function Ba(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:co,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ia(t,e){return Xi(t[0]-e[0])<Fi&&Xi(t[1]-e[1])<Fi}function qa(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ha(t,e,n,r,i){var o,a,u=[],s=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Ia(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(n=new qa(r,t,null,!0)),s.push(n.o=new qa(r,null,n,!1)),u.push(n=new qa(a,t,null,!1)),s.push(n.o=new qa(a,null,n,!0))}})),u.length){for(s.sort(e),Wa(u),Wa(s),o=0,a=s.length;o<a;++o)s[o].e=n=!n;for(var c,l,f=u[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);i.lineEnd()}}}function Wa(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}ja.invert=ja;var Ua=Yi();function Va(t){return Xi(t[0])<=Ii?t[0]:ro(t[0])*((Xi(t[0])+Ii)%Wi-Ii)}function Xa(t,e){var n=Va(e),r=e[1],i=no(r),o=[no(n),-Ki(n),0],a=0,u=0;Ua.reset(),1===i?r=qi+Fi:-1===i&&(r=-qi-Fi);for(var s=0,c=t.length;s<c;++s)if(f=(l=t[s]).length)for(var l,f,h=l[f-1],p=Va(h),d=h[1]/2+Hi,g=no(d),v=Ki(d),m=0;m<f;++m,p=b,g=x,v=_,h=y){var y=l[m],b=Va(y),w=y[1]/2+Hi,x=no(w),_=Ki(w),M=b-p,A=M>=0?1:-1,E=A*M,k=E>Ii,S=g*x;if(Ua.add(Zi(S*A*no(E),v*_+S*Ki(E))),a+=k?M+A*Wi:M,k^p>=n^b>=n){var N=To($o(h),$o(y));Do(N);var z=To(o,N);Do(z);var $=(k^M>=0?-1:1)*uo(z[2]);(r>$||r===$&&(N[0]||N[1]))&&(u+=k^M>=0?1:-1)}}return(a<-Fi||a<Fi&&Ua<-Fi)^1&u}function Ga(t,e,n,r){return function(i){var o,a,u,s=e(i),c=Ba(),l=e(c),f=!1,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=b,a=[],o=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,a=xt(a);var t=Xa(o,r);a.length?(f||(i.polygonStart(),f=!0),Ha(a,Ka,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function d(t,e){s.point(t,e)}function g(){h.point=d,s.lineStart()}function v(){h.point=p,s.lineEnd()}function m(t,e){u.push([t,e]),l.point(t,e)}function y(){l.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),l.lineEnd();var t,e,n,r,s=l.clean(),h=c.result(),p=h.length;if(u.pop(),o.push(u),u=null,p)if(1&s){if((e=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else p>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(Za))}return h}}function Za(t){return t.length>1}function Ka(t,e){return((t=t.x)[0]<0?t[1]-qi-Fi:qi-t[1])-((e=e.x)[0]<0?e[1]-qi-Fi:qi-e[1])}var Ja=Ga((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u=o>0?Ii:-Ii,s=Xi(o-n);Xi(s-Ii)<Fi?(t.point(n,r=(r+a)/2>0?qi:-qi),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),e=0):i!==u&&s>=Ii&&(Xi(n-i)<Fi&&(n-=i*Fi),Xi(o-u)<Fi&&(o-=u*Fi),r=function(t,e,n,r){var i,o,a=no(t-n);return Xi(a)>Fi?Gi((no(e)*(o=Ki(r))*no(n)-no(r)*(i=Ki(e))*no(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),e=0),t.point(n=o,r=a),i=u},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*qi,r.point(-Ii,i),r.point(0,i),r.point(Ii,i),r.point(Ii,0),r.point(Ii,-i),r.point(0,-i),r.point(-Ii,-i),r.point(-Ii,0),r.point(-Ii,i);else if(Xi(t[0]-e[0])>Fi){var o=t[0]<e[0]?Ii:-Ii;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Ii,-qi]);function Qa(t){var e=Ki(t),n=6*Vi,r=e>0,i=Xi(e)>Fi;function o(t,n){return Ki(t)*Ki(n)>e}function a(t,n,r){var i=[1,0,0],o=To($o(t),$o(n)),a=Oo(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var c=e*a/s,l=-e*u/s,f=To(i,o),h=Lo(i,c);jo(h,Lo(o,l));var p=f,d=Oo(h,p),g=Oo(p,p),v=d*d-g*(Oo(h,h)-1);if(!(v<0)){var m=io(v),y=Lo(p,(-d-m)/g);if(jo(y,h),y=zo(y),!r)return y;var b,w=t[0],x=n[0],_=t[1],M=n[1];x<w&&(b=w,w=x,x=b);var A=x-w,E=Xi(A-Ii)<Fi;if(!E&&M<_&&(b=_,_=M,M=b),E||A<Fi?E?_+M>0^y[1]<(Xi(y[0]-w)<Fi?_:M):_<=y[1]&&y[1]<=M:A>Ii^(w<=y[0]&&y[0]<=x)){var k=Lo(p,(-d+m)/g);return jo(k,h),[y,zo(k)]}}}function u(e,n){var i=r?t:Ii-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Ga(o,(function(t){var e,n,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,h){var p,d=[f,h],g=o(f,h),v=r?g?0:u(f,h):g?u(f+(f<0?Ii:-Ii),h):0;if(!e&&(c=s=g)&&t.lineStart(),g!==s&&(!(p=a(e,d))||Ia(e,p)||Ia(d,p))&&(d[2]=1),g!==s)l=0,g?(t.lineStart(),p=a(d,e),t.point(p[0],p[1])):(p=a(e,d),t.point(p[0],p[1],2),t.lineEnd()),e=p;else if(i&&e&&r^g){var m;v&n||!(m=a(d,e,!0))||(l=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||e&&Ia(e,d)||t.point(d[0],d[1]),e=d,s=g,n=v},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return l|(c&&s)<<1}}}),(function(e,r,i,o){Pa(o,t,n,i,e,r)}),r?[0,-t]:[-Ii,t-Ii])}var tu=1e9,eu=-tu;function nu(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,u,c){var l=0,f=0;if(null==i||(l=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+u+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return Xi(r[0]-t)<Fi?i>0?0:3:Xi(r[0]-n)<Fi?i>0?2:1:Xi(r[1]-e)<Fi?i>0?1:0:i>0?3:2}function u(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var s,c,l,f,h,p,d,g,v,m,y,b=a,w=Ba(),x={point:_,lineStart:function(){x.point=M,c&&c.push(l=[]);m=!0,v=!1,d=g=NaN},lineEnd:function(){s&&(M(f,h),p&&v&&w.rejoin(),s.push(w.result()));x.point=_,v&&b.lineEnd()},polygonStart:function(){b=w,s=[],c=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,u=c[n],s=1,l=u.length,f=u[0],h=f[0],p=f[1];s<l;++s)o=h,a=p,h=(f=u[s])[0],p=f[1],a<=r?p>r&&(h-o)*(r-a)>(p-a)*(t-o)&&++e:p<=r&&(h-o)*(r-a)<(p-a)*(t-o)&&--e;return e}(),n=y&&e,i=(s=xt(s)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Ha(s,u,e,o,a),a.polygonEnd());b=a,s=c=l=null}};function _(t,e){i(t,e)&&b.point(t,e)}function M(o,a){var u=i(o,a);if(c&&l.push([o,a]),m)f=o,h=a,p=u,m=!1,u&&(b.lineStart(),b.point(o,a));else if(u&&v)b.point(o,a);else{var s=[d=Math.max(eu,Math.min(tu,d)),g=Math.max(eu,Math.min(tu,g))],w=[o=Math.max(eu,Math.min(tu,o)),a=Math.max(eu,Math.min(tu,a))];!function(t,e,n,r,i,o){var a,u=t[0],s=t[1],c=0,l=1,f=e[0]-u,h=e[1]-s;if(a=n-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=u+c*f,t[1]=s+c*h),l<1&&(e[0]=u+l*f,e[1]=s+l*h),!0}}}}}(s,w,t,e,n,r)?u&&(b.lineStart(),b.point(o,a),y=!1):(v||(b.lineStart(),b.point(s[0],s[1])),b.point(w[0],w[1]),u||b.lineEnd(),y=!1)}d=o,g=a,v=u}return x}}var ru,iu,ou,au=Yi(),uu={sphere:co,point:co,lineStart:function(){uu.point=cu,uu.lineEnd=su},lineEnd:co,polygonStart:co,polygonEnd:co};function su(){uu.point=uu.lineEnd=co}function cu(t,e){ru=t*=Vi,iu=no(e*=Vi),ou=Ki(e),uu.point=lu}function lu(t,e){t*=Vi;var n=no(e*=Vi),r=Ki(e),i=Xi(t-ru),o=Ki(i),a=r*no(i),u=ou*n-iu*r*o,s=iu*n+ou*r*o;au.add(Zi(io(a*a+u*u),s)),ru=t,iu=n,ou=r}function fu(t){return au.reset(),vo(t,uu),+au}var hu=[null,null],pu={type:"LineString",coordinates:hu};function du(t,e){return hu[0]=t,hu[1]=e,fu(pu)}var gu={Feature:function(t,e){return mu(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(mu(n[r].geometry,e))return!0;return!1}},vu={Sphere:function(){return!0},Point:function(t,e){return yu(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(yu(n[r],e))return!0;return!1},LineString:function(t,e){return bu(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(bu(n[r],e))return!0;return!1},Polygon:function(t,e){return wu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(wu(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(mu(n[r],e))return!0;return!1}};function mu(t,e){return!(!t||!vu.hasOwnProperty(t.type))&&vu[t.type](t,e)}function yu(t,e){return 0===du(t,e)}function bu(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=du(t[o],e)))return!0;if(o>0&&(i=du(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Bi*i)return!0;n=r}return!1}function wu(t,e){return!!Xa(t.map(xu),_u(e))}function xu(t){return(t=t.map(_u)).pop(),t}function _u(t){return[t[0]*Vi,t[1]*Vi]}function Mu(t,e,n){var r=vt(t,e-Fi,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Au(t,e,n){var r=vt(t,e-Fi,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Eu(){var t,e,n,r,i,o,a,u,s,c,l,f,h=10,p=h,d=90,g=360,v=2.5;function m(){return{type:"MultiLineString",coordinates:y()}}function y(){return vt(Ji(r/d)*d,n,d).map(l).concat(vt(Ji(u/g)*g,a,g).map(f)).concat(vt(Ji(e/h)*h,t,h).filter((function(t){return Xi(t%d)>Fi})).map(s)).concat(vt(Ji(o/p)*p,i,p).filter((function(t){return Xi(t%g)>Fi})).map(c))}return m.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},m.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(a).slice(1),l(n).reverse().slice(1),f(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),u>a&&(t=u,u=a,a=t),m.precision(v)):[[r,u],[n,a]]},m.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),m.precision(v)):[[e,o],[t,i]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(d=+t[0],g=+t[1],m):[d,g]},m.stepMinor=function(t){return arguments.length?(h=+t[0],p=+t[1],m):[h,p]},m.precision=function(h){return arguments.length?(v=+h,s=Mu(o,i,90),c=Au(e,t,v),l=Mu(u,a,90),f=Au(r,n,v),m):v},m.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function ku(t){return t}var Su,Nu,zu,$u,Ou=Yi(),Tu=Yi(),ju={point:co,lineStart:co,lineEnd:co,polygonStart:function(){ju.lineStart=Lu,ju.lineEnd=Cu},polygonEnd:function(){ju.lineStart=ju.lineEnd=ju.point=co,Ou.add(Xi(Tu)),Tu.reset()},result:function(){var t=Ou/2;return Ou.reset(),t}};function Lu(){ju.point=Du}function Du(t,e){ju.point=Yu,Su=zu=t,Nu=$u=e}function Yu(t,e){Tu.add($u*t-zu*e),zu=t,$u=e}function Cu(){Yu(Su,Nu)}var Ru=1/0,Pu=Ru,Fu=-Ru,Bu=Fu,Iu={point:function(t,e){t<Ru&&(Ru=t);t>Fu&&(Fu=t);e<Pu&&(Pu=e);e>Bu&&(Bu=e)},lineStart:co,lineEnd:co,polygonStart:co,polygonEnd:co,result:function(){var t=[[Ru,Pu],[Fu,Bu]];return Fu=Bu=-(Pu=Ru=1/0),t}};var qu,Hu,Wu,Uu,Vu=0,Xu=0,Gu=0,Zu=0,Ku=0,Ju=0,Qu=0,ts=0,es=0,ns={point:rs,lineStart:is,lineEnd:us,polygonStart:function(){ns.lineStart=ss,ns.lineEnd=cs},polygonEnd:function(){ns.point=rs,ns.lineStart=is,ns.lineEnd=us},result:function(){var t=es?[Qu/es,ts/es]:Ju?[Zu/Ju,Ku/Ju]:Gu?[Vu/Gu,Xu/Gu]:[NaN,NaN];return Vu=Xu=Gu=Zu=Ku=Ju=Qu=ts=es=0,t}};function rs(t,e){Vu+=t,Xu+=e,++Gu}function is(){ns.point=os}function os(t,e){ns.point=as,rs(Wu=t,Uu=e)}function as(t,e){var n=t-Wu,r=e-Uu,i=io(n*n+r*r);Zu+=i*(Wu+t)/2,Ku+=i*(Uu+e)/2,Ju+=i,rs(Wu=t,Uu=e)}function us(){ns.point=rs}function ss(){ns.point=ls}function cs(){fs(qu,Hu)}function ls(t,e){ns.point=fs,rs(qu=Wu=t,Hu=Uu=e)}function fs(t,e){var n=t-Wu,r=e-Uu,i=io(n*n+r*r);Zu+=i*(Wu+t)/2,Ku+=i*(Uu+e)/2,Ju+=i,Qu+=(i=Uu*t-Wu*e)*(Wu+t),ts+=i*(Uu+e),es+=3*i,rs(Wu=t,Uu=e)}function hs(t){this._context=t}hs.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Wi)}},result:co};var ps,ds,gs,vs,ms,ys=Yi(),bs={point:co,lineStart:function(){bs.point=ws},lineEnd:function(){ps&&xs(ds,gs),bs.point=co},polygonStart:function(){ps=!0},polygonEnd:function(){ps=null},result:function(){var t=+ys;return ys.reset(),t}};function ws(t,e){bs.point=xs,ds=vs=t,gs=ms=e}function xs(t,e){vs-=t,ms-=e,ys.add(io(vs*vs+ms*ms)),vs=t,ms=e}function _s(){this._string=[]}function Ms(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function As(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),vo(t,n(r))),r.result()}return o.area=function(t){return vo(t,n(ju)),ju.result()},o.measure=function(t){return vo(t,n(bs)),bs.result()},o.bounds=function(t){return vo(t,n(Iu)),Iu.result()},o.centroid=function(t){return vo(t,n(ns)),ns.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,ku):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new _s):new hs(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function Es(t){return{stream:ks(t)}}function ks(t){return function(e){var n=new Ss;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ss(){}function Ns(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),vo(n,t.stream(Iu)),e(Iu.result()),null!=r&&t.clipExtent(r),t}function zs(t,e,n){return Ns(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,u=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,u])}),n)}function $s(t,e,n){return zs(t,[[0,0],e],n)}function Os(t,e,n){return Ns(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function Ts(t,e,n){return Ns(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}_s.prototype={_radius:4.5,_circle:Ms(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Ms(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ss.prototype={constructor:Ss,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var js=Ki(30*Vi);function Ls(t,e){return+e?function(t,e){function n(r,i,o,a,u,s,c,l,f,h,p,d,g,v){var m=c-r,y=l-i,b=m*m+y*y;if(b>4*e&&g--){var w=a+h,x=u+p,_=s+d,M=io(w*w+x*x+_*_),A=uo(_/=M),E=Xi(Xi(_)-1)<Fi||Xi(o-f)<Fi?(o+f)/2:Zi(x,w),k=t(E,A),S=k[0],N=k[1],z=S-r,$=N-i,O=y*z-m*$;(O*O/b>e||Xi((m*z+y*$)/b-.5)>.3||a*h+u*p+s*d<js)&&(n(r,i,o,a,u,s,S,N,E,w/=M,x/=M,_,g,v),v.point(S,N),n(S,N,E,w,x,_,c,l,f,h,p,d,g,v))}}return function(e){var r,i,o,a,u,s,c,l,f,h,p,d,g={point:v,lineStart:m,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=w},polygonEnd:function(){e.polygonEnd(),g.lineStart=m}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){l=NaN,g.point=y,e.lineStart()}function y(r,i){var o=$o([r,i]),a=t(r,i);n(l,f,c,h,p,d,l=a[0],f=a[1],c=r,h=o[0],p=o[1],d=o[2],16,e),e.point(l,f)}function b(){g.point=v,e.lineEnd()}function w(){m(),g.point=x,g.lineEnd=_}function x(t,e){y(r=t,e),i=l,o=f,a=h,u=p,s=d,g.point=y}function _(){n(l,f,c,h,p,d,i,o,r,a,u,s,16,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return ks({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Ds=ks({point:function(t,e){this.stream.point(t*Vi,e*Vi)}});function Ys(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function Cs(t,e,n,r,i,o){var a=Ki(o),u=no(o),s=a*t,c=u*t,l=a/t,f=u/t,h=(u*n-a*e)/t,p=(u*e+a*n)/t;function d(t,o){return[s*(t*=r)-c*(o*=i)+e,n-c*t-s*o]}return d.invert=function(t,e){return[r*(l*t-f*e+h),i*(p-f*t-l*e)]},d}function Rs(t){return Ps((function(){return t}))()}function Ps(t){var e,n,r,i,o,a,u,s,c,l,f=150,h=480,p=250,d=0,g=0,v=0,m=0,y=0,b=0,w=1,x=1,_=null,M=Ja,A=null,E=ku,k=.5;function S(t){return s(t[0]*Vi,t[1]*Vi)}function N(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Ui,t[1]*Ui]}function z(){var t=Cs(f,0,0,w,x,b).apply(null,e(d,g)),r=(b?Cs:Ys)(f,h-t[0],p-t[1],w,x,b);return n=La(v,m,y),u=Ta(e,r),s=Ta(n,u),a=Ls(u,k),$()}function $(){return c=l=null,S}return S.stream=function(t){return c&&l===t?c:c=Ds(function(t){return ks({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(M(a(E(l=t)))))},S.preclip=function(t){return arguments.length?(M=t,_=void 0,$()):M},S.postclip=function(t){return arguments.length?(E=t,A=r=i=o=null,$()):E},S.clipAngle=function(t){return arguments.length?(M=+t?Qa(_=t*Vi):(_=null,Ja),$()):_*Ui},S.clipExtent=function(t){return arguments.length?(E=null==t?(A=r=i=o=null,ku):nu(A=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),$()):null==A?null:[[A,r],[i,o]]},S.scale=function(t){return arguments.length?(f=+t,z()):f},S.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],z()):[h,p]},S.center=function(t){return arguments.length?(d=t[0]%360*Vi,g=t[1]%360*Vi,z()):[d*Ui,g*Ui]},S.rotate=function(t){return arguments.length?(v=t[0]%360*Vi,m=t[1]%360*Vi,y=t.length>2?t[2]%360*Vi:0,z()):[v*Ui,m*Ui,y*Ui]},S.angle=function(t){return arguments.length?(b=t%360*Vi,z()):b*Ui},S.reflectX=function(t){return arguments.length?(w=t?-1:1,z()):w<0},S.reflectY=function(t){return arguments.length?(x=t?-1:1,z()):x<0},S.precision=function(t){return arguments.length?(a=Ls(u,k=t*t),$()):io(k)},S.fitExtent=function(t,e){return zs(S,t,e)},S.fitSize=function(t,e){return $s(S,t,e)},S.fitWidth=function(t,e){return Os(S,t,e)},S.fitHeight=function(t,e){return Ts(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&N,z()}}function Fs(t){var e=0,n=Ii/3,r=Ps(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Vi,n=t[1]*Vi):[e*Ui,n*Ui]},i}function Bs(t,e){var n=no(t),r=(n+no(e))/2;if(Xi(r)<Fi)return function(t){var e=Ki(t);function n(t,n){return[t*e,no(n)/e]}return n.invert=function(t,n){return[t/e,uo(n*e)]},n}(t);var i=1+n*(2*r-n),o=io(i)/r;function a(t,e){var n=io(i-2*r*no(e))/r;return[n*no(t*=r),o-n*Ki(t)]}return a.invert=function(t,e){var n=o-e,a=Zi(t,Xi(n))*ro(n);return n*r<0&&(a-=Ii*ro(t)*ro(n)),[a/r,uo((i-(t*t+n*n)*r*r)/(2*r))]},a}function Is(){return Fs(Bs).scale(155.424).center([0,33.6442])}function qs(){return Is().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Hs(t){return function(e,n){var r=Ki(e),i=Ki(n),o=t(r*i);return[o*i*no(e),o*no(n)]}}function Ws(t){return function(e,n){var r=io(e*e+n*n),i=t(r),o=no(i),a=Ki(i);return[Zi(e*o,r*a),uo(r&&n*o/r)]}}var Us=Hs((function(t){return io(2/(1+t))}));Us.invert=Ws((function(t){return 2*uo(t/2)}));var Vs=Hs((function(t){return(t=ao(t))&&t/no(t)}));function Xs(t,e){return[t,to(oo((qi+e)/2))]}function Gs(t){var e,n,r,i=Rs(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,c=null;function l(){var o=Ii*a(),u=i(Ra(i.rotate()).invert([0,0]));return s(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Xs?[[Math.max(u[0]-o,c),e],[Math.min(u[0]+o,n),r]]:[[c,Math.max(u[1]-o,e)],[n,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(u(t),l()):u()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,e],[n,r]]},l()}function Zs(t){return oo((qi+t)/2)}function Ks(t,e){var n=Ki(t),r=t===e?no(t):to(n/Ki(e))/to(Zs(e)/Zs(t)),i=n*eo(Zs(t),r)/r;if(!r)return Xs;function o(t,e){i>0?e<-qi+Fi&&(e=-qi+Fi):e>qi-Fi&&(e=qi-Fi);var n=i/eo(Zs(e),r);return[n*no(r*t),i-n*Ki(r*t)]}return o.invert=function(t,e){var n=i-e,o=ro(r)*io(t*t+n*n),a=Zi(t,Xi(n))*ro(n);return n*r<0&&(a-=Ii*ro(t)*ro(n)),[a/r,2*Gi(eo(i/o,1/r))-qi]},o}function Js(t,e){return[t,e]}function Qs(t,e){var n=Ki(t),r=t===e?no(t):(n-Ki(e))/(e-t),i=n/r+t;if(Xi(r)<Fi)return Js;function o(t,e){var n=i-e,o=r*t;return[n*no(o),i-n*Ki(o)]}return o.invert=function(t,e){var n=i-e,o=Zi(t,Xi(n))*ro(n);return n*r<0&&(o-=Ii*ro(t)*ro(n)),[o/r,i-ro(r)*io(t*t+n*n)]},o}Vs.invert=Ws((function(t){return t})),Xs.invert=function(t,e){return[t,2*Gi(Qi(e))-qi]},Js.invert=Js;var tc=1.340264,ec=-.081106,nc=893e-6,rc=.003796,ic=io(3)/2;function oc(t,e){var n=uo(ic*no(e)),r=n*n,i=r*r*r;return[t*Ki(n)/(ic*(tc+3*ec*r+i*(7*nc+9*rc*r))),n*(tc+ec*r+i*(nc+rc*r))]}function ac(t,e){var n=Ki(e),r=Ki(t)*n;return[n*no(t)/r,no(e)/r]}function uc(){var t,e,n,r,i,o,a,u=1,s=0,c=0,l=1,f=1,h=0,p=null,d=1,g=1,v=ks({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),m=ku;function y(){return d=u*l,g=u*f,o=a=null,b}function b(n){var r=n[0]*d,i=n[1]*g;if(h){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+s,i+c]}return b.invert=function(n){var r=n[0]-s,i=n[1]-c;if(h){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/d,i/g]},b.stream=function(t){return o&&a===t?o:o=v(m(a=t))},b.postclip=function(t){return arguments.length?(m=t,p=n=r=i=null,y()):m},b.clipExtent=function(t){return arguments.length?(m=null==t?(p=n=r=i=null,ku):nu(p=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),y()):null==p?null:[[p,n],[r,i]]},b.scale=function(t){return arguments.length?(u=+t,y()):u},b.translate=function(t){return arguments.length?(s=+t[0],c=+t[1],y()):[s,c]},b.angle=function(n){return arguments.length?(e=no(h=n%360*Vi),t=Ki(h),y()):h*Ui},b.reflectX=function(t){return arguments.length?(l=t?-1:1,y()):l<0},b.reflectY=function(t){return arguments.length?(f=t?-1:1,y()):f<0},b.fitExtent=function(t,e){return zs(b,t,e)},b.fitSize=function(t,e){return $s(b,t,e)},b.fitWidth=function(t,e){return Os(b,t,e)},b.fitHeight=function(t,e){return Ts(b,t,e)},b}function sc(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function cc(t,e){return[Ki(e)*no(t),no(e)]}function lc(t,e){var n=Ki(e),r=1+Ki(t)*n;return[n*no(t)/r,no(e)/r]}function fc(t,e){return[to(oo((qi+e)/2)),-t]}oc.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(tc+ec*i+o*(nc+rc*i))-e)/(tc+3*ec*i+o*(7*nc+9*rc*i)))*r)*i*i,!(Xi(n)<Bi));++a);return[ic*t*(tc+3*ec*i+o*(7*nc+9*rc*i))/Ki(r),uo(no(r)/ic)]},ac.invert=Ws(Gi),sc.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Xi(n)>Fi&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},cc.invert=Ws(uo),lc.invert=Ws((function(t){return 2*Gi(t)})),fc.invert=function(t,e){return[-e,2*Gi(Qi(t))-qi]};var hc=Object.freeze({__proto__:null,geoArea:function(t){return Mo.reset(),vo(t,Ao),2*Mo},geoBounds:function(t){var e,n,r,i,o,a,u;if(Po=Ro=-(Yo=Co=1/0),Ho=[],vo(t,ca),n=Ho.length){for(Ho.sort(ya),e=1,o=[r=Ho[0]];e<n;++e)ba(r,(i=Ho[e])[0])||ba(r,i[1])?(ma(r[0],i[1])>ma(r[0],r[1])&&(r[1]=i[1]),ma(i[0],r[1])>ma(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(u=ma(r[1],i[0]))>a&&(a=u,Yo=i[0],Ro=r[1])}return Ho=Wo=null,Yo===1/0||Co===1/0?[[NaN,NaN],[NaN,NaN]]:[[Yo,Co],[Ro,Po]]},geoCentroid:function(t){Uo=Vo=Xo=Go=Zo=Ko=Jo=Qo=ta=ea=na=0,vo(t,wa);var e=ta,n=ea,r=na,i=e*e+n*n+r*r;return i<Bi&&(e=Ko,n=Jo,r=Qo,Vo<Fi&&(e=Xo,n=Go,r=Zo),(i=e*e+n*n+r*r)<Bi)?[NaN,NaN]:[Zi(n,e)*Ui,uo(r/io(i))*Ui]},geoCircle:function(){var t,e,n=Oa([0,0]),r=Oa(90),i=Oa(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=Ui,n[1]*=Ui}};function a(){var a=n.apply(this,arguments),u=r.apply(this,arguments)*Vi,s=i.apply(this,arguments)*Vi;return t=[],e=La(-a[0]*Vi,-a[1]*Vi,0).invert,Pa(o,u,s,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:Oa([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:Oa(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:Oa(+t),a):i},a},geoClipAntimeridian:Ja,geoClipCircle:Qa,geoClipExtent:function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=nu(r,i,o,a)(e=n)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],o=+u[1][0],a=+u[1][1],t=e=null,n):[[r,i],[o,a]]}}},geoClipRectangle:nu,geoContains:function(t,e){return(t&&gu.hasOwnProperty(t.type)?gu[t.type]:mu)(t,e)},geoDistance:du,geoGraticule:Eu,geoGraticule10:function(){return Eu()()},geoInterpolate:function(t,e){var n=t[0]*Vi,r=t[1]*Vi,i=e[0]*Vi,o=e[1]*Vi,a=Ki(r),u=no(r),s=Ki(o),c=no(o),l=a*Ki(n),f=a*no(n),h=s*Ki(i),p=s*no(i),d=2*uo(io(so(o-r)+a*s*so(i-n))),g=no(d),v=d?function(t){var e=no(t*=d)/g,n=no(d-t)/g,r=n*l+e*h,i=n*f+e*p,o=n*u+e*c;return[Zi(i,r)*Ui,Zi(o,io(r*r+i*i))*Ui]}:function(){return[n*Ui,r*Ui]};return v.distance=d,v},geoLength:fu,geoPath:As,geoAlbers:qs,geoAlbersUsa:function(){var t,e,n,r,i,o,a=qs(),u=Is().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Is().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,l}return l.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:a).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),u.stream(n),s.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(a.precision(t),u.precision(t),s.precision(t),f()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),u.scale(.35*t),s.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],l=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(c),r=u.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+Fi,l+.12*e+Fi],[o-.214*e-Fi,l+.234*e-Fi]]).stream(c),i=s.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+Fi,l+.166*e+Fi],[o-.115*e-Fi,l+.234*e-Fi]]).stream(c),f()},l.fitExtent=function(t,e){return zs(l,t,e)},l.fitSize=function(t,e){return $s(l,t,e)},l.fitWidth=function(t,e){return Os(l,t,e)},l.fitHeight=function(t,e){return Ts(l,t,e)},l.scale(1070)},geoAzimuthalEqualArea:function(){return Rs(Us).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:Us,geoAzimuthalEquidistant:function(){return Rs(Vs).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:Vs,geoConicConformal:function(){return Fs(Ks).scale(109.5).parallels([30,30])},geoConicConformalRaw:Ks,geoConicEqualArea:Is,geoConicEqualAreaRaw:Bs,geoConicEquidistant:function(){return Fs(Qs).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Qs,geoEqualEarth:function(){return Rs(oc).scale(177.158)},geoEqualEarthRaw:oc,geoEquirectangular:function(){return Rs(Js).scale(152.63)},geoEquirectangularRaw:Js,geoGnomonic:function(){return Rs(ac).scale(144.049).clipAngle(60)},geoGnomonicRaw:ac,geoIdentity:uc,geoProjection:Rs,geoProjectionMutator:Ps,geoMercator:function(){return Gs(Xs).scale(961/Wi)},geoMercatorRaw:Xs,geoNaturalEarth1:function(){return Rs(sc).scale(175.295)},geoNaturalEarth1Raw:sc,geoOrthographic:function(){return Rs(cc).scale(249.5).clipAngle(90.000001)},geoOrthographicRaw:cc,geoStereographic:function(){return Rs(lc).scale(250).clipAngle(142)},geoStereographicRaw:lc,geoTransverseMercator:function(){var t=Gs(fc),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:fc,geoRotation:Ra,geoStream:vo,geoTransform:Es}),pc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function dc(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}function gc(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}var vc=gc(hc),mc=dc((function(t,e){!function(t,e){var n=1e-6;function r(t){return{point:function(e,n){for(var r=0,i=t;r<i.length;r+=1)i[r].point(e,n)},sphere:function(){for(var e=0,n=t;e<n.length;e+=1)n[e].sphere()},lineStart:function(){for(var e=0,n=t;e<n.length;e+=1)n[e].lineStart()},lineEnd:function(){for(var e=0,n=t;e<n.length;e+=1)n[e].lineEnd()},polygonStart:function(){for(var e=0,n=t;e<n.length;e+=1)n[e].polygonStart()},polygonEnd:function(){for(var e=0,n=t;e<n.length;e+=1)n[e].polygonEnd()}}}function i(){var t,i,o,a,u,s,c,l,f,h=e.geoAlbers(),p=e.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=e.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),g=e.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),v=e.geoConicEqualArea().rotate([-145,0]).center([0,16]).parallels([10,20]),m=e.geoConicEqualArea().rotate([170,0]).center([0,-14]).parallels([-14,0]),y={point:function(t,e){f=[t,e]}};function b(t){var e=t[0],n=t[1];return f=null,o.point(e,n),f||(a.point(e,n),f)||(u.point(e,n),f)||(s.point(e,n),f)||(c.point(e,n),f)||(l.point(e,n),f)}function w(){return t=i=null,b}return b.invert=function(t){var e=h.scale(),n=h.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.225&&r<-.185?p:i>=.166&&i<.234&&r>=-.185&&r<-.08?d:i>=.204&&i<.234&&r>=.3&&r<.38?g:i>=.05&&i<.204&&r>=-.415&&r<-.225?v:i>=.18&&i<.234&&r>=-.415&&r<-.225?m:h).invert(t)},b.stream=function(e){return t&&i===e?t:t=r([h.stream(i=e),p.stream(e),d.stream(e),g.stream(e),v.stream(e),m.stream(e)])},b.precision=function(t){return arguments.length?(h.precision(t),p.precision(t),d.precision(t),g.precision(t),v.precision(t),m.precision(t),w()):h.precision()},b.scale=function(t){return arguments.length?(h.scale(t),p.scale(.35*t),d.scale(t),g.scale(t),v.scale(t),m.scale(t),b.translate(h.translate())):h.scale()},b.translate=function(t){if(!arguments.length)return h.translate();var e=h.scale(),r=+t[0],i=+t[1];return o=h.translate(t).clipExtent([[r-.455*e,i-.238*e],[r+.455*e,i+.238*e]]).stream(y),a=p.translate([r-.275*e,i+.201*e]).clipExtent([[r-.425*e+n,i+.12*e+n],[r-.185*e-n,i+.234*e-n]]).stream(y),u=d.translate([r-.18*e,i+.212*e]).clipExtent([[r-.185*e+n,i+.166*e+n],[r-.08*e-n,i+.234*e-n]]).stream(y),s=g.translate([r+.335*e,i+.224*e]).clipExtent([[r+.3*e,i+.204*e],[r+.38*e,i+.234*e]]).stream(y),c=v.translate([r-.415*e,i+.14*e]).clipExtent([[r-.45*e,i+.05*e],[r-.39*e,i+.21*e]]).stream(y),l=m.translate([r-.415*e,i+.215*e]).clipExtent([[r-.45*e,i+.21*e],[r-.39*e,i+.234*e]]).stream(y),w()},b.scale(1070)}t.geoAlbersUsaTerritories=i,Object.defineProperty(t,"__esModule",{value:!0})}(e,vc)}));function yc(t){return t}function bc(t){if(null==t)return yc;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(e=n=0);var s=2,c=t.length,l=new Array(c);for(l[0]=(e+=t[0])*r+o,l[1]=(n+=t[1])*i+a;s<c;)l[s]=t[s],++s;return l}}function wc(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return xc(t,e)}))}:xc(t,e)}function xc(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=_c(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function _c(t,e){var n=bc(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,a)}function o(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(u)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:r,coordinates:n}}(e)}function Mc(t,e){var n={},r={},i={},o=[],a=-1;function u(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++a],e[a]=n,e[r]=i)})),e.forEach((function(e){var n,o,a=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),u=a[0],s=a[1];if(n=i[u])if(delete i[n.end],n.push(e),n.end=s,o=r[s]){delete r[o.start];var c=o===n?n:n.concat(o);r[c.start=n.start]=i[c.end=o.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[s])if(delete r[n.start],n.unshift(e),n.start=u,o=i[u]){delete i[o.end];var l=o===n?n:o.concat(n);r[l.start=o.start]=i[l.end=n.end]=l}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=u]=i[n.end=s]=n})),u(i,r),u(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}function Ac(t,e,n){var r,i,o;if(arguments.length>1)r=Ec(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:Mc(t,r)}}function Ec(t,e,n){var r,i=[],o=[];function a(t){var e=t<0?~t:t;(o[e]||(o[e]=[])).push({i:t,g:r})}function u(t){t.forEach(a)}function s(t){t.forEach(u)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":u(e.arcs);break;case"MultiLineString":case"Polygon":s(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(s)}(e.arcs)}}(e),o.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}function kc(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))/2}function Sc(t,e){return t[1][2]-e[1][2]}function Nc(t){return[t[0],t[1],0]}function zc(t,e){var n=t.transform?bc(t.transform):Nc,r=function(){var t={},e=[],n=0;function r(t,n){for(;n>0;){var r=(n+1>>1)-1,i=e[r];if(Sc(t,i)>=0)break;e[i._=n]=i,e[t._=n=r]=t}}function i(t,r){for(;;){var i=r+1<<1,o=i-1,a=r,u=e[a];if(o<n&&Sc(e[o],u)<0&&(u=e[a=o]),i<n&&Sc(e[i],u)<0&&(u=e[a=i]),a===r)break;e[u._=r]=u,e[t._=r=a]=t}}return t.push=function(t){return r(e[t._=n]=t,n++),n},t.pop=function(){if(!(n<=0)){var t,r=e[0];return--n>0&&(t=e[n],i(e[t._=0]=t,0)),r}},t.remove=function(t){var o,a=t._;if(e[a]===t)return a!==--n&&(Sc(o=e[n],t)<0?r:i)(e[o._=a]=o,a),a},t}();null==e&&(e=kc);var i=t.arcs.map((function(t){var i,a,u,s=[],c=0;for(a=1,u=(t=t.map(n)).length-1;a<u;++a)(i=[t[a-1],t[a],t[a+1]])[1][2]=e(i),s.push(i),r.push(i);for(t[0][2]=t[u][2]=1/0,a=0,u=s.length;a<u;++a)(i=s[a]).previous=s[a-1],i.next=s[a+1];for(;i=r.pop();){var l=i.previous,f=i.next;i[1][2]<c?i[1][2]=c:c=i[1][2],l&&(l.next=f,l[2]=i[2],o(l)),f&&(f.previous=l,f[0]=i[0],o(f))}return t}));function o(t){r.remove(t),t[1][2]=e(t),r.push(t)}return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:i}}var $c=dc((function(t){
/*! @preserve
   * numeral.js
   * version : 2.0.6
   * author : Adam Draper
   * license : MIT
   * http://adamwdraper.github.com/Numeral-js/
   */
!function(e,n){t.exports?t.exports=n():e.numeral=n()}(pc,(function(){var t,e,n,r,i,o={},a={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},s={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function c(t,e){this._input=t,this._value=e}return(t=function(n){var r,i,a,u;if(t.isNumeral(n))r=n.value();else if(0===n||void 0===n)r=0;else if(null===n||e.isNaN(n))r=null;else if("string"==typeof n)if(s.zeroFormat&&n===s.zeroFormat)r=0;else if(s.nullFormat&&n===s.nullFormat||!n.replace(/[^0-9]+/g,"").length)r=null;else{for(i in o)if((u="function"==typeof o[i].regexps.unformat?o[i].regexps.unformat():o[i].regexps.unformat)&&n.match(u)){a=o[i].unformat;break}r=(a=a||t._.stringToNumber)(n)}else r=Number(n)||null;return new c(n,r)}).version="2.0.6",t.isNumeral=function(t){return t instanceof c},t._=e={numberToFormat:function(e,n,r){var i,o,u,s,c,l,f,h,p=a[t.options.currentLocale],d=!1,g=!1,v="",m=1e12,y=1e9,b=1e6,w="",x=!1;if(e=e||0,u=Math.abs(e),t._.includes(n,"(")?(d=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(l=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(o=!!(o=n.match(/a(k|m|b|t)?/))&&o[1],t._.includes(n," a")&&(v=" "),n=n.replace(new RegExp(v+"a[kmbt]?"),""),u>=m&&!o||"t"===o?(v+=p.abbreviations.trillion,e/=m):u<m&&u>=y&&!o||"b"===o?(v+=p.abbreviations.billion,e/=y):u<y&&u>=b&&!o||"m"===o?(v+=p.abbreviations.million,e/=b):(u<b&&u>=1e3&&!o||"k"===o)&&(v+=p.abbreviations.thousand,e/=1e3)),t._.includes(n,"[.]")&&(g=!0,n=n.replace("[.]",".")),s=e.toString().split(".")[0],c=n.split(".")[1],f=n.indexOf(","),i=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(t._.includes(c,"[")?(c=(c=c.replace("]","")).split("["),w=t._.toFixed(e,c[0].length+c[1].length,r,c[1].length)):w=t._.toFixed(e,c.length,r),s=w.split(".")[0],w=t._.includes(w,".")?p.delimiters.decimal+w.split(".")[1]:"",g&&0===Number(w.slice(1))&&(w="")):s=t._.toFixed(e,0,r),v&&!o&&Number(s)>=1e3&&v!==p.abbreviations.trillion)switch(s=String(Number(s)/1e3),v){case p.abbreviations.thousand:v=p.abbreviations.million;break;case p.abbreviations.million:v=p.abbreviations.billion;break;case p.abbreviations.billion:v=p.abbreviations.trillion}if(t._.includes(s,"-")&&(s=s.slice(1),x=!0),s.length<i)for(var _=i-s.length;_>0;_--)s="0"+s;return f>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p.delimiters.thousands)),0===n.indexOf(".")&&(s=""),h=s+w+(v||""),d?h=(d&&x?"(":"")+h+(d&&x?")":""):l>=0?h=0===l?(x?"-":"+")+h:h+(x?"-":"+"):x&&(h="-"+h),h},stringToNumber:function(t){var e,n,r,i=a[s.currentLocale],o=t,u={thousand:3,million:6,billion:9,trillion:12};if(s.zeroFormat&&t===s.zeroFormat)n=0;else if(s.nullFormat&&t===s.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==i.delimiters.decimal&&(t=t.replace(/\./g,"").replace(i.delimiters.decimal,".")),u)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[e]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),o.match(r)){n*=Math.pow(10,u[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){return"number"==typeof t&&isNaN(t)},includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=e(n,r[o],o,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var t=Array.prototype.slice.call(arguments);return t.reduce((function(t,n){var r=e.multiplier(n);return t>r?t:r}),1)},toFixed:function(t,e,n,r){var i,o,a,u,s=t.toString().split("."),c=e-(r||0);return i=2===s.length?Math.min(Math.max(s[1].length,c),e):c,a=Math.pow(10,i),u=(n(t+"e+"+i)/a).toFixed(i),r>e-i&&(o=new RegExp("\\.?0{1,"+(r-(e-i))+"}$"),u=u.replace(o,"")),u}},t.options=s,t.formats=o,t.locales=a,t.locale=function(t){return t&&(s.currentLocale=t.toLowerCase()),s.currentLocale},t.localeData=function(t){if(!t)return a[s.currentLocale];if(t=t.toLowerCase(),!a[t])throw new Error("Unknown locale : "+t);return a[t]},t.reset=function(){for(var t in u)s[t]=u[t]},t.zeroFormat=function(t){s.zeroFormat="string"==typeof t?t:null},t.nullFormat=function(t){s.nullFormat="string"==typeof t?t:null},t.defaultFormat=function(t){s.defaultFormat="string"==typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,i,o,a,u,s,c,l;if("string"!=typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{c=t.localeData(n)}catch(e){c=t.localeData(t.locale())}return o=c.currency.symbol,u=c.abbreviations,r=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(l=e.match(/^[^\d]+/))||(e=e.substr(1),l[0]===o))&&((null===(l=e.match(/[^\d]+$/))||(e=e.slice(0,-1),l[0]===u.thousand||l[0]===u.million||l[0]===u.billion||l[0]===u.trillion))&&(s=new RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&(!((a=e.split(r)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(s):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(s)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(s)&&!!a[1].match(/^\d+$/)))))},t.fn=c.prototype={clone:function(){return t(this)},format:function(e,n){var r,i,a,u=this._value,c=e||s.defaultFormat;if(n=n||Math.round,0===u&&null!==s.zeroFormat)i=s.zeroFormat;else if(null===u&&null!==s.nullFormat)i=s.nullFormat;else{for(r in o)if(c.match(o[r].regexps.format)){a=o[r].format;break}i=(a=a||t._.numberToFormat)(u,c,n)}return i},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([this._value,t],(function(t,e,r,i){return t+Math.round(n*e)}),0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);return this._value=e.reduce([t],(function(t,e,r,i){return t-Math.round(n*e)}),Math.round(this._value*n))/n,this},multiply:function(t){return this._value=e.reduce([this._value,t],(function(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)*Math.round(n*o)/Math.round(o*o)}),1),this},divide:function(t){return this._value=e.reduce([this._value,t],(function(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)/Math.round(n*o)})),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var i,o=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i="("+(i=(n={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}).suffixes.concat(r.suffixes.filter((function(t){return n.suffixes.indexOf(t)<0}))).join("|")).replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(e,i,o){var a,u,s,c=t._.includes(i,"ib")?r:n,l=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),a=0;a<=c.suffixes.length;a++)if(u=Math.pow(c.base,a),s=Math.pow(c.base,a+1),null===e||0===e||e>=u&&e<s){l+=c.suffixes[a],u>0&&(e/=u);break}return t._.numberToFormat(e,i,o)+l},unformat:function(e){var i,o,a=t._.stringToNumber(e);if(a){for(i=n.suffixes.length-1;i>=0;i--){if(t._.includes(e,n.suffixes[i])){o=Math.pow(n.base,i);break}if(t._.includes(e,r.suffixes[i])){o=Math.pow(r.base,i);break}}a*=o||1}return a}}),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var i,o,a=t.locales[t.options.currentLocale],u={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=t._.numberToFormat(e,n,r),e>=0?(u.before=u.before.replace(/[\-\(]/,""),u.after=u.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(u.before,"-")&&!t._.includes(u.before,"(")&&(u.before="-"+u.before),o=0;o<u.before.length;o++)switch(u.before[o]){case"$":i=t._.insert(i,a.currency.symbol,o);break;case" ":i=t._.insert(i," ",o+a.currency.symbol.length-1)}for(o=u.after.length-1;o>=0;o--)switch(u.after[o]){case"$":i=o===u.after.length-1?i+a.currency.symbol:t._.insert(i,a.currency.symbol,-(u.after.length-(1+o)));break;case" ":i=o===u.after.length-1?i+" ":t._.insert(i," ",-(u.after.length-(1+o)+a.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var i=("number"!=typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),i=Number(n[1]);return i=t._.includes(e,"e-")?i*=-1:i,t._.reduce([r,Math.pow(10,i)],(function(e,n,r,i){var o=t._.correctionFactor(e,n);return e*o*(n*o)/(o*o)}),1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var i=t.locales[t.options.currentLocale],o=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(e),t._.numberToFormat(e,n,r)+o}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var i,o=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t}))})),Oc=dc((function(t,e){t.exports=function(){var t="millisecond",e="second",n="minute",r="hour",i="day",o="week",a="month",u="quarter",s="year",c="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,f=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},p={s:h,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+h(r,2,"0")+":"+h(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,a),o=n-i<0,u=e.clone().add(r+(o?-1:1),a);return+(-(r+(n-i)/(o?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:a,y:s,w:o,d:i,D:c,h:r,m:n,s:e,ms:t,Q:u}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g="en",v={};v[g]=d;var m=function(t){return t instanceof x},y=function(t,e,n){var r;if(!t)return g;if("string"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var i=t.name;v[i]=t,r=i}return!n&&r&&(g=r),r||!n&&g},b=function(t,e){if(m(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new x(n)},w=p;w.l=y,w.i=m,w.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var x=function(){function h(t){this.$L=this.$L||y(t.locale,null,!0),this.parse(t)}var p=h.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(e)}(t),this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return w},p.isValid=function(){return!("Invalid Date"===this.$d.toString())},p.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return b(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<b(t)},p.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,u){var l=this,f=!!w.u(u)||u,h=w.p(t),p=function(t,e){var n=w.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return f?n:n.endOf(i)},d=function(t,e){return w.w(l.toDate()[t].apply(l.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},g=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(h){case s:return f?p(1,0):p(31,11);case a:return f?p(1,v):p(0,v+1);case o:var b=this.$locale().weekStart||0,x=(g<b?g+7:g)-b;return p(f?m-x:m+(6-x),v);case i:case c:return d(y+"Hours",0);case r:return d(y+"Minutes",1);case n:return d(y+"Seconds",2);case e:return d(y+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(o,u){var l,f=w.p(o),h="set"+(this.$u?"UTC":""),p=(l={},l[i]=h+"Date",l[c]=h+"Date",l[a]=h+"Month",l[s]=h+"FullYear",l[r]=h+"Hours",l[n]=h+"Minutes",l[e]=h+"Seconds",l[t]=h+"Milliseconds",l)[f],d=f===i?this.$D+(u-this.$W):u;if(f===a||f===s){var g=this.clone().set(c,1);g.$d[p](d),g.init(),this.$d=g.set(c,Math.min(this.$D,g.daysInMonth())).$d}else p&&this.$d[p](d);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[w.p(t)]()},p.add=function(t,u){var c,l=this;t=Number(t);var f=w.p(u),h=function(e){var n=b(l);return w.w(n.date(n.date()+Math.round(e*t)),l)};if(f===a)return this.set(a,this.$M+t);if(f===s)return this.set(s,this.$y+t);if(f===i)return h(1);if(f===o)return h(7);var p=(c={},c[n]=6e4,c[r]=36e5,c[e]=1e3,c)[f]||1,d=this.$d.getTime()+t*p;return w.w(d,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),i=this.$locale(),o=this.$H,a=this.$m,u=this.$M,s=i.weekdays,c=i.months,l=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].substr(0,o)},h=function(t){return w.s(o%12||12,t,"0")},p=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:w.s(u+1,2,"0"),MMM:l(i.monthsShort,u,c,3),MMMM:l(c,u),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(i.weekdaysMin,this.$W,s,2),ddd:l(i.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(o),HH:w.s(o,2,"0"),h:h(1),hh:h(2),a:p(o,a,!0),A:p(o,a,!1),m:String(a),mm:w.s(a,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(f,(function(t,e){return e||d[t]||r.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(t,c,l){var f,h=w.p(c),p=b(t),d=6e4*(p.utcOffset()-this.utcOffset()),g=this-p,v=w.m(this,p);return v=(f={},f[s]=v/12,f[a]=v,f[u]=v/3,f[o]=(g-d)/6048e5,f[i]=(g-d)/864e5,f[r]=g/36e5,f[n]=g/6e4,f[e]=g/1e3,f)[h]||g,l?v:w.a(v)},p.daysInMonth=function(){return this.endOf(a).$D},p.$locale=function(){return v[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=y(t,e,!0);return r&&(n.$L=r),n},p.clone=function(){return w.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},h}(),_=x.prototype;return b.prototype=_,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",a],["$y",s],["$D",c]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t(e,x,b),b},b.locale=y,b.isDayjs=m,b.unix=function(t){return b(1e3*t)},b.en=v[g],b.Ls=v,b}()})),Tc=dc((function(t,e){t.exports=function(t,e,n){var r=e.prototype,i=r.format;n.en.ordinal=function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"},r.format=function(t){var e=this,n=this.$locale(),r=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|gggg|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return r.s(e.week(),"w"===t?1:2,"0");case"k":case"kk":return r.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();default:return t}}));return i.bind(this)(o)}}})),jc=dc((function(t,e){t.exports=function(t,e,n){var r=e.prototype,i=r.format,o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};n.en.formats=o,r.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var e=this.$locale().formats,n=void 0===e?{}:e,r=t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,e,r){var i=r&&r.toUpperCase();return e||n[r]||o[r]||n[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}));return i.call(this,r)}}}));function Lc(){var t=!1;try{t=window.parent&&window.parent!==window.self&&window.parent.dw&&window.parent.dw.backend&&window.parent.dw.backend.currentChart}catch(t){}return t}var Dc=!1;function Yc(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!e)return t;for(var r=e.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?n:i}function Cc(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}var Rc=dc((function(t,e){t.exports=function(){function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function c(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function l(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function h(t){return document.createTextNode(t)}function p(){return h(" ")}function d(){return h("")}function g(t,e,n,r){return t.addEventListener(e,n,r),function(){return t.removeEventListener(e,n,r)}}function v(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function b(t,e,n){t.classList[n?"add":"remove"](e)}var w,x=function(t){void 0===t&&(t=null),this.a=t,this.e=this.n=null};function _(t){w=t}function M(){if(!w)throw new Error("Function called outside component initialization");return w}function A(t){M().$$.after_update.push(t)}function E(){var t=M();return function(e,n){var r=t.$$.callbacks[e];if(r){var i=function(t,e){var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach((function(e){e.call(t,i)}))}}}function k(t,e){var n=t.$$.callbacks[e.type];n&&n.slice().forEach((function(t){return t(e)}))}x.prototype.m=function(t,e,n){void 0===n&&(n=null),this.e||(this.e=l(e.nodeName),this.t=e,this.h(t)),this.i(n)},x.prototype.h=function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)},x.prototype.i=function(t){for(var e=0;e<this.n.length;e+=1)u(this.t,this.n[e],t)},x.prototype.p=function(t){this.d(),this.h(t),this.i(this.a)},x.prototype.d=function(){this.n.forEach(s)};var S=[],N=[],z=[],$=[],O=Promise.resolve(),T=!1;function j(){T||(T=!0,O.then(R))}function L(t){z.push(t)}function D(t){$.push(t)}var Y=!1,C=new Set;function R(){if(!Y){Y=!0;do{for(var t=0;t<S.length;t+=1){var e=S[t];_(e),P(e.$$)}for(_(null),S.length=0;N.length;)N.pop()();for(var n=0;n<z.length;n+=1){var r=z[n];C.has(r)||(C.add(r),r())}z.length=0}while(S.length);for(;$.length;)$.pop()();T=!1,Y=!1,C.clear()}}function P(t){if(null!==t.fragment){t.update(),r(t.before_update);var e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(L)}}var F,B=new Set;function I(){F={r:0,c:[],p:F}}function q(){F.r||r(F.c),F=F.p}function H(t,e){t&&t.i&&(B.delete(t),t.i(e))}function W(t,e,n,r){if(t&&t.o){if(B.has(t))return;B.add(t),F.c.push((function(){B.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}var U="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:pc;function V(t,e,n){var r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function X(t){t&&t.c()}function G(t,n,o){var a=t.$$,u=a.fragment,s=a.on_mount,c=a.on_destroy,l=a.after_update;u&&u.m(n,o),L((function(){var n=s.map(e).filter(i);c?c.push.apply(c,n):r(n),t.$$.on_mount=[]})),l.forEach(L)}function Z(t,e){var n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(S.push(t),j(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,i,o,a,u,c,l){void 0===l&&(l=[-1]);var f=w;_(e);var h=i.props||{},p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:l,skip_bound:!1},d=!1;if(p.ctx=o?o(e,h,(function(t,n){for(var r=arguments,i=[],o=arguments.length-2;o-- >0;)i[o]=r[o+2];var a=i.length?i[0]:n;return p.ctx&&u(p.ctx[t],p.ctx[t]=a)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](a),d&&K(e,t)),n})):[],p.update(),d=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),i.target){if(i.hydrate){var g=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(g),g.forEach(s)}else p.fragment&&p.fragment.c();i.intro&&H(e.$$.fragment),G(e,i.target,i.anchor),R()}_(f)}var Q=function(){};Q.prototype.$destroy=function(){Z(this,1),this.$destroy=t},Q.prototype.$on=function(t,e){var n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}},Q.prototype.$set=function(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)};var tt="http://www.w3.org/1999/xhtml",et={svg:"http://www.w3.org/2000/svg",xhtml:tt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),et.hasOwnProperty(e)?{space:et[e],local:t}:t}function rt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tt&&e.documentElement.namespaceURI===tt?e.createElement(t):e.createElementNS(n,t)}}function it(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ot(t){var e=nt(t);return(e.local?it:rt)(e)}function at(){}function ut(t){return null==t?at:function(){return this.querySelector(t)}}function st(){return[]}function ct(t){return new Array(t.length)}function lt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ft(t,e,n,r,i,o){for(var a,u=0,s=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new lt(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function ht(t,e,n,r,i,o,a){var u,s,c,l={},f=e.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=e[u])&&(p[u]=c="$"+a.call(s,s.__data__,u,e),c in l?i[u]=s:l[c]=s);for(u=0;u<h;++u)(s=l[c="$"+a.call(t,o[u],u,o)])?(r[u]=s,s.__data__=o[u],l[c]=null):n[u]=new lt(t,o[u]);for(u=0;u<f;++u)(s=e[u])&&l[p[u]]===s&&(i[u]=s)}function pt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function dt(t){return function(){this.removeAttribute(t)}}function gt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vt(t,e){return function(){this.setAttribute(t,e)}}function mt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function yt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function bt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function xt(t){return function(){this.style.removeProperty(t)}}function _t(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Mt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function At(t,e){return t.style.getPropertyValue(e)||wt(t).getComputedStyle(t,null).getPropertyValue(e)}function Et(t){return function(){delete this[t]}}function kt(t,e){return function(){this[t]=e}}function St(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Nt(t){return t.trim().split(/^|\s+/)}function zt(t){return t.classList||new $t(t)}function $t(t){this._node=t,this._names=Nt(t.getAttribute("class")||"")}function Ot(t,e){for(var n=zt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Tt(t,e){for(var n=zt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function jt(t){return function(){Ot(this,t)}}function Lt(t){return function(){Tt(this,t)}}function Dt(t,e){return function(){(e.apply(this,arguments)?Ot:Tt)(this,t)}}function Yt(){this.textContent=""}function Ct(t){return function(){this.textContent=t}}function Rt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Pt(){this.innerHTML=""}function Ft(t){return function(){this.innerHTML=t}}function Bt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function It(){this.nextSibling&&this.parentNode.appendChild(this)}function qt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ht(){return null}function Wt(){var t=this.parentNode;t&&t.removeChild(this)}function Ut(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}lt.prototype={constructor:lt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},$t.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Xt={};function Gt(t,e,n){return t=Zt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Zt(t,e,n){return function(r){try{t.call(this,this.__data__,e,n)}finally{}}}function Kt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Jt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Qt(t,e,n){var r=Xt.hasOwnProperty(t.type)?Gt:Zt;return function(i,o,a){var u,s=this.__on,c=r(e,o,a);if(s)for(var l=0,f=s.length;l<f;++l)if((u=s[l]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=e);this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(u):this.__on=[u]}}function te(t,e,n){var r=wt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ee(t,e){return function(){return te(this,t,e)}}function ne(t,e){return function(){return te(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Xt={mouseenter:"mouseover",mouseleave:"mouseout"}));var re=[null];function ie(t,e){this._groups=t,this._parents=e}function oe(){return new ie([[document.documentElement]],re)}function ae(t){return"string"==typeof t?new ie([[document.querySelector(t)]],[document.documentElement]):new ie([[t]],re)}function ue(){window.getSelection().removeAllRanges()}function se(t,e,n){var r=t.slice();return r[12]=e[n],r}function ce(t){var e,n,r,i,o,c;function f(){for(var e=arguments,n=[],r=arguments.length;r--;)n[r]=e[r];return t[10].apply(t,[t[12]].concat(n))}return{c:function(){e=l("div"),n=l("div"),r=p(),m(n,"class","resizer-inner svelte-1lczzns"),m(e,"class",i="resizer "+t[2]+" "+t[12].charAt(0)+" svelte-1lczzns"),b(e,"drag","line"===t[0].display)},m:function(t,i){u(t,e,i),a(e,n),a(e,r),o||(c=g(e,"mousedown",f),o=!0)},p:function(n,r){t=n,6&r&&i!==(i="resizer "+t[2]+" "+t[12].charAt(0)+" svelte-1lczzns")&&m(e,"class",i),7&r&&b(e,"drag","line"===t[0].display)},d:function(t){t&&s(e),o=!1,c()}}}function le(e){for(var n,r=e[1],i=[],o=0;o<r.length;o+=1)i[o]=ce(se(e,r,o));return{c:function(){n=l("div");for(var t=0;t<i.length;t+=1)i[t].c();m(n,"class","resizers svelte-1lczzns")},m:function(t,e){u(t,n,e);for(var r=0;r<i.length;r+=1)i[r].m(n,null)},p:function(t,e){var o=e[0];if(15&o){var a;for(r=t[1],a=0;a<r.length;a+=1){var u=se(t,r,a);i[a]?i[a].p(u,o):(i[a]=ce(u),i[a].c(),i[a].m(n,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},i:t,o:t,d:function(t){t&&s(n),c(i,t)}}}function fe(t,e,n){var r,i,o=E(),a=e.annotation,u=e.type,s=e.index,c=e.activeResizer,l=e.resizing,f=e.noOffsetAtEventStart,h=e.orientation;function p(t,e){t.stopPropagation(),ue(),o("selectAnnotation",{type:u,index:s}),void 0===a.width&&o("setWidth"),n(4,c=e),n(5,l=!0),n(6,f=0===a.dx&&0===a.dy)}return t.$$set=function(t){"annotation"in t&&n(0,a=t.annotation),"type"in t&&n(7,u=t.type),"index"in t&&n(8,s=t.index),"activeResizer"in t&&n(4,c=t.activeResizer),"resizing"in t&&n(5,l=t.resizing),"noOffsetAtEventStart"in t&&n(6,f=t.noOffsetAtEventStart),"orientation"in t&&n(9,h=t.orientation)},t.$$.update=function(){513&t.$$.dirty&&n(1,r="y"===h?"line"===a.display?["t"]:["t","b"]:"line"===a.display?["l"]:["l","r"]),512&t.$$.dirty&&n(2,i="y"===h?"y":"x")},[a,r,i,p,c,l,f,u,s,h,function(t,e){return p(e,t)}]}ie.prototype=oe.prototype={constructor:ie,select:function(t){"function"!=typeof t&&(t=ut(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],s=u.length,c=r[i]=new Array(s),l=0;l<s;++l)(o=u[l])&&(a=t.call(o,o.__data__,l,u))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new ie(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?st:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],s=u.length,c=0;c<s;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new ie(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&s.push(o);return new ie(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each((function(t){d[++l]=t})),d;var n,r=e?ht:ft,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,u=new Array(a),s=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],p=h.length,d=t.call(f,f&&f.__data__,l,i),g=d.length,v=s[l]=new Array(g),m=u[l]=new Array(g);r(f,h,v,m,c[l]=new Array(p),d,e);for(var y,b,w=0,x=0;w<g;++w)if(y=v[w]){for(w>=x&&(x=w+1);!(b=m[x])&&++x<g;);y._next=b||null}}return(u=new ie(u,i))._enter=s,u._exit=c,u},enter:function(){return new ie(this._enter||this._groups.map(ct),this._parents)},exit:function(){return new ie(this._exit||this._groups.map(ct),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,c=e[u],l=n[u],f=c.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=c[p]||l[p])&&(h[p]=s);for(;u<r;++u)a[u]=e[u];return new ie(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=pt);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],s=u.length,c=i[o]=new Array(s),l=0;l<s;++l)(a=u[l])&&(c[l]=a);c.sort(e)}return new ie(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=nt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?gt:dt:"function"==typeof e?n.local?bt:yt:n.local?mt:vt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?xt:"function"==typeof e?Mt:_t)(t,e,null==n?"":n)):At(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Et:"function"==typeof e?St:kt)(t,e)):this.node()[t]},classed:function(t,e){var n=Nt(t+"");if(arguments.length<2){for(var r=zt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Dt:e?jt:Lt)(n,e))},text:function(t){return arguments.length?this.each(null==t?Yt:("function"==typeof t?Rt:Ct)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Pt:("function"==typeof t?Bt:Ft)(t)):this.node().innerHTML},raise:function(){return this.each(It)},lower:function(){return this.each(qt)},append:function(t){var e="function"==typeof t?t:ot(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ot(t),r=null==e?Ht:"function"==typeof e?e:ut(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Wt)},clone:function(t){return this.select(t?Vt:Ut)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Kt(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?Qt:Jt,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,c=0,l=u.length;c<l;++c)for(r=0,s=u[c];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?ne:ee)(t,e))}};var he=function(t){function e(e){var n;t.call(this),document.getElementById("svelte-1lczzns-style")||((n=l("style")).id="svelte-1lczzns-style",n.textContent=".resizers.svelte-1lczzns.svelte-1lczzns{width:100%;height:100%;position:absolute;top:0;left:0;pointer-events:none}.resizer.svelte-1lczzns.svelte-1lczzns{position:absolute;display:flex;align-items:center;justify-content:center;pointer-events:auto}.resizer.x.svelte-1lczzns.svelte-1lczzns{top:0;width:5px;height:100%;cursor:ew-resize}.resizer.y.svelte-1lczzns.svelte-1lczzns{height:5px;width:100%;left:0;cursor:ns-resize}.resizer.drag.svelte-1lczzns.svelte-1lczzns{cursor:grab}.resizer.drag.svelte-1lczzns.svelte-1lczzns:active{cursor:grabbing}.resizer.l.svelte-1lczzns.svelte-1lczzns{left:-3px}.resizer.r.svelte-1lczzns.svelte-1lczzns{right:-3px}.resizer.t.svelte-1lczzns.svelte-1lczzns{top:-3px}.resizer.b.svelte-1lczzns.svelte-1lczzns{bottom:-3px}.resizer-inner.svelte-1lczzns.svelte-1lczzns{position:absolute;border-radius:2px;background:rgba(255, 0, 221, 0.35);opacity:0;transition:opacity 0.2s}.resizer.x.svelte-1lczzns .resizer-inner.svelte-1lczzns{width:5px;height:50%;min-height:10px;max-height:40px}.resizer.y.svelte-1lczzns .resizer-inner.svelte-1lczzns{height:5px;width:50%;min-width:10px;max-width:40px}.text:hover .resizer-inner.svelte-1lczzns.svelte-1lczzns,.range-annotation:hover .resizer-inner.svelte-1lczzns.svelte-1lczzns{opacity:1}",a(document.head,n)),J(this,e,fe,le,o,{annotation:0,type:7,index:8,activeResizer:4,resizing:5,noOffsetAtEventStart:6,orientation:9})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Q);function pe(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function de(){return null}var ge=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function ve(){}function me(t,e){var n=new ve;if(t instanceof ve)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function ye(){}ve.prototype=me.prototype={constructor:ve,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var be=me.prototype;ye.prototype=function(t,e){var n=new ye;if(t instanceof ye)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:ye,has:be.has,add:function(t){return this["$"+(t+="")]=t,this},remove:be.remove,clear:be.clear,values:be.keys,size:be.size,empty:be.empty,each:be.each},oe.prototype.translate=function(t,e){var n=this.node();return n?n.getBBox?this.attr("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this},oe.prototype.append=function(t){var e,n;"function"==typeof t?e=t:(n=pe(t),e=ot(n.tag));var r=this.select((function(){return this.appendChild(e.apply(this,arguments))}));if(n)for(var i in n.attr)r.attr(i,n.attr[i]);return r},oe.prototype.insert=function(t,e){var n=pe(t),r=ot(n.tag),i=null==e?de:"function"==typeof e?e:ut(e),o=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var a in n.attr)o.attr(a,n.attr[a]);return o},oe.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1||(t.push(this.parentNode),0))})).select((function(){return this.parentNode}))},oe.prototype.selectAppend=function(t){var e,n=ut(t),r=pe(t);for(var i in t=ot(r.tag),e=this.select((function(){return n.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)e.attr(i,r.attr[i]);return e},oe.prototype.tspans=function(t,e){return this.selectAll("tspan").data((function(e,n){return("function"==typeof t?t.call(this,e,n):t).map((function(t){return{line:t,parent:e}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,n){return n?("function"==typeof e?e.call(this,t.parent,t.line,n):e)||15:0}))},oe.prototype.appendMany=function(t,e){if("string"==typeof e){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=e;e=t,t=n}return this.selectAll(null).data(e).enter().append(t)},oe.prototype.at=function(t,e){if("object"==typeof t){for(var n in t)this.attr(ge.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)},oe.prototype.st=function(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){return e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(e)?t.style(e,"function"==typeof n?o(n):i(n)):t.style(e,n),t}function i(t){return t.match?t:t+"px"}function o(t){return function(){return i(t.apply(this,arguments))}}},oe.prototype.prop=oe.prototype.property;var we=Math.cos(.25*Math.PI),xe=Math.sin(.25*Math.PI);function _e(t){var e=t[0],n=t[1];return[e*we-n*xe,e*xe+n*we]}function Me(t){var e=t[0],n=t[1];return[e*we+n*xe,n*we-e*xe]}function Ae(t,e,n,r){void 0===r&&(r=!0);var i=r?1:0,o=(n-t[i])/(e[i]-t[i]);if(o<0||o>1)return null;var a=r?0:1;return t[a]+o*(e[a]-t[a])}function Ee(t){return void 0===t&&(t=!0),function(e){var n=e.source,r=e.sourcePadding,i=e.targetPadding,o=e.circle,a=e.circleRadius;return function(e){var u,s;o&&a&&(i+=a),r>0&&((n=Object.assign({},n)).x-=r,n.y-=r,n.width+=2*r,n.height+=2*r);var c=n.x+.5*n.width,l=n.y+.5*n.height,f=0,h=0,p=ke(c,l,f,h,.25,t),d=p[0],g=p[1],v=n.height/n.width,m=d-c,y=g-l;if(Math.abs(y/m)<v?(c+=.5*n.width*(m>0?1:-1),l+=.5*n.width*y/m*(m>0?1:-1)):(c+=.5*n.height*m/y*(y>0?1:-1),l+=.5*n.height*(y>0?1:-1)),d=(u=ke(c,l,f,h,.25,t))[0],g=u[1],i>0){var b=Math.atan2(-g,-d);d=(s=ke(c,l,f=-Math.cos(b)*i,h=-Math.sin(b)*i,.25,t))[0],g=s[1]}e.attr("d","M "+c+","+l+" Q "+d+","+g+" "+f+","+h)}}}function ke(t,e,n,r,i,o){void 0===i&&(i=.25),void 0===o&&(o=!0);var a=n-t,u=r-e,s=u,c=-a,l=.5*(t+n),f=.5*(e+r),h=Math.sqrt(s*s+c*c),p=Math.sqrt(a*a+u*u)*i/h*(o?-1:1);return[l+s*p,f+c*p]}var Se=function(t){var e=t.source,n=t.sourcePadding,r=t.targetPadding,i=t.circle,o=t.circleRadius;return function(t){var a,u,s,c;i&&o&&(r+=o),n&&((e=Object.assign({},e)).x-=n,e.y-=n,e.width+=2*n,e.height+=2*n);var l=e.x+.5*e.width,f=e.y+.5*e.height,h=0,p=0,d=!0,g=-l,v=-f,m=e.height/e.width;if(2*Math.abs(l)<e.width)l=0,h=0,p=r*(f>0?1:-1),f+=.5*e.height*(f<0?1:-1),d=!1;else if(2*Math.abs(f)<e.height)f=0,p=0,h=r*(l>0?1:-1),l+=.5*e.width*(l<0?1:-1),d=!1;else{var y,b,w=_e([-.5*e.width,0]),x=w[0],_=w[1],M=_e([.5*e.width,0]),A=M[0],E=M[1],k=_e([0,-.5*e.height]),S=k[0],N=k[1],z=_e([0,.5*e.height]),$=z[0],O=z[1],T=_e([-l,-f]),j=T[0],L=T[1];if(l>0&&f>0&&j>=x&&j<=S){var D=_e([-.5*e.width,-.5*e.height]),Y=D[0];y=(a=Me([j,Ae(j<Y?[x,_]:[S,N],[Y,D[1]],j,!1)]))[0],b=a[1]}else if(l<0&&f<0&&j>=$&&j<=A){var C=_e([.5*e.width,.5*e.height]),R=C[0];y=(u=Me([j,Ae(j<R?[$,O]:[A,E],[R,C[1]],j,!1)]))[0],b=u[1]}else if(l>0&&f<0&&L>=_&&L<=O){var P=_e([-.5*e.width,.5*e.height]),F=P[0],B=P[1];y=(s=Me([Ae(L<B?[x,_]:[$,O],[F,B],L,!0),L]))[0],b=s[1]}else if(l<0&&f>0&&L>=N&&L<=E){var I=_e([.5*e.width,-.5*e.height]),q=I[0],H=I[1];y=(c=Me([Ae(L<H?[S,N]:[A,E],[q,H],L,!0),L]))[0],b=c[1]}else Math.abs(v/g)<m?(y=.5*e.width*(g>0?1:-1),b=.5*e.width*v/g*(g>0?1:-1)):(y=.5*e.height*g/v*(v>0?1:-1),b=.5*e.height*(v>0?1:-1));l+=y,f+=b}if(r>0&&d){g=-l,v=-f;var W=Math.atan2(v,g);h=-Math.cos(W)*r,p=-Math.sin(W)*r}t.attr("d","M "+l+","+f+" L "+h+","+p),t.classed("crisp",l.toFixed(1)===h.toFixed(1)||f.toFixed(1)===p.toFixed(1))}},Ne=Ee(!0),ze=Ee(!1),$e=Object.freeze({__proto__:null,straight:Se,curveLeft:Ne,curveRight:ze});function Oe(t){return void 0===t&&(t={}),t=Object.assign({},{sourcePadding:0,targetPadding:4,arrowHead:!1,type:"straight",circle:!1,circleRadius:15,strokeWidth:1,color:"black"},t),function(e){return e.each((function(e){var n=Object.assign({},t,e),r=ae(this).append("g.callout-line");n.arrowHead&&(n.targetPadding+=n.strokeWidth,n.circleRadius+=n.strokeWidth);var i,o=r.append("path").style("stroke-width",n.strokeWidth).style("stroke",n.color).call($e[n.type](n));n.arrowHead&&function(t,e,n,r,i){var o=Te[n];if(e.getTotalLength){var a=e.getTotalLength();if(0!==a){var u=e.getPointAtLength(a),s=e.getPointAtLength(a-10),c=Math.min(1,a/o.minLen/r),l=[u.x-s.x,u.y-s.y],f=l[0],h=l[1],p=Math.atan2(h,f)/Math.PI*180,d=t.append("path.callout-line-arrow-head").attr("d",o.path).attr("transform","translate("+u.x+", "+u.y+") rotate("+p+") scale("+r*c+") ").classed("callout-line-arrow-head-stroke",o.strokes);o.strokes?d.style("stroke",i).style("fill","none").style("stroke-width",1/c):d.style("fill",i).style("stroke","none")}}}(r,o.node(),n.arrowHead,n.strokeWidth,n.color),n.circle&&r.append("circle").style("stroke",n.color).style("stroke-width",n.strokeWidth).style("stroke-dasharray","dashed"===n.circleStyle?(i=n.strokeWidth,2+i+", "+(4+i)):void 0).attr("r",n.circleRadius-(n.arrowHead?n.strokeWidth:0))}))}}var Te={triangle:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:20,path:"M-8.75,-3.75 L 1,0 L -8.75,3.75"},lines:{viewBox:"-10 -10 20 20",markerWidth:20,markerHeight:20,minLen:15,path:"M-4.75,-3.75 L 0,0 L -4.75,3.75",strokes:!0}};!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("\n    .callout-line path {\n        stroke: #222;\n        fill: none\n    }\n\n.callout-line path.crisp {\n            shape-rendering: crispEdges;\n        }\n\n.callout-line circle {\n        stroke: #222;\n        fill: none;\n    }\n\n.callout-line-arrow-head {\n    fill: #222\n}\n\n.callout-line-arrow-head.callout-line-arrow-head-stroke {\n        stroke: #222;\n        fill: none;\n    }\n");var je=Math.ceil,Le=Math.max,De=function(t,e,n,r){for(var i=-1,o=Le(je((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a},Ye=function(t,e){return t===e||t!=t&&e!=e},Ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==pc?pc:"undefined"!=typeof self?self:{},Re="object"==typeof Ce&&Ce&&Ce.Object===Object&&Ce,Pe="object"==typeof self&&self&&self.Object===Object&&self,Fe=(Re||Pe||Function("return this")()).Symbol,Be=Object.prototype,Ie=Be.hasOwnProperty,qe=Be.toString,He=Fe?Fe.toStringTag:void 0,We=function(t){var e=Ie.call(t,He),n=t[He];try{t[He]=void 0;var r=!0}catch(t){}var i=qe.call(t);return r&&(e?t[He]=n:delete t[He]),i},Ue=Object.prototype.toString,Ve=function(t){return Ue.call(t)},Xe=Fe?Fe.toStringTag:void 0,Ge=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Xe&&Xe in Object(t)?We(t):Ve(t)},Ze=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Ke=function(t){if(!Ze(t))return!1;var e=Ge(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},Je=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Qe=function(t){return null!=t&&Je(t.length)&&!Ke(t)},tn=/^(?:0|[1-9]\d*)$/,en=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&tn.test(t))&&t>-1&&t%1==0&&t<e},nn=function(t,e,n){if(!Ze(n))return!1;var r=typeof e;return!!("number"==r?Qe(n)&&en(e,n.length):"string"==r&&e in n)&&Ye(n[e],t)},rn=function(t){return null!=t&&"object"==typeof t},on=function(t){return"symbol"==typeof t||rn(t)&&"[object Symbol]"==Ge(t)},an=/^\s+|\s+$/g,un=/^[-+]0x[0-9a-f]+$/i,sn=/^0b[01]+$/i,cn=/^0o[0-7]+$/i,ln=parseInt,fn=function(t){if("number"==typeof t)return t;if(on(t))return NaN;if(Ze(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ze(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(an,"");var n=sn.test(t);return n||cn.test(t)?ln(t.slice(2),n?2:8):un.test(t)?NaN:+t},hn=function(t){return t?(t=fn(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},pn=function(t){return function(e,n,r){return r&&"number"!=typeof r&&nn(e,n,r)&&(n=r=void 0),e=hn(e),void 0===n?(n=e,e=0):n=hn(n),r=void 0===r?e<n?1:-1:hn(r),De(e,n,r,t)}}();function dn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function gn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vn(){}var mn="\\s*([+-]?\\d+)\\s*",yn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",bn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wn=/^#([0-9a-f]{3,8})$/,xn=new RegExp("^rgb\\("+[mn,mn,mn]+"\\)$"),_n=new RegExp("^rgb\\("+[bn,bn,bn]+"\\)$"),Mn=new RegExp("^rgba\\("+[mn,mn,mn,yn]+"\\)$"),An=new RegExp("^rgba\\("+[bn,bn,bn,yn]+"\\)$"),En=new RegExp("^hsl\\("+[yn,bn,bn]+"\\)$"),kn=new RegExp("^hsla\\("+[yn,bn,bn,yn]+"\\)$"),Sn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Nn(){return this.rgb().formatHex()}function zn(){return this.rgb().formatRgb()}function $n(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?On(e):3===n?new Dn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Tn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Tn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=xn.exec(t))?new Dn(e[1],e[2],e[3],1):(e=_n.exec(t))?new Dn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Mn.exec(t))?Tn(e[1],e[2],e[3],e[4]):(e=An.exec(t))?Tn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=En.exec(t))?Pn(e[1],e[2]/100,e[3]/100,1):(e=kn.exec(t))?Pn(e[1],e[2]/100,e[3]/100,e[4]):Sn.hasOwnProperty(t)?On(Sn[t]):"transparent"===t?new Dn(NaN,NaN,NaN,0):null}function On(t){return new Dn(t>>16&255,t>>8&255,255&t,1)}function Tn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dn(t,e,n,r)}function jn(t){return t instanceof vn||(t=$n(t)),t?new Dn((t=t.rgb()).r,t.g,t.b,t.opacity):new Dn}function Ln(t,e,n,r){return 1===arguments.length?jn(t):new Dn(t,e,n,null==r?1:r)}function Dn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Yn(){return"#"+Rn(this.r)+Rn(this.g)+Rn(this.b)}function Cn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Rn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Pn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bn(t,e,n,r)}function Fn(t){if(t instanceof Bn)return new Bn(t.h,t.s,t.l,t.opacity);if(t instanceof vn||(t=$n(t)),!t)return new Bn;if(t instanceof Bn)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Bn(a,u,s,t.opacity)}function Bn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function In(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function qn(t,e){return"translate("+Math.round(t)+"px, "+Math.round(e)+"px);"}function Hn(t){return!0===t||void 0===t}function Wn(t){return!(!Hn(t.showDesktop)||!1!==t.showMobile)}function Un(t){return!1===t.showDesktop&&!1===t.showMobile}function Vn(t,e){return"function"==typeof e?e(t):t}dn(vn,$n,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Nn,formatHex:Nn,formatHsl:function(){return Fn(this).formatHsl()},formatRgb:zn,toString:zn}),dn(Dn,Ln,gn(vn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Dn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yn,formatHex:Yn,formatRgb:Cn,toString:Cn})),dn(Bn,(function(t,e,n,r){return 1===arguments.length?Fn(t):new Bn(t,e,n,null==r?1:r)}),gn(vn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Bn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Bn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dn(In(t>=240?t-240:t+120,i,r),In(t,i,r),In(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Xn=180/Math.PI;function Gn(t,e){return Math.atan(t/e)*Xn}function Zn(t,e,n){if(void 0===e&&(e=null),void 0===n&&(n=null),!e)return t;for(var r=e.split("."),i=t,o=0;o<r.length&&null!=i;o++)i=i[r[o]];return null==i?n:i}var Kn=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,Jn=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;function Qn(t,e){if(null===t)return null;if(void 0!==t){if((t=String(t)).indexOf("<")<0||t.indexOf(">")<0)return t;if(t=function(t,e){e=(((void 0!==e?e||"":"<a><span><b><br><br/><i><strong><sup><sub><strike><u><em><tt>")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");for(var n=t,r=t;;)if(r=(n=r).replace(Jn,"").replace(Kn,(function(t,n){return e.indexOf("<"+n.toLowerCase()+">")>-1?t:""})),n===r)return r}(t,e),"undefined"==typeof document)return t;var n=document.createElement("div");n.innerHTML=t;for(var r=n.querySelectorAll("*"),i=0;i<r.length;i++){"a"===r[i].nodeName.toLowerCase()&&("_self"!==r[i].getAttribute("target")&&r[i].setAttribute("target","_blank"),r[i].setAttribute("rel","nofollow noopener noreferrer"),r[i].getAttribute("href")&&r[i].getAttribute("href").trim().replace(/[^a-zA-Z0-9 -:]/g,"").startsWith("javascript:")&&r[i].setAttribute("href",""));for(var o=[],a=0;a<r[i].attributes.length;a++){var u=r[i].attributes[a];u.specified&&"on"===u.name.substr(0,2)&&o.push(u.name)}o.forEach((function(t){return r[i].removeAttribute(t)}))}return n.innerHTML}}var tr=U.document;function er(t){var e,n,r;return{c:function(){e=l("div"),m(n=f("svg"),"width","1"),m(n,"height","1"),m(n,"class","svelte-65or9n"),m(e,"class","connector-line svelte-65or9n"),m(e,"style",r="transform: "+qn(t[9],t[10]))},m:function(r,i){u(r,e,i),a(e,n),t[57](n)},p:function(t,n){1536&n[0]&&r!==(r="transform: "+qn(t[9],t[10]))&&m(e,"style",r)},d:function(n){n&&s(e),t[57](null)}}}function nr(t){var e,n,r,i;return{c:function(){e=l("div"),n=f("svg"),m(r=f("path"),"class","helper-line svelte-65or9n"),m(r,"d",i=t[27](t[0])),m(n,"width","1"),m(n,"height","1"),m(n,"class","svelte-65or9n"),m(e,"class","helper svelte-65or9n")},m:function(t,i){u(t,e,i),a(e,n),a(n,r)},p:function(t,e){134217729&e[0]&&i!==(i=t[27](t[0]))&&m(r,"d",i)},d:function(t){t&&s(e)}}}function rr(t){var e,n,r,i;return{c:function(){m(e=l("div"),"class","reference-point svelte-65or9n"),m(e,"style",n="transform: "+t[23]()),b(e,"hollow",t[22])},m:function(n,o){u(n,e,o),r||(i=g(e,"mousedown",v(t[32])),r=!0)},p:function(t,r){8388608&r[0]&&n!==(n="transform: "+t[23]())&&m(e,"style",n),4194304&r[0]&&b(e,"hollow",t[22])},d:function(t){t&&s(e),r=!1,i()}}}function ir(t){var e,n;return{c:function(){m(e=l("div"),"class","offset-point svelte-65or9n"),m(e,"style",n="transform: "+t[25]())},m:function(t,n){u(t,e,n)},p:function(t,r){33554432&r[0]&&n!==(n="transform: "+t[25]())&&m(e,"style",n)},d:function(t){t&&s(e)}}}function or(t){var e,n,r,i=Qn(t[0].text)+"";return{c:function(){e=l("div"),m(n=l("span"),"class","export-text"),m(e,"class","shadow-text svelte-65or9n"),m(e,"style",r=t[20](t[0])),b(e,"dw-bold",t[0].bold),b(e,"italic",t[0].italic),b(e,"underline",t[0].underline)},m:function(t,r){u(t,e,r),a(e,n),n.innerHTML=i},p:function(t,o){1&o[0]&&i!==(i=Qn(t[0].text)+"")&&(n.innerHTML=i),1048577&o[0]&&r!==(r=t[20](t[0]))&&m(e,"style",r),1&o[0]&&b(e,"dw-bold",t[0].bold),1&o[0]&&b(e,"italic",t[0].italic),1&o[0]&&b(e,"underline",t[0].underline)},d:function(t){t&&s(e)}}}function ar(t){var e;function n(t,e){return t[12]?cr:sr}var r=n(t),i=r(t);return{c:function(){e=l("span"),i.c(),m(e,"class","export-text")},m:function(t,n){u(t,e,n),i.m(e,null)},p:function(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(e,null)))},d:function(t){t&&s(e),i.d()}}}function ur(t){var e;function n(t,e){return t[12]?fr:lr}var r=n(t),i=r(t);return{c:function(){i.c(),e=d()},m:function(t,n){i.m(t,n),u(t,e,n)},p:function(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(e.parentNode,e)))},d:function(t){i.d(t),t&&s(e)}}}function sr(t){var e,n,r=Qn(t[0].text)+"";return{c:function(){n=d(),e=new x(n)},m:function(t,i){e.m(r,t,i),u(t,n,i)},p:function(t,n){1&n[0]&&r!==(r=Qn(t[0].text)+"")&&e.p(r)},d:function(t){t&&s(n),t&&e.d()}}}function cr(t){var e,n=t[6].num+"";return{c:function(){e=h(n)},m:function(t,n){u(t,e,n)},p:function(t,r){64&r[0]&&n!==(n=t[6].num+"")&&y(e,n)},d:function(t){t&&s(e)}}}function lr(t){var e;function n(t,e){return t[1]&&t[13]?pr:hr}var r=n(t),i=r(t);return{c:function(){e=l("div"),i.c(),m(e,"class","text-background svelte-65or9n")},m:function(t,n){u(t,e,n),i.m(e,null)},p:function(t,o){r===(r=n(t))&&i?i.p(t,o):(i.d(1),(i=r(t))&&(i.c(),i.m(e,null)))},d:function(t){t&&s(e),i.d()}}}function fr(t){var e,n,r=t[6].num+"";return{c:function(){e=l("span"),n=h(r)},m:function(t,r){u(t,e,r),a(e,n)},p:function(t,e){64&e[0]&&r!==(r=t[6].num+"")&&y(n,r)},d:function(t){t&&s(e)}}}function hr(t){var e,n=Qn(t[0].text)+"";return{c:function(){m(e=l("span"),"class","text-inner text-edit svelte-65or9n")},m:function(r,i){u(r,e,i),e.innerHTML=n,t[60](e)},p:function(t,r){1&r[0]&&n!==(n=Qn(t[0].text)+"")&&(e.innerHTML=n)},d:function(n){n&&s(e),t[60](null)}}}function pr(t){var e,n,i,o=Qn(t[17])+"";return{c:function(){m(e=l("span"),"contenteditable",""),m(e,"class","text-inner text-edit svelte-65or9n"),void 0===t[16]&&L((function(){return t[59].call(e)}))},m:function(r,a){u(r,e,a),e.innerHTML=o,t[58](e),void 0!==t[16]&&(e.innerHTML=t[16]),n||(i=[g(e,"input",t[59]),g(e,"input",t[33]),g(e,"blur",t[34])],n=!0)},p:function(t,n){131072&n[0]&&o!==(o=Qn(t[17])+"")&&(e.innerHTML=o),65536&n[0]&&t[16]!==e.innerHTML&&(e.innerHTML=t[16])},d:function(o){o&&s(e),t[58](null),n=!1,r(i)}}}function dr(t){var e,n,r,i,o;function a(e){t[61].call(null,e)}function u(e){t[62].call(null,e)}function s(e){t[63].call(null,e)}var c={type:"text",annotation:t[0],index:t[7]};return void 0!==t[3]&&(c.noOffsetAtEventStart=t[3]),void 0!==t[4]&&(c.activeResizer=t[4]),void 0!==t[5]&&(c.resizing=t[5]),e=new he({props:c}),N.push((function(){return V(e,"noOffsetAtEventStart",a)})),N.push((function(){return V(e,"activeResizer",u)})),N.push((function(){return V(e,"resizing",s)})),e.$on("selectAnnotation",t[64]),e.$on("setWidth",t[36]),{c:function(){X(e.$$.fragment)},m:function(t,n){G(e,t,n),o=!0},p:function(t,o){var a={};1&o[0]&&(a.annotation=t[0]),128&o[0]&&(a.index=t[7]),!n&&8&o[0]&&(n=!0,a.noOffsetAtEventStart=t[3],D((function(){return n=!1}))),!r&&16&o[0]&&(r=!0,a.activeResizer=t[4],D((function(){return r=!1}))),!i&&32&o[0]&&(i=!0,a.resizing=t[5],D((function(){return i=!1}))),e.$set(a)},i:function(t){o||(H(e.$$.fragment,t),o=!0)},o:function(t){W(e.$$.fragment,t),o=!1},d:function(t){Z(e,t)}}}function gr(t){var e,n,i,o,c,f,h,d,y,w,x,_,M=t[0].connectorLine&&t[0].connectorLine.enabled&&er(t),A=t[26]&&nr(t),E=t[21]&&rr(t),k=t[24]&&ir(t),S=t[0].bg&&t[28]&&!t[12]&&or(t);function N(t,e){return t[8]?ur:ar}var z=N(t),$=z(t),O=t[8]&&!t[12]&&dr(t);return{c:function(){e=l("div"),M&&M.c(),n=p(),A&&A.c(),i=p(),E&&E.c(),o=p(),k&&k.c(),c=p(),S&&S.c(),f=p(),h=l("div"),$.c(),d=p(),O&&O.c(),m(h,"class","text svelte-65or9n"),m(h,"style",y=t[19](t[0])),b(h,"dw-bold",t[0].bold||t[12]),b(h,"italic",t[0].italic&&!t[12]),b(h,"underline",t[0].underline&&!t[12]),b(h,"dw-circle",t[12]),b(h,"num",t[12]),m(e,"class","text-annotation svelte-65or9n"),b(e,"hide",t[18]),b(e,"edit-mode",t[8]),b(e,"selected",t[13]),b(e,"editable",t[1]&&t[13]),b(e,"not-editable",!t[1]||!t[13]),b(e,"key",t[12]),b(e,"dragging",t[2]),b(e,"resizing",t[5])},m:function(r,s){u(r,e,s),M&&M.m(e,null),a(e,n),A&&A.m(e,null),a(e,i),E&&E.m(e,null),a(e,o),k&&k.m(e,null),a(e,c),S&&S.m(e,null),a(e,f),a(e,h),$.m(h,null),a(h,d),O&&O.m(h,null),t[65](h),w=!0,x||(_=[g(window,"keydown",t[35]),g(h,"mousedown",v(t[29])),g(h,"click",t[30]),g(h,"contextmenu",t[31])],x=!0)},p:function(t,r){t[0].connectorLine&&t[0].connectorLine.enabled?M?M.p(t,r):((M=er(t)).c(),M.m(e,n)):M&&(M.d(1),M=null),t[26]?A?A.p(t,r):((A=nr(t)).c(),A.m(e,i)):A&&(A.d(1),A=null),t[21]?E?E.p(t,r):((E=rr(t)).c(),E.m(e,o)):E&&(E.d(1),E=null),t[24]?k?k.p(t,r):((k=ir(t)).c(),k.m(e,c)):k&&(k.d(1),k=null),t[0].bg&&t[28]&&!t[12]?S?S.p(t,r):((S=or(t)).c(),S.m(e,f)):S&&(S.d(1),S=null),z===(z=N(t))&&$?$.p(t,r):($.d(1),($=z(t))&&($.c(),$.m(h,d))),t[8]&&!t[12]?O?(O.p(t,r),4352&r[0]&&H(O,1)):((O=dr(t)).c(),H(O,1),O.m(h,null)):O&&(I(),W(O,1,1,(function(){O=null})),q()),(!w||524289&r[0]&&y!==(y=t[19](t[0])))&&m(h,"style",y),4097&r[0]&&b(h,"dw-bold",t[0].bold||t[12]),4097&r[0]&&b(h,"italic",t[0].italic&&!t[12]),4097&r[0]&&b(h,"underline",t[0].underline&&!t[12]),4096&r[0]&&b(h,"dw-circle",t[12]),4096&r[0]&&b(h,"num",t[12]),262144&r[0]&&b(e,"hide",t[18]),256&r[0]&&b(e,"edit-mode",t[8]),8192&r[0]&&b(e,"selected",t[13]),8194&r[0]&&b(e,"editable",t[1]&&t[13]),8194&r[0]&&b(e,"not-editable",!t[1]||!t[13]),4096&r[0]&&b(e,"key",t[12]),4&r[0]&&b(e,"dragging",t[2]),32&r[0]&&b(e,"resizing",t[5])},i:function(t){w||(H(O),w=!0)},o:function(t){W(O),w=!1},d:function(n){n&&s(e),M&&M.d(),A&&A.d(),E&&E.d(),k&&k.d(),S&&S.d(),$.d(),O&&O.d(),t[65](null),x=!1,r(_)}}}function vr(t,e,n){var r=e.annotation;void 0===r&&(r={});var i,o,a=e.dataToPx,u=e.pxToData,s=e.theme,c=Zn(s,"colors.background",!1),l=Zn(s,"style.chart.mobileAnnotations.icons.background",!1)||!!c&&function(t,e){void 0===e&&(e=1);var n=Ln(t);return n.opacity=e,n.formatRgb()}(c,.7)||"transparent",f=Zn(s,"style.chart.textAnnotations.color",!1)||Zn(s,"typography.chart.color",!1),h=e.cm,p=e.visWidth,d=e.isMobileWidth,g=e.key,v=0,m=0,y=0,b=0;function w(){var t=Gn(r.dy,r.dx)+90;return r.dx<0&&(t+=180),function(t){switch(!0){case t>337.5||t<=22.5:return"bc";case t>22.5&&t<=67.5:return"bl";case t>67.5&&t<=112.5:return"ml";case t>112.5&&t<=157.5:return"tl";case t>157.5&&t<=202.5:return"tc";case t>202.5&&t<=247.5:return"tr";case t>247.5&&t<=292.5:return"mr";case t>292.5&&t<=337.5:return"br";default:return"mc"}}(t)}function x(t){var e=T(r),n=e[0],i=e[1];return v>n-t&&v<n+y+t&&m>i-t&&m<i+b+t}A((function(){function t(){i&&(n(49,y=i.offsetWidth),n(50,b=i.offsetHeight),function(){if(r.connectorLine&&r.connectorLine.enabled){var t=ae(o);t.selectAll("*").remove();var e=T(r),n=e[0],i=e[1],a={x:n-v,y:i-m,width:y,height:b},u=r.connectorLine.arrowHead,s=function(){if(!$)return 4;var t=w();if(t.includes("c")||t.includes("m"))return 0;var e=(y*Math.sqrt(2)-y)/2;return-Math.sqrt(Math.pow(e,2)/2)}(),c=$?0:r.connectorLine.targetPadding,l=r.connectorLine.circle,h=r.connectorLine.circleStyle,p=r.connectorLine.circleRadius,d=r.connectorLine.type,g=$?1:r.connectorLine.stroke,_=f||"#222";r.connectorLine.inheritColor&&!$&&(_=S);var M=Oe({source:a,arrowHead:u,sourcePadding:s,targetPadding:c,circle:l,circleStyle:h,circleRadius:p,type:d,strokeWidth:g,color:_});t.call(M);var A=t.select(".callout-line").select("path").attr("d");(function(t,e){var n=t.replace("M","").replace("Q","").trim().replace(/ /g,",").split(","),r=Math.max(Math.abs(Number(n[0])),Math.abs(Number(n[1])))-e;return isNaN(r)&&(r=0),r})(A,c)<10||x(5)||function(t,e,n){if(t&&n){var r=e.indexOf("M ")+"M ".length,i=e.indexOf(" ",r),o=e.substring(r,i).split(",").map((function(t){return parseInt(t,10)}));return Math.pow(o[0]-0,2)+Math.pow(o[1]-0,2)<Math.pow(n,2)}}(l,A,p)?(t.selectAll("*").remove(),R&&X("updateEditorState",{hideConnectorLine:!0})):R&&X("updateEditorState",{hideConnectorLine:!1})}}())}Z?t():(j(),O).then(t)}));var _,M,S,z,$,T,L,D,Y,C,R,P,F,B,I,q,H,W,U,V,X=E(),G=e.index,Z=e.editMode,K=e.isEditable,J=e.editorState,Q=e.moveX,tt=e.moveY,et=e.dragging,nt=e.noOffsetAtEventStart,rt=e.forceOffsetDrag,it=e.forceAnchorDrag,ot=e.forceAnchorDragTemp,at=e.activeResizer,ut=e.resizing,st=r.text;return t.$$set=function(t){"annotation"in t&&n(0,r=t.annotation),"dataToPx"in t&&n(41,a=t.dataToPx),"pxToData"in t&&n(42,u=t.pxToData),"theme"in t&&n(43,s=t.theme),"cm"in t&&n(44,h=t.cm),"visWidth"in t&&n(45,p=t.visWidth),"isMobileWidth"in t&&n(46,d=t.isMobileWidth),"key"in t&&n(6,g=t.key),"index"in t&&n(7,G=t.index),"editMode"in t&&n(8,Z=t.editMode),"isEditable"in t&&n(1,K=t.isEditable),"editorState"in t&&n(47,J=t.editorState),"moveX"in t&&n(37,Q=t.moveX),"moveY"in t&&n(38,tt=t.moveY),"dragging"in t&&n(2,et=t.dragging),"noOffsetAtEventStart"in t&&n(3,nt=t.noOffsetAtEventStart),"forceOffsetDrag"in t&&n(39,rt=t.forceOffsetDrag),"forceAnchorDrag"in t&&n(40,it=t.forceAnchorDrag),"forceAnchorDragTemp"in t&&n(48,ot=t.forceAnchorDragTemp),"activeResizer"in t&&n(4,at=t.activeResizer),"resizing"in t&&n(5,ut=t.resizing)},t.$$.update=function(){var e,i;if(1&t.$$.dirty[0]&&n(0,r.dx=+r.dx||0,r),1&t.$$.dirty[0]&&n(0,r.dy=+r.dy||0,r),128&t.$$.dirty[0]|65536&t.$$.dirty[1]&&n(13,R=1===J.selectedTextAnnotations.length&&J.selectedTextAnnotations[0]===G),8205&t.$$.dirty[0]|135104&t.$$.dirty[1]&&R&&et&&(Q||tt)){if(nt&&!rt||it||ot){var o=a(r.x,r.y),s=o[0],A=o[1],E=u(s+=Q,A+=tt),k=E[0],N=E[1];n(0,r.x=k,r),n(0,r.y=N,r)}else n(0,r.dx+=Q,r),n(0,r.dy+=tt,r);rt&&nt&&!r.connectorLine.enabled&&!x(20)&&(n(0,r.connectorLine.enabled=!0,r),n(0,r.connectorLine.type="curveLeft",r)),n(37,Q=0),n(38,tt=0)}if(8249&t.$$.dirty[0]|19648&t.$$.dirty[1]&&R&&ut&&(Q||tt)){var O=Q/p*100,j=0;if(r.align.includes("c")?(j+=Q/2,"l"===at&&(O=-O)):r.align.includes("l")?"l"===at&&(j+=Q,O=-O):r.align.includes("r")&&("l"===at&&(O=-O),"r"===at&&(j+=Q)),nt){var ct=a(r.x,r.y),lt=ct[0],ft=ct[1],ht=u(lt+=j,ft),pt=ht[0],dt=ht[1];n(0,r.x=pt,r),n(0,r.y=dt,r)}else n(0,r.dx+=j,r);n(0,r.width+=O,r),n(0,r.width=Math.max(5,r.width),r),n(37,Q=0)}1&t.$$.dirty[0]&&n(51,S=r.color||f||"#222"),1&t.$$.dirty[0]|32768&t.$$.dirty[1]&&n(18,z=Un(r)||!(!Hn((i=r).showMobile)||!1!==i.showDesktop||d)||Wn(r)&&d),64&t.$$.dirty[0]&&n(12,$=g&&g.render),1&t.$$.dirty[0]|1024&t.$$.dirty[1]&&n(9,(e=a(r.x,r.y),v=e[0],m=e[1],e),v,(n(10,m),n(41,a),n(0,r),n(13,R),n(2,et),n(37,Q),n(38,tt),n(3,nt),n(39,rt),n(40,it),n(48,ot),n(42,u),n(5,ut),n(45,p),n(4,at),n(47,J),n(7,G))),1&t.$$.dirty[0]&&n(53,P=0===r.dx&&0===r.dy),5632&t.$$.dirty[0]|4980736&t.$$.dirty[1]&&n(52,T=function(t){var e,n=[v,m],i=n[0],o=n[1],a=t.align;$||(i+=t.dx,o+=t.dy),$&&!P&&(i=(e=function(t,e){var n=r.connectorLine.circle?Math.max(0,r.connectorLine.circleRadius):0,i=20+n,o=25+n,a=w(),u={br:[-i,-i],bc:[-o,0],bl:[-i,i],mr:[0,-o],mc:[-o-.5*b,0],ml:[0,o],tr:[i,-i],tc:[o,0],tl:[i,i]}[a],s=u[0];return[t+=u[1],e+=s]}(i,o))[0],o=e[1],a="mc");var u=a.charAt(1),s=a.charAt(0);return[i-=y*{l:0,c:.5,r:1}[u],o-=b*{t:0,m:.5,b:1}[s]]}),2097152&t.$$.dirty[1]&&n(54,L=function(t){var e=T(t);return qn(e[0],e[1])}),4096&t.$$.dirty[0]|26222592&t.$$.dirty[1]&&n(19,Y=function(t){var e=[];if($){var n=f||"#222";e.push("color: "+Vn(n,h)),e.push("border-color: "+Vn(n,h)),e.push("background-color: "+Vn(l,h))}else e.push.apply(e,D(t)),e.push("color: "+Vn(S,h));return e.push("transform: "+L(t)),e.join("; ")}),25165824&t.$$.dirty[1]&&n(20,C=function(t){var e=[];return e.push.apply(e,D(t)),e.push("text-shadow: "+function(t,e,n){var r=[],i=pn(-t,t+1);return i.forEach((function(t){i.forEach((function(i){(t||i)&&r.push(t+"px "+i+"px "+(t&&i?0:e)+"px "+n)}))})),r.join(", ")}(2,2,c)),e.push("transform: "+L(t)),e.join("; ")}),2050&t.$$.dirty[0]&&!K&&_&&_.blur(),13824&t.$$.dirty[0]|786432&t.$$.dirty[1]&&R&&X("updateEditorState",{selectedAnnotationProps:{x:v,y:m,width:y,height:b,mobileFallback:$}}),1&t.$$.dirty[0]&&n(56,F="mc"===r.align),12544&t.$$.dirty[0]|37748736&t.$$.dirty[1]&&n(21,B=Z&&R&&!$&&!(P&&F)),12544&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&n(22,I=Z&&R&&!$&&!P),1536&t.$$.dirty[0]&&n(23,q=function(){var t=[v,m],e=t[0],n=t[1];return qn(e-=2.5,n-=2.5)}),12544&t.$$.dirty[0]|37748736&t.$$.dirty[1]&&n(24,H=Z&&R&&!$&&!P&&!F),1537&t.$$.dirty[0]&&n(25,W=function(){var t=[v,m],e=t[0],n=t[1];return e-=2.5,n-=2.5,qn(e+=r.dx,n+=r.dy)}),1&t.$$.dirty[0]&&(document.activeElement.classList.contains("text-edit")||(n(16,M=Qn(r.text)),n(17,st=r.text))),12545&t.$$.dirty[0]|4194304&t.$$.dirty[1]&&n(26,U=Z&&R&&!r.connectorLine.enabled&&!P&&!$),1536&t.$$.dirty[0]&&n(27,V=function(t){var e=[v,m],n=e[0],r=e[1];return"M "+n+","+r+" L"+(n+t.dx)+","+(r+t.dy)})},n(55,D=function(t){var e=[];return t.width&&e.push("width: "+function(t){return p*(t.width/100)+"px"}(t)),e.push("font-size: "+(t.size||14)+"px"),e.push("min-height: "+(t.size||14)+"px"),e.push("text-align: "+function(t){return t.align?{l:"left",c:"center",r:"right"}[t.align.charAt(1)]:"center"}(t)),e}),[r,K,et,nt,at,ut,g,G,Z,v,m,_,$,R,i,o,M,st,z,Y,C,B,I,q,H,W,U,V,c,function(t){if(Z){ue(),X("selectAnnotation",{type:"text",index:G});var e="true"===t.target.contentEditable||"true"===t.target.parentNode.contentEditable;$||e&&R||(n(37,Q=0),n(38,tt=0),n(2,et=!0),n(39,rt=t.ctrlKey),rt&&X("updateEditorState",{forceOffsetDrag:!0}),n(3,nt=0===r.dx&&0===r.dy))}},function(t){Z&&t.preventDefault()},function(t){Z&&t.preventDefault()},function(t){Z&&(ue(),X("selectAnnotation",{type:"text",index:G}),n(2,et=!0),n(40,it=!0))},function(t){n(0,r.text=M.slice&&"&nbsp;"===M.slice(-6)&&"&nbsp;&nbsp;"!==M.slice(-12)?M.slice(0,-6)+" ":M,r),X("update")},function(){ue()},function(t){if(Z&&!$){var e="ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key;if("Escape"===t.key&&R&&K)_.blur(),n(1,K=!1);else if("Escape"===t.key&&R)X("selectAnnotation",null);else if(e&&R&&!K){t.preventDefault();var i="ArrowLeft"===t.key?-1:"ArrowRight"===t.key?1:0,o="ArrowUp"===t.key?-1:"ArrowDown"===t.key?1:0;if(t.ctrlKey)n(0,r.dx+=i,r),n(0,r.dy+=o,r);else{var s=a(r.x,r.y),c=s[0],l=s[1],f=u(c+=i,l+=o),h=f[0],p=f[1];n(0,r.x=h,r),n(0,r.y=p,r)}X("update")}}},function(){n(0,r.width=y/p*100,r)},Q,tt,rt,it,a,u,s,h,p,d,J,ot,y,b,S,T,P,L,D,F,function(t){N[t?"unshift":"push"]((function(){n(15,o=t)}))},function(t){N[t?"unshift":"push"]((function(){n(11,_=t)}))},function(){M=this.innerHTML,n(16,M),n(0,r),n(13,R),n(2,et),n(37,Q),n(38,tt),n(3,nt),n(39,rt),n(40,it),n(48,ot),n(41,a),n(42,u),n(5,ut),n(45,p),n(4,at),n(47,J),n(7,G)},function(t){N[t?"unshift":"push"]((function(){n(11,_=t)}))},function(t){n(3,nt=t)},function(t){n(4,at=t)},function(t){n(5,ut=t)},function(e){k(t,e)},function(t){N[t?"unshift":"push"]((function(){n(14,i=t)}))}]}var mr=function(t){function e(e){var n;t.call(this),tr.getElementById("svelte-65or9n-style")||((n=l("style")).id="svelte-65or9n-style",n.textContent=".text-annotation.svelte-65or9n.svelte-65or9n{position:relative;z-index:2;pointer-events:auto}.text.svelte-65or9n.svelte-65or9n,.shadow-text.svelte-65or9n.svelte-65or9n{position:absolute;white-space:pre-line;line-height:1.2;outline-color:rgba(0, 0, 0, 0)}.shadow-text.svelte-65or9n.svelte-65or9n{pointer-events:none}.shadow-text.svelte-65or9n.svelte-65or9n,.text-annotation .shadow-text *{color:transparent !important}.dw-bold.svelte-65or9n.svelte-65or9n{font-weight:700}.italic.svelte-65or9n.svelte-65or9n{font-style:italic}.underline.svelte-65or9n.svelte-65or9n{text-decoration:underline}.num.svelte-65or9n.svelte-65or9n{display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;border:1px solid #222;width:20px;height:20px;color:#222}.connector-line.svelte-65or9n.svelte-65or9n{position:absolute}svg.svelte-65or9n.svelte-65or9n{position:absolute;overflow:visible}.reference-point.svelte-65or9n.svelte-65or9n,.offset-point.svelte-65or9n.svelte-65or9n{position:absolute;width:5px;height:5px;background:rgba(255, 0, 221, 0.95);z-index:1}.reference-point.hollow.svelte-65or9n.svelte-65or9n{background:rgba(255, 0, 221, 0.1);border:1px solid rgba(255, 0, 221, 0.95);border-radius:50%;left:-1px;top:-1px;z-index:auto}.reference-point.svelte-65or9n.svelte-65or9n::before{content:'';position:absolute;top:-5px;left:-5px;width:calc(100% + 9px);height:calc(100% + 9px);cursor:grab}.edit-mode.svelte-65or9n:not(.key) .text.svelte-65or9n{cursor:grab}.edit-mode.svelte-65or9n:not(.key) .text .text-inner.svelte-65or9n:after{outline:1px none rgba(255, 0, 221, 0);transition:outline-color 0.2s, outline-style 0.2s}.edit-mode.svelte-65or9n:not(.key):not(.selected) .text:hover .text-inner.svelte-65or9n:after{outline:1px dotted rgba(255, 0, 221, 0.95)}.edit-mode.svelte-65or9n:not(.key) .text.svelte-65or9n::before{content:'';z-index:-1;position:absolute;top:-10px;left:-10px;width:calc(100% + 20px);height:calc(100% + 20px);cursor:grab}.edit-mode.selected.svelte-65or9n .text.svelte-65or9n{outline-style:solid}.edit-mode.svelte-65or9n .text-background.svelte-65or9n{position:relative}.edit-mode.selected.svelte-65or9n:not(.editable) .text-inner.svelte-65or9n::after{background:rgba(255, 0, 221, 0.1)}.edit-mode.svelte-65or9n:not(.selected):hover .text-inner.svelte-65or9n::after,.edit-mode.selected.editable.svelte-65or9n:hover .text-inner.svelte-65or9n::after{background:rgba(255, 0, 221, 0.05)}.edit-mode.svelte-65or9n .text:hover .text-inner.svelte-65or9n::after,.edit-mode.selected.svelte-65or9n .text .text-inner.svelte-65or9n::after{outline:1px solid rgba(255, 0, 221, 0.95)}.edit-mode.editable.svelte-65or9n:hover .text-inner.svelte-65or9n:hover:after{background:transparent !important}.edit-mode.svelte-65or9n .text-inner.svelte-65or9n:after{content:'';width:100%;height:100%;position:absolute;left:0;top:0;pointer-events:none}.edit-mode.selected.editable.svelte-65or9n .text.svelte-65or9n{background:transparent}.edit-mode.selected.editable.svelte-65or9n .text-inner.svelte-65or9n{background:rgba(255, 255, 255, 0.9);cursor:text}.edit-mode.not-editable.svelte-65or9n.svelte-65or9n:not(.key){user-select:none;cursor:grab}.edit-mode.svelte-65or9n .text-inner.svelte-65or9n{outline:0}.edit-mode.dragging.svelte-65or9n.svelte-65or9n,.edit-mode.dragging.svelte-65or9n .text.svelte-65or9n::before,.edit-mode.dragging.selected.svelte-65or9n .text-inner.svelte-65or9n{cursor:grabbing}.edit-mode.svelte-65or9n .helper.svelte-65or9n{position:absolute}.edit-mode.svelte-65or9n .helper-line.svelte-65or9n{stroke:rgba(255, 0, 221, 0.95);stroke-dasharray:2, 2;fill:none}.edit-mode.svelte-65or9n .num.text.svelte-65or9n{outline:0}.edit-mode.selected.svelte-65or9n .num .text-inner.svelte-65or9n{background:transparent}",a(tr.head,n)),J(this,e,vr,gr,o,{annotation:0,dataToPx:41,pxToData:42,theme:43,cm:44,visWidth:45,isMobileWidth:46,key:6,index:7,editMode:8,isEditable:1,editorState:47,moveX:37,moveY:38,dragging:2,noOffsetAtEventStart:3,forceOffsetDrag:39,forceAnchorDrag:40,forceAnchorDragTemp:48,activeResizer:4,resizing:5},[-1,-1,-1])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Q);function yr(t){var e,n,r,i,o,a,c=t[3]&&wr(t);return{c:function(){e=l("div"),i=p(),c&&c.c(),o=d(),m(e,"class",n="range-annotation dw-rect range "+t[0].type+" svelte-ljzw81"),m(e,"style",r=t[6](t[0]))},m:function(t,n){u(t,e,n),u(t,i,n),c&&c.m(t,n),u(t,o,n),a=!0},p:function(t,i){(!a||1&i&&n!==(n="range-annotation dw-rect range "+t[0].type+" svelte-ljzw81"))&&m(e,"class",n),(!a||65&i&&r!==(r=t[6](t[0])))&&m(e,"style",r),t[3]?c?(c.p(t,i),8&i&&H(c,1)):((c=wr(t)).c(),H(c,1),c.m(o.parentNode,o)):c&&(I(),W(c,1,1,(function(){c=null})),q())},i:function(t){a||(H(c),a=!0)},o:function(t){W(c),a=!1},d:function(t){t&&s(e),t&&s(i),c&&c.d(t),t&&s(o)}}}function br(t){var e,n,r,i,o,a,c=t[3]&&xr(t);return{c:function(){e=l("div"),c&&c.c(),m(e,"class",n="range-annotation dw-line line "+t[0].type+" svelte-ljzw81"),m(e,"style",r=t[7](t[0])),b(e,"edit-mode",t[3]),b(e,"no-edit-mode",!t[3]),b(e,"selected",t[5])},m:function(n,r){u(n,e,r),c&&c.m(e,null),i=!0,o||(a=g(e,"mousedown",v(t[21])),o=!0)},p:function(t,o){t[3]?c?(c.p(t,o),8&o&&H(c,1)):((c=xr(t)).c(),H(c,1),c.m(e,null)):c&&(I(),W(c,1,1,(function(){c=null})),q()),(!i||1&o&&n!==(n="range-annotation dw-line line "+t[0].type+" svelte-ljzw81"))&&m(e,"class",n),(!i||129&o&&r!==(r=t[7](t[0])))&&m(e,"style",r),9&o&&b(e,"edit-mode",t[3]),9&o&&b(e,"no-edit-mode",!t[3]),33&o&&b(e,"selected",t[5])},i:function(t){i||(H(c),i=!0)},o:function(t){W(c),i=!1},d:function(t){t&&s(e),c&&c.d(),o=!1,a()}}}function wr(t){var e,n,r,i,o,c,f,h,d,y,w;function x(e){t[25].call(null,e)}function _(e){t[26].call(null,e)}var M={type:"range",annotation:t[0],index:t[4],orientation:t[0].type};return void 0!==t[2]&&(M.activeResizer=t[2]),void 0!==t[1]&&(M.resizing=t[1]),i=new he({props:M}),N.push((function(){return V(i,"activeResizer",x)})),N.push((function(){return V(i,"resizing",_)})),i.$on("selectAnnotation",t[27]),{c:function(){e=l("div"),(n=l("div")).innerHTML='<div class="dot svelte-ljzw81"></div>',r=p(),X(i.$$.fragment),m(n,"class","dot-drag svelte-ljzw81"),m(e,"style",f=t[6](t[0])),m(e,"class",h="range-annotation edit-mode range "+t[0].type+" svelte-ljzw81"),b(e,"edit-mode",t[3]),b(e,"no-edit-mode",!t[3]),b(e,"selected",t[5])},m:function(o,s){u(o,e,s),a(e,n),a(e,r),G(i,e,null),d=!0,y||(w=g(n,"mousedown",v(t[9])),y=!0)},p:function(t,n){var r={};1&n&&(r.annotation=t[0]),16&n&&(r.index=t[4]),1&n&&(r.orientation=t[0].type),!o&&4&n&&(o=!0,r.activeResizer=t[2],D((function(){return o=!1}))),!c&&2&n&&(c=!0,r.resizing=t[1],D((function(){return c=!1}))),i.$set(r),(!d||65&n&&f!==(f=t[6](t[0])))&&m(e,"style",f),(!d||1&n&&h!==(h="range-annotation edit-mode range "+t[0].type+" svelte-ljzw81"))&&m(e,"class",h),9&n&&b(e,"edit-mode",t[3]),9&n&&b(e,"no-edit-mode",!t[3]),33&n&&b(e,"selected",t[5])},i:function(t){d||(H(i.$$.fragment,t),d=!0)},o:function(t){W(i.$$.fragment,t),d=!1},d:function(t){t&&s(e),Z(i),y=!1,w()}}}function xr(t){var e,n,r,i;function o(e){t[22].call(null,e)}function a(e){t[23].call(null,e)}var u={annotation:t[0],index:t[4],orientation:t[0].type};return void 0!==t[2]&&(u.activeResizer=t[2]),void 0!==t[1]&&(u.resizing=t[1]),e=new he({props:u}),N.push((function(){return V(e,"activeResizer",o)})),N.push((function(){return V(e,"resizing",a)})),e.$on("selectAnnotation",t[24]),{c:function(){X(e.$$.fragment)},m:function(t,n){G(e,t,n),i=!0},p:function(t,i){var o={};1&i&&(o.annotation=t[0]),16&i&&(o.index=t[4]),1&i&&(o.orientation=t[0].type),!n&&4&i&&(n=!0,o.activeResizer=t[2],D((function(){return n=!1}))),!r&&2&i&&(r=!0,o.resizing=t[1],D((function(){return r=!1}))),e.$set(o)},i:function(t){i||(H(e.$$.fragment,t),i=!0)},o:function(t){W(e.$$.fragment,t),i=!1},d:function(t){Z(e,t)}}}function _r(t){var e,n,r,i,o,a,c=[br,yr],l=[];function f(t,e){return"line"===t[0].display?0:1}return e=f(t),n=l[e]=c[e](t),{c:function(){n.c(),r=d()},m:function(n,s){l[e].m(n,s),u(n,r,s),i=!0,o||(a=g(window,"keydown",t[8]),o=!0)},p:function(t,i){var o=i[0],a=e;(e=f(t))===a?l[e].p(t,o):(I(),W(l[a],1,1,(function(){l[a]=null})),q(),(n=l[e])?n.p(t,o):(n=l[e]=c[e](t)).c(),H(n,1),n.m(r.parentNode,r))},i:function(t){i||(H(n),i=!0)},o:function(t){W(n),i=!1},d:function(t){l[e].d(t),t&&s(r),o=!1,a()}}}function Mr(t,e,n){var r,i,o,a,u,s,c,l=e.annotation,f=e.dataToPx,h=e.pxToData,p=e.editorState,d=e.editMode,g=e.index,v=e.moveX,m=e.moveY,y=e.resizing,b=e.dragging,w=e.activeResizer,x=e.forceAnchorDragTemp,_=E();return t.$$set=function(t){"annotation"in t&&n(0,l=t.annotation),"dataToPx"in t&&n(13,f=t.dataToPx),"pxToData"in t&&n(14,h=t.pxToData),"editorState"in t&&n(15,p=t.editorState),"editMode"in t&&n(3,d=t.editMode),"index"in t&&n(4,g=t.index),"moveX"in t&&n(10,v=t.moveX),"moveY"in t&&n(11,m=t.moveY),"resizing"in t&&n(1,y=t.resizing),"dragging"in t&&n(12,b=t.dragging),"activeResizer"in t&&n(2,w=t.activeResizer),"forceAnchorDragTemp"in t&&n(16,x=t.forceAnchorDragTemp)},t.$$.update=function(){if(32784&t.$$.dirty&&n(5,r=1===p.selectedRangeAnnotations.length&&p.selectedRangeAnnotations[0]===g),93223&t.$$.dirty&&r&&y&&(v||m))if(["l","r"].includes(w)){var e,d=f(l.x0,0)[0],_=f(l.x1,0)[0];"l"===w&&"line"===l.display?e="x0":"l"===w?e=d>_?"x1":"x0":"r"===w&&(e=d>_?"x0":"x1");var M=f(l[e],0)[0],A=f(l["x1"===e?"x0":"x1"],0)[0];M-A>0!=M+v-A>0&&n(2,w="l"===w?"r":"l");var E=h(M+=v,0)[0];if(n(0,l[e]=E,l),x){var k=h(A-=v,0)[0];n(0,l["x1"===e?"x0":"x1"]=k,l)}n(10,v=0)}else{var S,N=f(0,l.y0)[1],z=f(0,l.y1)[1];"t"===w&&"line"===l.display?S="y0":"t"===w?S=N<z?"y0":"y1":"b"===w&&(S=N<z?"y1":"y0");var $=f(0,l[S]),O=$[0],T=$[1],j=f(0,l["y1"===S?"y0":"y1"])[1];T-j>0!=T+m-j>0&&n(2,w="t"===w?"b":"t");var L=h(O,T+=m),D=(L[0],L[1]);n(0,l[S]=D,l),n(11,m=0)}if(31777&t.$$.dirty&&r&&b&&(v||m))if("x"===l.type){var Y=f(l.x0,0),C=Y[0],R=(Y[1],f(l.x1,0)),P=R[0];R[1],P+=v;var F=h(C+=v,0),B=F[0],I=(F[1],h(P,0)),q=I[0];I[1],n(0,l.x0=B,l),n(0,l.x1=q,l),n(10,v=0)}else{var H=f(0,l.y0),W=(H[0],H[1]),U=f(0,l.y1),V=(U[0],U[1]);V+=m;var X=h(0,W+=m),G=(X[0],X[1]),Z=h(0,V),K=(Z[0],Z[1]);n(0,l.y0=G,l),n(0,l.y1=K,l),n(11,m=0)}8193&t.$$.dirty&&n(17,i="x"===l.type?f(l.x0,0)[0]:f(0,l.y0)[1]),8193&t.$$.dirty&&n(18,o="x"===l.type?f(l.x1,0)[0]:f(0,l.y1)[1]),393216&t.$$.dirty&&n(19,a=Math.min(i,o)),393216&t.$$.dirty&&n(20,u=Math.max(i,o)),1572864&t.$$.dirty&&n(6,s=function(t){var e=[],n=$n(t.color),r=t.opacity/100;return e.push("background-color: rgba("+n.r+", "+n.g+", "+n.b+", "+r+")"),e.push(("x"===t.type?"left":"top")+": "+a+"px"),e.push(("x"===t.type?"width":"height")+": "+(u-a)+"px"),e.join("; ")}),131072&t.$$.dirty&&n(7,c=function(t){var e=[];e.push(("x"===t.type?"left":"top")+": "+i+"px");var n=$n(t.color),r=t.opacity/100;return e.push("border-color: rgba("+n.r+", "+n.g+", "+n.b+", "+r+")"),"x"===t.type?e.push("border-left-width: "+(t.strokeWidth||1)+"px"):e.push("border-top-width: "+(t.strokeWidth||1)+"px"),"dashed"===t.strokeType?e.push("border-style: dashed"):"dotted"===t.strokeType?e.push("border-style: dotted"):e.push("border-style: solid"),e.join("; ")})},[l,y,w,d,g,r,s,c,function(t){d&&"Escape"===t.key&&r&&_("selectAnnotation",null)},function(t){d&&(_("selectAnnotation",{type:"range",index:g}),n(12,b=!0))},v,m,b,f,h,p,x,i,o,a,u,function(e){k(t,e)},function(t){n(2,w=t),n(5,r),n(1,y),n(10,v),n(11,m),n(13,f),n(0,l),n(14,h),n(16,x),n(15,p),n(4,g),n(12,b)},function(t){n(1,y=t)},function(e){k(t,e)},function(t){n(2,w=t),n(5,r),n(1,y),n(10,v),n(11,m),n(13,f),n(0,l),n(14,h),n(16,x),n(15,p),n(4,g),n(12,b)},function(t){n(1,y=t)},function(e){k(t,e)}]}var Ar=function(t){function e(e){var n;t.call(this),document.getElementById("svelte-ljzw81-style")||((n=l("style")).id="svelte-ljzw81-style",n.textContent=".create-mode .range-annotation{pointer-events:none !important}.range-annotation.svelte-ljzw81.svelte-ljzw81{position:absolute;top:0px;left:0px;pointer-events:none}.range-annotation.edit-mode.svelte-ljzw81.svelte-ljzw81{display:flex;justify-content:center;align-items:center;pointer-events:auto;z-index:1}.range-annotation.edit-mode.svelte-ljzw81:hover .dot.svelte-ljzw81{opacity:1 !important}.range-annotation.edit-mode.selected.svelte-ljzw81.svelte-ljzw81{z-index:2}.range-annotation.edit-mode.selected.svelte-ljzw81 .dot.svelte-ljzw81{opacity:1}.range-annotation.edit-mode.selected.range.svelte-ljzw81.svelte-ljzw81{z-index:2;outline:1px solid rgba(255, 0, 221, 0.95)}.range-annotation.edit-mode.selected.line.svelte-ljzw81.svelte-ljzw81{border-color:rgba(255, 0, 221, 0.95) !important}.range-annotation.edit-mode.range.svelte-ljzw81.svelte-ljzw81{z-index:1;background:transparent !important}.range-annotation.edit-mode.range.svelte-ljzw81 .dot-drag.svelte-ljzw81{width:20px;height:20px;cursor:grab;display:flex;align-items:center;justify-content:center}.range-annotation.edit-mode.range.svelte-ljzw81 .dot-drag .dot.svelte-ljzw81{width:5px;height:5px;background:rgba(255, 0, 221, 0.95);opacity:0;transition:opacity 0.2s}.range-annotation.x.svelte-ljzw81.svelte-ljzw81{height:100%}.range-annotation.y.svelte-ljzw81.svelte-ljzw81{width:100%}.range-annotation.range.svelte-ljzw81.svelte-ljzw81{z-index:-1}.range-annotation.line.svelte-ljzw81.svelte-ljzw81{z-index:1;border-width:0;background:transparent}.range-annotation.line.x.svelte-ljzw81.svelte-ljzw81{height:100%;width:0px}.range-annotation.line.y.svelte-ljzw81.svelte-ljzw81{width:100%;height:0px}.create-mode .range-annotation{pointer-events:none}",a(document.head,n)),J(this,e,Mr,_r,o,{annotation:0,dataToPx:13,pxToData:14,editorState:15,editMode:3,index:4,moveX:10,moveY:11,resizing:1,dragging:12,activeResizer:2,forceAnchorDragTemp:16})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Q);function Er(t){if(!t||"object"!=typeof t)return t;try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}var kr=U.document;function Sr(t,e,n){var r=t.slice();return r[66]=e[n],r[68]=n,r}function Nr(t,e,n){var r=t.slice();return r[66]=e[n],r[68]=n,r}function zr(t){var e,n,r,i,o,a,u,s,c,l,f;function h(e){t[42].call(null,e)}function p(e){t[43].call(null,e)}function d(e){t[44].call(null,e)}function g(e){t[45].call(null,e)}function v(e){t[46].call(null,e)}function m(e){t[47].call(null,e)}function y(e){t[48].call(null,e)}function b(e){t[49].call(null,e)}function w(e){t[50].call(null,e)}var x={annotation:t[66],dataToPx:t[1],pxToData:t[2],theme:t[3],cm:t[4],visWidth:t[5],isMobileWidth:t[14],index:t[24].length-1-t[68],editMode:t[6],editorState:t[0],forceAnchorDragTemp:t[21],key:t[15][t[24].length-1-t[68]]};return void 0!==t[18]&&(x.noOffsetAtEventStart=t[18]),void 0!==t[23]&&(x.isEditable=t[23]),void 0!==t[10]&&(x.dragging=t[10]),void 0!==t[20]&&(x.forceAnchorDrag=t[20]),void 0!==t[19]&&(x.forceOffsetDrag=t[19]),void 0!==t[8]&&(x.moveX=t[8]),void 0!==t[9]&&(x.moveY=t[9]),void 0!==t[11]&&(x.resizing=t[11]),void 0!==t[22]&&(x.activeResizer=t[22]),e=new mr({props:x}),N.push((function(){return V(e,"noOffsetAtEventStart",h)})),N.push((function(){return V(e,"isEditable",p)})),N.push((function(){return V(e,"dragging",d)})),N.push((function(){return V(e,"forceAnchorDrag",g)})),N.push((function(){return V(e,"forceOffsetDrag",v)})),N.push((function(){return V(e,"moveX",m)})),N.push((function(){return V(e,"moveY",y)})),N.push((function(){return V(e,"resizing",b)})),N.push((function(){return V(e,"activeResizer",w)})),e.$on("selectAnnotation",t[27]),e.$on("updateEditorState",t[28]),e.$on("update",t[51]),{c:function(){X(e.$$.fragment)},m:function(t,n){G(e,t,n),f=!0},p:function(t,f){var h={};16777216&f[0]&&(h.annotation=t[66]),2&f[0]&&(h.dataToPx=t[1]),4&f[0]&&(h.pxToData=t[2]),8&f[0]&&(h.theme=t[3]),16&f[0]&&(h.cm=t[4]),32&f[0]&&(h.visWidth=t[5]),16384&f[0]&&(h.isMobileWidth=t[14]),16777216&f[0]&&(h.index=t[24].length-1-t[68]),64&f[0]&&(h.editMode=t[6]),1&f[0]&&(h.editorState=t[0]),2097152&f[0]&&(h.forceAnchorDragTemp=t[21]),16809984&f[0]&&(h.key=t[15][t[24].length-1-t[68]]),!n&&262144&f[0]&&(n=!0,h.noOffsetAtEventStart=t[18],D((function(){return n=!1}))),!r&&8388608&f[0]&&(r=!0,h.isEditable=t[23],D((function(){return r=!1}))),!i&&1024&f[0]&&(i=!0,h.dragging=t[10],D((function(){return i=!1}))),!o&&1048576&f[0]&&(o=!0,h.forceAnchorDrag=t[20],D((function(){return o=!1}))),!a&&524288&f[0]&&(a=!0,h.forceOffsetDrag=t[19],D((function(){return a=!1}))),!u&&256&f[0]&&(u=!0,h.moveX=t[8],D((function(){return u=!1}))),!s&&512&f[0]&&(s=!0,h.moveY=t[9],D((function(){return s=!1}))),!c&&2048&f[0]&&(c=!0,h.resizing=t[11],D((function(){return c=!1}))),!l&&4194304&f[0]&&(l=!0,h.activeResizer=t[22],D((function(){return l=!1}))),e.$set(h)},i:function(t){f||(H(e.$$.fragment,t),f=!0)},o:function(t){W(e.$$.fragment,t),f=!1},d:function(t){Z(e,t)}}}function $r(t){var e,n,r,i,o,a,u;function s(e){t[53].call(null,e)}function c(e){t[54].call(null,e)}function l(e){t[55].call(null,e)}function f(e){t[56].call(null,e)}function h(e){t[57].call(null,e)}var p={annotation:t[66],dataToPx:t[1],pxToData:t[2],visWidth:t[5],editMode:t[6],editorState:t[0],forceAnchorDragTemp:t[21],index:t[25].length-1-t[68]};return void 0!==t[10]&&(p.dragging=t[10]),void 0!==t[8]&&(p.moveX=t[8]),void 0!==t[9]&&(p.moveY=t[9]),void 0!==t[11]&&(p.resizing=t[11]),void 0!==t[22]&&(p.activeResizer=t[22]),e=new Ar({props:p}),N.push((function(){return V(e,"dragging",s)})),N.push((function(){return V(e,"moveX",c)})),N.push((function(){return V(e,"moveY",l)})),N.push((function(){return V(e,"resizing",f)})),N.push((function(){return V(e,"activeResizer",h)})),e.$on("selectAnnotation",t[27]),{c:function(){X(e.$$.fragment)},m:function(t,n){G(e,t,n),u=!0},p:function(t,u){var s={};33554432&u[0]&&(s.annotation=t[66]),2&u[0]&&(s.dataToPx=t[1]),4&u[0]&&(s.pxToData=t[2]),32&u[0]&&(s.visWidth=t[5]),64&u[0]&&(s.editMode=t[6]),1&u[0]&&(s.editorState=t[0]),2097152&u[0]&&(s.forceAnchorDragTemp=t[21]),33554432&u[0]&&(s.index=t[25].length-1-t[68]),!n&&1024&u[0]&&(n=!0,s.dragging=t[10],D((function(){return n=!1}))),!r&&256&u[0]&&(r=!0,s.moveX=t[8],D((function(){return r=!1}))),!i&&512&u[0]&&(i=!0,s.moveY=t[9],D((function(){return i=!1}))),!o&&2048&u[0]&&(o=!0,s.resizing=t[11],D((function(){return o=!1}))),!a&&4194304&u[0]&&(a=!0,s.activeResizer=t[22],D((function(){return a=!1}))),e.$set(s)},i:function(t){u||(H(e.$$.fragment,t),u=!0)},o:function(t){W(e.$$.fragment,t),u=!1},d:function(t){Z(e,t)}}}function Or(t){var e,n,r;return{c:function(){m(e=l("div"),"class",n="create-rect "+t[0].createMode+" svelte-smqemv"),m(e,"style",r=t[26]())},m:function(t,n){u(t,e,n)},p:function(t,i){1&i[0]&&n!==(n="create-rect "+t[0].createMode+" svelte-smqemv")&&m(e,"class",n),67108864&i[0]&&r!==(r=t[26]())&&m(e,"style",r)},d:function(t){t&&s(e)}}}function Tr(t){var e,n,i,o,f,h,d,v,y;L(t[41]);for(var w=t[24],x=[],_=0;_<w.length;_+=1)x[_]=zr(Nr(t,w,_));for(var M=function(t){return W(x[t],1,1,(function(){x[t]=null}))},A=t[25],E=[],k=0;k<A.length;k+=1)E[k]=$r(Sr(t,A,k));var S=function(t){return W(E[t],1,1,(function(){E[t]=null}))},N=t[6]&&t[12]&&Or(t);return{c:function(){e=p(),n=l("div"),i=l("div");for(var r=0;r<x.length;r+=1)x[r].c();o=p(),f=l("div");for(var a=0;a<E.length;a+=1)E[a].c();h=p(),N&&N.c(),m(i,"class","text-annotations"),m(f,"class","range-annotations svelte-smqemv"),m(n,"class","annotations-inner svelte-smqemv"),b(n,"editing",t[13]),b(n,"create-mode",t[0].createMode),b(n,"creating",t[12])},m:function(r,s){u(r,e,s),u(r,n,s),a(n,i);for(var c=0;c<x.length;c+=1)x[c].m(i,null);t[52](i),a(n,o),a(n,f);for(var l=0;l<E.length;l+=1)E[l].m(f,null);var p;a(n,h),N&&N.m(n,null),t[58](n),d=!0,v||(y=[g(window,"keydown",t[29]),g(window,"mousedown",t[30]),g(window,"mousemove",t[31]),g(window,"mouseup",t[32]),g(window,"resize",t[41]),g(kr.body,"mouseleave",t[33]),g(n,"mousedown",(p=t[34],function(t){return t.preventDefault(),p.call(this,t)}))],v=!0)},p:function(t,e){if(435998591&e[0]){var r;for(w=t[24],r=0;r<w.length;r+=1){var o=Nr(t,w,r);x[r]?(x[r].p(o,e),H(x[r],1)):(x[r]=zr(o),x[r].c(),H(x[r],1),x[r].m(i,null))}for(I(),r=w.length;r<x.length;r+=1)M(r);q()}if(174067559&e[0]){var a;for(A=t[25],a=0;a<A.length;a+=1){var u=Sr(t,A,a);E[a]?(E[a].p(u,e),H(E[a],1)):(E[a]=$r(u),E[a].c(),H(E[a],1),E[a].m(f,null))}for(I(),a=A.length;a<E.length;a+=1)S(a);q()}t[6]&&t[12]?N?N.p(t,e):((N=Or(t)).c(),N.m(n,null)):N&&(N.d(1),N=null),8192&e[0]&&b(n,"editing",t[13]),1&e[0]&&b(n,"create-mode",t[0].createMode),4096&e[0]&&b(n,"creating",t[12])},i:function(t){if(!d){for(var e=0;e<w.length;e+=1)H(x[e]);for(var n=0;n<A.length;n+=1)H(E[n]);d=!0}},o:function(t){x=x.filter(Boolean);for(var e=0;e<x.length;e+=1)W(x[e]);E=E.filter(Boolean);for(var n=0;n<E.length;n+=1)W(E[n]);d=!1},d:function(i){i&&s(e),i&&s(n),c(x,i),t[52](null),c(E,i),N&&N.d(),t[58](null),v=!1,r(y)}}}function jr(t,e,n){var r=e.textAnnotations;void 0===r&&(r=[]);var i=e.rangeAnnotations;void 0===i&&(i=[]);var o,a,u=e.dataToPx,s=e.pxToData,c=e.theme,l=e.cm,f=e.visWidth,h=e.annotationKeysSel,p=e.editMode;void 0===p&&(p=!1);var d,g=e.editorState;void 0===g&&(g={defaults:{},selectedTextAnnotations:[],selectedRangeAnnotations:[],createMode:!1,hideConnectorLine:!1,forceOffsetDrag:!1,pxToData:null,selectedAnnotationProps:{x:null,y:null,width:null,height:null,mobileFallback:!1}}),A((function(){g&&(n(0,g.width=d.offsetWidth,g),n(0,g.height=d.offsetHeight,g))}));var v,m,y,b,w,x=0,_=0,S=!1,z=!1,$=!1,O=0,T=0,j=!1,L=!1;function D(){n(18,v=!1),n(19,m=!1),n(20,y=!1),n(21,b=!1),n(0,g.forceOffsetDrag=!1,g),n(10,S=!1),z=!1,n(11,$=!1)}function Y(){n(8,x=0),n(9,_=0),n(38,O=0),n(39,T=0),n(12,j=!1),n(0,g.createMode=!1,g)}var C,R=E();C=function(){p&&R("update")},M().$$.before_update.push(C);var P,F,B,I,q,H,W=!1,U=document.querySelector(".dw-chart-body");return t.$$set=function(t){"textAnnotations"in t&&n(35,r=t.textAnnotations),"rangeAnnotations"in t&&n(36,i=t.rangeAnnotations),"dataToPx"in t&&n(1,u=t.dataToPx),"pxToData"in t&&n(2,s=t.pxToData),"theme"in t&&n(3,c=t.theme),"cm"in t&&n(4,l=t.cm),"visWidth"in t&&n(5,f=t.visWidth),"annotationKeysSel"in t&&n(37,h=t.annotationKeysSel),"editMode"in t&&n(6,p=t.editMode),"editorState"in t&&n(0,g=t.editorState)},t.$$.update=function(){if(16&t.$$.dirty[1]&&n(24,P=[].concat(r).reverse()),32&t.$$.dirty[1]&&n(25,F=[].concat(i).reverse()),128&t.$$.dirty[0]&&n(14,B=o<=450),16384&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(40,I=function(){var t=0;return r.map((function(e){var n=B&&e.mobileFallback&&!Wn(e)&&!Un(e);return n&&t++,{render:n,num:n?t:null}}))}),512&t.$$.dirty[1]&&n(15,q=I()),49152&t.$$.dirty[0]|80&t.$$.dirty[1]&&(h.classed("hide",!0).html(""),B)){var e=!1;r.forEach((function(t,n){var r=q[n];r.render&&(e=!0,h.append("div.key").html('<div class="num dw-circle dw-bold"><span class="export-text">'+r.num+'</span></div><span class="text export-text">'+Qn(t.text)+"</span>"))})),h.classed("hide",!e)}5&t.$$.dirty[0]&&g&&n(0,g.pxToData=s,g),3&t.$$.dirty[0]&&g&&n(0,g.dataToPx=u,g),769&t.$$.dirty[0]|384&t.$$.dirty[1]&&n(26,H=function(){var t=[];if("text"===g.createMode){if(Math.abs(x)<1)return;return t.push("top: "+(_>0?T:T+_)+"px"),t.push("height: "+(_>0?_:-_)+"px"),t.push("left: "+(x>0?O:O+x)+"px"),t.push("width: "+(x>0?x:-x)+"px"),t.join("; ")}if("range"===g.createMode){if(Math.abs(x)<1&&Math.abs(_)<1)return;Math.abs(_)>Math.abs(x)?(t.push("top: "+(_<0?T+_:T)+"px"),t.push("left: 0px"),t.push("width: 100%"),t.push("height: "+Math.abs(_)+"px")):(t.push("top: 0px"),t.push("left: "+(x<0?O+x:O)+"px"),t.push("height: 100%"),t.push("width: "+Math.abs(x)+"px"))}return t.join("; ")}),15360&t.$$.dirty[0]&&(n(13,W=S||$||j),W?U.classList.add("editing-annotations"):U.classList.remove("editing-annotations"))},[g,u,s,c,l,f,p,o,x,_,S,$,j,W,B,q,a,d,v,m,y,b,w,L,P,F,H,function(t){if(null===t.detail)return n(0,g.selectedTextAnnotations=[],g),n(0,g.selectedRangeAnnotations=[],g),void n(23,L=!1);if("text"===t.detail.type){var e=g.selectedTextAnnotations,r=e.length>1;(e[0]!==t.detail.index||r)&&(n(23,L=!1),n(0,g.selectedTextAnnotations=[t.detail.index],g),n(0,g.selectedRangeAnnotations=[],g))}else n(0,g.selectedRangeAnnotations=[t.detail.index],g),n(0,g.selectedTextAnnotations=[],g)},function(t){var e=Object.entries(t.detail)[0],r=e[0],i=e[1];n(0,g[r]=i,g)},function(t){p&&"Escape"===t.key&&j&&Y()},function(t){p&&(n(0,g.selectedTextAnnotations=[],g),n(0,g.selectedRangeAnnotations=[],g))},function(t){p&&((S||j||$&&["l","r"].includes(w))&&(n(8,x+=t.movementX),t.movementX&&(n(23,L=!1),z=!0)),(S||j||$&&["t","b"].includes(w))&&(n(9,_+=t.movementY),t.movementY&&(n(23,L=!1),z=!0)),n(21,b=!1),t.ctrlKey&&!v&&n(21,b=!0))},function(t){p&&(z||n(23,L=t.target.classList.contains("text-edit")||t.target.parentNode.classList&&t.target.parentNode.classList.contains("text-edit")),D(),j&&(function(){if("text"===g.createMode){var t=s(O,T),e=t[0],o=t[1],a=function(t,e){var n=t<0,r=e<0;return n&&r?"br":n&&!r?"tr":!n&&r?"bl":"tl"}(x,_),u=Math.abs(x/f*100),c=Object.assign({},Er(g.defaults.text),{x:e,y:o,align:a,width:u});Math.abs(x)<10&&Math.abs(_)<10&&(c.width=25,c.align="mc",c.dy=T<100?50:-50,c.connectorLine.enabled=!0),B&&(c.mobileFallback=!1),r.unshift(c),n(35,r)}else if("range"===g.createMode){var l=s(O,T),h=l[0],p=l[1],d=s(O+x,T+_),v=d[0],m=d[1],y=Math.abs(x)>Math.abs(_)?"x":"y",b="range";("x"===y&&Math.abs(x)<10||"y"===y&&Math.abs(_)<10)&&(b="line");var w=Object.assign({},Er(g.defaults[b]),{type:y,display:b,x0:h,x1:v,y0:p,y1:m});i.unshift(w),n(36,i)}}(),function(){if("text"===g.createMode){if(n(0,g.selectedTextAnnotations=[0],g),n(0,g.selectedRangeAnnotations=[],g),I()[0].render)return;n(23,L=!0),setTimeout((function(){var t=r.length-1,e=a.querySelectorAll(".text-annotation")[t].querySelector(".text-edit");e.focus(),function(t){var e=document.createRange();e.selectNodeContents(t);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}(e)}))}"range"===g.createMode&&(n(0,g.selectedTextAnnotations=[],g),n(0,g.selectedRangeAnnotations=[0],g))}(),Y()))},function(){p&&(S||$)&&D()},function(t){p&&g.createMode&&(n(12,j=!0),n(38,O=t.offsetX),n(39,T=t.offsetY))},r,i,h,O,T,I,function(){n(7,o=window.innerWidth)},function(t){n(18,v=t)},function(t){n(23,L=t)},function(t){n(10,S=t)},function(t){n(20,y=t)},function(t){n(19,m=t)},function(t){n(8,x=t)},function(t){n(9,_=t)},function(t){n(11,$=t)},function(t){n(22,w=t)},function(e){k(t,e)},function(t){N[t?"unshift":"push"]((function(){n(16,a=t)}))},function(t){n(10,S=t)},function(t){n(8,x=t)},function(t){n(9,_=t)},function(t){n(11,$=t)},function(t){n(22,w=t)},function(t){N[t?"unshift":"push"]((function(){n(17,d=t)}))}]}return function(t){function e(e){var n;t.call(this),kr.getElementById("svelte-smqemv-style")||((n=l("style")).id="svelte-smqemv-style",n.textContent=".annotations-inner.svelte-smqemv{width:100%;height:100%;pointer-events:none}.annotations-inner.editing.svelte-smqemv{pointer-events:auto}.annotations-inner.create-mode.svelte-smqemv{pointer-events:auto;cursor:crosshair}.annotations-inner.create-mode.svelte-smqemv{user-select:none}.annotations-inner.create-mode.svelte-smqemv .text-annotation,.annotations-inner.create-mode.svelte-smqemv .text-annotation .resizer{pointer-events:none}.range-annotations.svelte-smqemv{position:absolute;overflow:hidden;height:100%;width:100%}.create-rect.text.svelte-smqemv{position:absolute;outline:1px solid rgba(255, 0, 221, 0.95);background:rgba(255, 0, 221, 0.1)}.create-rect.range.svelte-smqemv{position:absolute;background:rgba(0, 0, 0, 0.1)}.annotation-keys{width:100%;margin-top:10px}.annotation-keys.hide{display:none}.annotation-keys .key{display:flex;align-items:baseline;margin-bottom:5px}.annotation-keys .num{flex:0 0 auto;margin-right:5px;display:flex;justify-content:center;align-items:center;font-size:12px;border-radius:50%;border:1px solid #222;width:20px;height:20px}.annotation-keys .num.dw-bold{font-weight:700}",a(kr.head,n)),J(this,e,jr,Tr,o,{textAnnotations:35,rangeAnnotations:36,dataToPx:1,pxToData:2,theme:3,cm:4,visWidth:5,annotationKeysSel:37,editMode:6,editorState:0},[-1,-1,-1])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Q)}()}));var Pc="1.11.0",Fc="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Bc=Array.prototype,Ic=Object.prototype,qc="undefined"!=typeof Symbol?Symbol.prototype:null,Hc=Bc.push,Wc=Bc.slice,Uc=Ic.toString,Vc=Ic.hasOwnProperty,Xc="undefined"!=typeof ArrayBuffer,Gc=Array.isArray,Zc=Object.keys,Kc=Object.create,Jc=Xc&&ArrayBuffer.isView,Qc=isNaN,tl=isFinite,el=!{toString:null}.propertyIsEnumerable("toString"),nl=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],rl=Math.pow(2,53)-1;function il(t,e){return e=null==e?t.length-1:+e,function(){for(var n=arguments,r=Math.max(arguments.length-e,0),i=Array(r),o=0;o<r;o++)i[o]=n[o+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var a=Array(e+1);for(o=0;o<e;o++)a[o]=n[o];return a[e]=i,t.apply(this,a)}}function ol(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function al(t){return!0===t||!1===t||"[object Boolean]"===Uc.call(t)}function ul(t){return function(e){return Uc.call(e)==="[object "+t+"]"}}var sl=ul("String"),cl=ul("Number"),ll=ul("Date"),fl=ul("RegExp"),hl=ul("Error"),pl=ul("Symbol"),dl=ul("Map"),gl=ul("WeakMap"),vl=ul("Set"),ml=ul("WeakSet"),yl=ul("ArrayBuffer"),bl=ul("DataView"),wl=Gc||ul("Array"),xl=ul("Function"),_l=Fc.document&&Fc.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof _l&&(xl=function(t){return"function"==typeof t||!1});var Ml=xl;function Al(t,e){return null!=t&&Vc.call(t,e)}var El=ul("Arguments");!function(){El(arguments)||(El=function(t){return Al(t,"callee")})}();var kl=El;function Sl(t){return cl(t)&&Qc(t)}function Nl(t){return function(){return t}}function zl(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=rl}}function $l(t){return function(e){return null==e?void 0:e[t]}}var Ol=$l("byteLength"),Tl=zl(Ol),jl=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var Ll=Xc?function(t){return Jc?Jc(t)&&!bl(t):Tl(t)&&jl.test(Uc.call(t))}:Nl(!1),Dl=$l("length"),Yl=zl(Dl);function Cl(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=nl.length,r=t.constructor,i=Ml(r)&&r.prototype||Ic,o="constructor";for(Al(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=nl[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function Rl(t){if(!ol(t))return[];if(Zc)return Zc(t);var e=[];for(var n in t)Al(t,n)&&e.push(n);return el&&Cl(t,e),e}function Pl(t){return null==t||(Yl(t)&&(wl(t)||sl(t)||kl(t))?0===t.length:0===Rl(t).length)}function Fl(t,e){var n=Rl(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function Bl(t){return t instanceof Bl?t:this instanceof Bl?void(this._wrapped=t):new Bl(t)}function Il(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var i=typeof t;return("function"===i||"object"===i||"object"==typeof e)&&ql(t,e,n,r)}function ql(t,e,n,r){t instanceof Bl&&(t=t._wrapped),e instanceof Bl&&(e=e._wrapped);var i=Uc.call(t);if(i!==Uc.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return qc.valueOf.call(t)===qc.valueOf.call(e);case"[object ArrayBuffer]":return ql(new DataView(t),new DataView(e),n,r);case"[object DataView]":var o=Ol(t);if(o!==Ol(e))return!1;for(;o--;)if(t.getUint8(o)!==e.getUint8(o))return!1;return!0}if(Ll(t))return ql(new DataView(t.buffer),new DataView(e.buffer),n,r);var a="[object Array]"===i;if(!a){if("object"!=typeof t||"object"!=typeof e)return!1;var u=t.constructor,s=e.constructor;if(u!==s&&!(Ml(u)&&u instanceof u&&Ml(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),a){if((c=t.length)!==e.length)return!1;for(;c--;)if(!Il(t[c],e[c],n,r))return!1}else{var l,f=Rl(t);if(c=f.length,Rl(e).length!==c)return!1;for(;c--;)if(!Al(e,l=f[c])||!Il(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0}function Hl(t,e){return Il(t,e)}function Wl(t){if(!ol(t))return[];var e=[];for(var n in t)e.push(n);return el&&Cl(t,e),e}function Ul(t){for(var e=Rl(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Vl(t){for(var e={},n=Rl(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function Xl(t){var e=[];for(var n in t)Ml(t[n])&&e.push(n);return e.sort()}function Gl(t,e){return function(n){var r=arguments,i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var o=1;o<i;o++)for(var a=r[o],u=t(a),s=u.length,c=0;c<s;c++){var l=u[c];e&&void 0!==n[l]||(n[l]=a[l])}return n}}Bl.VERSION=Pc,Bl.prototype.value=function(){return this._wrapped},Bl.prototype.valueOf=Bl.prototype.toJSON=Bl.prototype.value,Bl.prototype.toString=function(){return String(this._wrapped)};var Zl=Gl(Wl),Kl=Gl(Rl),Jl=Gl(Wl,!0);function Ql(t){if(!ol(t))return{};if(Kc)return Kc(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function tf(t){return ol(t)?wl(t)?t.slice():Zl({},t):t}function ef(t){return t}function nf(t){return t=Kl({},t),function(e){return Fl(e,t)}}function rf(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function of(t){return wl(t)?function(e){return rf(e,t)}:$l(t)}function af(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function uf(t,e,n){return null==t?ef:Ml(t)?af(t,e,n):ol(t)&&!wl(t)?nf(t):of(t)}function sf(t,e){return uf(t,e,1/0)}function cf(t,e,n){return Bl.iteratee!==sf?Bl.iteratee(t,e):uf(t,e,n)}function lf(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}Bl.iteratee=sf;var ff=Date.now||function(){return(new Date).getTime()};function hf(t){var e=function(e){return t[e]},n="(?:"+Rl(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}var pf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},df=hf(pf),gf=hf(Vl(pf)),vf=Bl.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},mf=/(.)^/,yf={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},bf=/\\|'|\r|\n|\u2028|\u2029/g;function wf(t){return"\\"+yf[t]}var xf=0;function _f(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=Ql(t.prototype),a=t.apply(o,i);return ol(a)?a:o}var Mf=il((function(t,e){var n=Mf.placeholder,r=function(){for(var i=arguments,o=0,a=e.length,u=Array(a),s=0;s<a;s++)u[s]=e[s]===n?i[o++]:e[s];for(;o<arguments.length;)u.push(i[o++]);return _f(t,r,this,this,u)};return r}));Mf.placeholder=Bl;var Af=il((function(t,e,n){if(!Ml(t))throw new TypeError("Bind must be called on a function");var r=il((function(i){return _f(t,r,e,this,n.concat(i))}));return r}));function Ef(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,a=Dl(t);o<a;o++){var u=t[o];if(Yl(u)&&(wl(u)||kl(u)))if(e>1)Ef(u,e-1,n,r),i=r.length;else for(var s=0,c=u.length;s<c;)r[i++]=u[s++];else n||(r[i++]=u)}return r}var kf=il((function(t,e){var n=(e=Ef(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Af(t[r],t)}return t}));var Sf=il((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Nf=Mf(Sf,Bl,1);function zf(t){return function(){return!t.apply(this,arguments)}}function $f(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var Of=Mf($f,2);function Tf(t,e,n){e=cf(e,n);for(var r,i=Rl(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r}function jf(t){return function(e,n,r){n=cf(n,r);for(var i=Dl(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}var Lf=jf(1),Df=jf(-1);function Yf(t,e,n,r){for(var i=(n=cf(n,r,1))(e),o=0,a=Dl(t);o<a;){var u=Math.floor((o+a)/2);n(t[u])<i?o=u+1:a=u}return o}function Cf(t,e,n){return function(r,i,o){var a=0,u=Dl(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(n&&o&&u)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(Wc.call(r,a,u),Sl))>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}}var Rf=Cf(1,Lf,Yf),Pf=Cf(-1,Df);function Ff(t,e,n){var r=(Yl(t)?Lf:Tf)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function Bf(t,e,n){var r,i;if(e=af(e,n),Yl(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=Rl(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function If(t,e,n){e=cf(e,n);for(var r=!Yl(t)&&Rl(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=e(t[u],u,t)}return o}function qf(t){var e=function(e,n,r,i){var o=!Yl(e)&&Rl(e),a=(o||e).length,u=t>0?0:a-1;for(i||(r=e[o?o[u]:u],u+=t);u>=0&&u<a;u+=t){var s=o?o[u]:u;r=n(r,e[s],s,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,af(n,i,4),r,o)}}var Hf=qf(1),Wf=qf(-1);function Uf(t,e,n){var r=[];return e=cf(e,n),Bf(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Vf(t,e,n){e=cf(e,n);for(var r=!Yl(t)&&Rl(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0}function Xf(t,e,n){e=cf(e,n);for(var r=!Yl(t)&&Rl(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1}function Gf(t,e,n,r){return Yl(t)||(t=Ul(t)),("number"!=typeof n||r)&&(n=0),Rf(t,e,n)>=0}var Zf=il((function(t,e,n){var r,i;return Ml(e)?i=e:wl(e)&&(r=e.slice(0,-1),e=e[e.length-1]),If(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=rf(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function Kf(t,e){return If(t,of(e))}function Jf(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=Yl(t)?t:Ul(t)).length;u<s;u++)null!=(r=t[u])&&r>o&&(o=r);else e=cf(e,n),Bf(t,(function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}function Qf(t,e,n){if(null==e||n)return Yl(t)||(t=Ul(t)),t[lf(t.length-1)];var r=Yl(t)?tf(t):Ul(t),i=Dl(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var u=lf(a,o),s=r[a];r[a]=r[u],r[u]=s}return r.slice(0,e)}function th(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=cf(r,i),Bf(n,(function(e,i){var a=r(e,i,n);t(o,e,a)})),o}}var eh=th((function(t,e,n){Al(t,n)?t[n].push(e):t[n]=[e]})),nh=th((function(t,e,n){t[n]=e})),rh=th((function(t,e,n){Al(t,n)?t[n]++:t[n]=1})),ih=th((function(t,e,n){t[n?0:1].push(e)}),!0),oh=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function ah(t,e,n){return e in n}var uh=il((function(t,e){var n={},r=e[0];if(null==t)return n;Ml(r)?(e.length>1&&(r=af(r,e[1])),e=Wl(t)):(r=ah,e=Ef(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],u=t[a];r(u,a,t)&&(n[a]=u)}return n})),sh=il((function(t,e){var n,r=e[0];return Ml(r)?(r=zf(r),e.length>1&&(n=e[1])):(e=If(Ef(e,!1,!1),String),r=function(t,n){return!Gf(e,n)}),uh(t,r,n)}));function ch(t,e,n){return Wc.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function lh(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:ch(t,t.length-e)}function fh(t,e,n){return Wc.call(t,null==e||n?1:e)}var hh=il((function(t,e){return e=Ef(e,!0,!0),Uf(t,(function(t){return!Gf(e,t)}))})),ph=il((function(t,e){return hh(t,e)}));function dh(t,e,n,r){al(e)||(r=n,n=e,e=!1),null!=n&&(n=cf(n,r));for(var i=[],o=[],a=0,u=Dl(t);a<u;a++){var s=t[a],c=n?n(s,a,t):s;e&&!n?(a&&o===c||i.push(s),o=c):n?Gf(o,c)||(o.push(c),i.push(s)):Gf(i,s)||i.push(s)}return i}var gh=il((function(t){return dh(Ef(t,!0,!0))}));function vh(t){for(var e=t&&Jf(t,Dl).length||0,n=Array(e),r=0;r<e;r++)n[r]=Kf(t,r);return n}var mh=il(vh);function yh(t,e){return t._chain?Bl(e).chain():e}function bh(t){return Bf(Xl(t),(function(e){var n=Bl[e]=t[e];Bl.prototype[e]=function(){var t=[this._wrapped];return Hc.apply(t,arguments),yh(this,n.apply(Bl,t))}})),Bl}Bf(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=Bc[t];Bl.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),yh(this,n)}})),Bf(["concat","join","slice"],(function(t){var e=Bc[t];Bl.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),yh(this,t)}}));var wh=Object.freeze({__proto__:null,VERSION:Pc,restArguments:il,isObject:ol,isNull:function(t){return null===t},isUndefined:function(t){return void 0===t},isBoolean:al,isElement:function(t){return!(!t||1!==t.nodeType)},isString:sl,isNumber:cl,isDate:ll,isRegExp:fl,isError:hl,isSymbol:pl,isMap:dl,isWeakMap:gl,isSet:vl,isWeakSet:ml,isArrayBuffer:yl,isDataView:bl,isArray:wl,isFunction:Ml,isArguments:kl,isFinite:function(t){return!pl(t)&&tl(t)&&!isNaN(parseFloat(t))},isNaN:Sl,isTypedArray:Ll,isEmpty:Pl,isMatch:Fl,isEqual:Hl,keys:Rl,allKeys:Wl,values:Ul,pairs:function(t){for(var e=Rl(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},invert:Vl,functions:Xl,methods:Xl,extend:Zl,extendOwn:Kl,assign:Kl,defaults:Jl,create:function(t,e){var n=Ql(t);return e&&Kl(n,e),n},clone:tf,tap:function(t,e){return e(t),t},has:function(t,e){if(!wl(e))return Al(t,e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(null==t||!Vc.call(t,i))return!1;t=t[i]}return!!n},mapObject:function(t,e,n){e=cf(e,n);for(var r=Rl(t),i=r.length,o={},a=0;a<i;a++){var u=r[a];o[u]=e(t[u],u,t)}return o},identity:ef,constant:Nl,noop:function(){},property:of,propertyOf:function(t){return null==t?function(){}:function(e){return wl(e)?rf(t,e):t[e]}},matcher:nf,matches:nf,times:function(t,e,n){var r=Array(Math.max(0,t));e=af(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},random:lf,now:ff,escape:df,unescape:gf,templateSettings:vf,template:function(t,e,n){!e&&n&&(e=n),e=Jl({},e,Bl.templateSettings);var r,i=RegExp([(e.escape||mf).source,(e.interpolate||mf).source,(e.evaluate||mf).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,(function(e,n,r,i,u){return a+=t.slice(o,u).replace(bf,wf),o=u+e.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),e})),a+="';\n",e.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(e.variable||"obj","_",a)}catch(t){throw t.source=a,t}var u=function(t){return r.call(this,t,Bl)},s=e.variable||"obj";return u.source="function("+s+"){\n"+a+"}",u},result:function(t,e,n){wl(e)||(e=[e]);var r=e.length;if(!r)return Ml(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=Ml(o)?o.call(t):o}return t},uniqueId:function(t){var e=++xf+"";return t?t+e:e},chain:function(t){var e=Bl(t);return e._chain=!0,e},iteratee:sf,partial:Mf,bind:Af,bindAll:kf,memoize:function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return Al(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},delay:Sf,defer:Nf,throttle:function(t,e,n){var r,i,o,a,u=0;n||(n={});var s=function(){u=!1===n.leading?0:ff(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var c=ff();u||!1!==n.leading||(u=c);var l=e-(c-u);return i=this,o=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),u=c,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(s,l)),a};return c.cancel=function(){clearTimeout(r),u=0,r=i=o=null},c},debounce:function(t,e,n){var r,i,o=function(e,n){r=null,n&&(i=t.apply(e,n))},a=il((function(a){if(r&&clearTimeout(r),n){var u=!r;r=setTimeout(o,e),u&&(i=t.apply(this,a))}else r=Sf(o,e,this,a);return i}));return a.cancel=function(){clearTimeout(r),r=null},a},wrap:function(t,e){return Mf(e,t)},negate:zf,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:$f,once:Of,findKey:Tf,findIndex:Lf,findLastIndex:Df,sortedIndex:Yf,indexOf:Rf,lastIndexOf:Pf,find:Ff,detect:Ff,findWhere:function(t,e){return Ff(t,nf(e))},each:Bf,forEach:Bf,map:If,collect:If,reduce:Hf,foldl:Hf,inject:Hf,reduceRight:Wf,foldr:Wf,filter:Uf,select:Uf,reject:function(t,e,n){return Uf(t,zf(cf(e)),n)},every:Vf,all:Vf,some:Xf,any:Xf,contains:Gf,includes:Gf,include:Gf,invoke:Zf,pluck:Kf,where:function(t,e){return Uf(t,nf(e))},max:Jf,min:function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var u=0,s=(t=Yl(t)?t:Ul(t)).length;u<s;u++)null!=(r=t[u])&&r<o&&(o=r);else e=cf(e,n),Bf(t,(function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o},shuffle:function(t){return Qf(t,1/0)},sample:Qf,sortBy:function(t,e,n){var r=0;return e=cf(e,n),Kf(If(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:eh,indexBy:nh,countBy:rh,partition:ih,toArray:function(t){return t?wl(t)?Wc.call(t):sl(t)?t.match(oh):Yl(t)?If(t,ef):Ul(t):[]},size:function(t){return null==t?0:Yl(t)?t.length:Rl(t).length},pick:uh,omit:sh,first:lh,head:lh,take:lh,initial:ch,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:fh(t,Math.max(0,t.length-e))},rest:fh,tail:fh,drop:fh,compact:function(t){return Uf(t,Boolean)},flatten:function(t,e){return Ef(t,e,!1)},without:ph,uniq:dh,unique:dh,union:gh,intersection:function(t){for(var e=arguments,n=[],r=arguments.length,i=0,o=Dl(t);i<o;i++){var a=t[i];if(!Gf(n,a)){var u;for(u=1;u<r&&Gf(e[u],a);u++);u===r&&n.push(a)}}return n},difference:hh,unzip:vh,transpose:vh,zip:mh,object:function(t,e){for(var n={},r=0,i=Dl(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(Wc.call(t,r,r+=e));return n},mixin:bh,default:Bl});st.prototype.at=$i,st.prototype.append=Si,st.prototype.translate=Ei,st.prototype.tspans=zi;var xh=.45;function _h(t,e){var n=(e=Object.assign({},{format:"0.[00]",prepend:"",append:"",minusChar:"−"},e)).format,r=e.append,i=e.prepend,o=e.minusChar;n.includes("%")&&Number.isFinite(t)&&(t*=.01);var a=$c(Math.abs(t)).format(n);return i&&t<0&&Mh.has(i.trim().toLowerCase())?""+o+i+a.replace("+","")+r:i&&t>=0&&Mh.has(i.trim().toLowerCase())&&n.includes("+")?(0===t?"±":"+")+i+a.replace("+","")+r:0===t&&n.includes("+")?""+i+a.replace("+","±")+r:t<0?""+i+o+a.replace("+","")+r:""+i+a+r}dw.visualization.register("d3-maps-core",{init:function(t){if(this.svg=t.node(),this.__canvas={w:+t.attr("width"),h:+t.attr("height"),lpad:10,rpad:10},Yc(window,"__dw.params.locales.numeral"))try{!function(t){Dc||($c.register("locale","dw",t),$c.locale("dw"),Dc=!0)}(Yc(window,"__dw.params.locales.numeral"))}catch(t){}var e=Yc(window,"__dw.params.locales.dayjs");e&&Oc.locale(e),Oc.extend(Tc),Oc.extend(jc)},initBaseMap:function(t,e,n){var r=this,i=r.size(),o=r.axes(),a=r.theme(),u=__dw.params.d3maps_basemap[e],s=0,c=0,l=i[0],f=i[1],h=r.get("max-map-height",650),p=new URLSearchParams(window.location.search),d="1"===p.get("fitchart")||"1"===p.get("fitheight"),g="1"===p.get("svgonly"),v="custom_upload"===e?r.get("layers",{}):{};if(u){var m=ct(t);Ae(A()).l<50&&m.classed("color-invert",!0);var y=m.append("div.map-outer"),b=!1,w=window.devicePixelRatio||1;g||(b=y.append("canvas").at({width:l*w,height:f*w}).st({width:l,height:f}));var x=y.append("svg").classed(e,!0).st({overflow:"hidden",position:"relative"}).at({width:l,height:f});r.init(x),["regions","borders","exteriorBorders","innerborders"].forEach((function(t){v[t]&&(u.meta[t]=v[t])})),function(t,e,p,g,v,m){e.maxZoom=e.maxZoom||8;var y=function(t,e,n){return{getBorder:function(e,r){return Yc(n,"vis."+t.meta.id+".borders."+e,Yc(n,"vis.d3-maps-core.borders."+e,r))},getThemeProp:function(e,r){return Yc(n,"vis."+t.meta.id+"."+e,Yc(n,"vis.d3-maps-core."+e,r))}}}(r,0,a),b=y.getBorder,w=y.getThemeProp,x="d3-maps-choropleth"===r.meta.id?Yc(a,"colors.background","#ffffff"):"#888",E="d3-maps-choropleth"===r.meta.id?"#eeeeed":"#f8f8f8",k="d3-maps-choropleth"===r.meta.id?.5:1,S=v?v.node().getContext("2d"):null,N=[],z=[],$=e.projection,O=e.extent,T=!Pl(O.exclude);v&&zc(t);var j=wc(t,t.objects[e.regions]),L="geoNaturalEarth"===$.type?"geoNaturalEarth1":$.type,D=$.rotate,Y=$.center,C=!1===O.padding||void 0===O.padding?0:O.padding,R=Object.assign({},hc,{geoAlbersUsaTerritories:mc.geoAlbersUsaTerritories})[L]();D&&R.rotate&&R.rotate(D);var P=JSON.stringify(u.content).length,F=v?function(t){void 0===t&&(t=.5);var e,n,r=t,i=Es({point:function(t,e,n){if(!n||n>=r){var i=a([t,e]);this.stream.point(i[0],i[1])}}}),o=uc().stream,a=uc();return a.stream=function(t){var r=a.postclip()||o;return e&&n===t?e:e=i.stream(r(n=t))},a.areaThreshold=function(e){r=e*t},a.log=function(){},a}(P>5e5?e.weight||.01:-99):uc(),B=function(){var t=j.features;return Object.keys(O.exclude).forEach((function(e){O.exclude[e].forEach((function(n){t=t.filter((function(t){return t.properties[e]!==n}))}))})),{type:"FeatureCollection",features:t}},I=T?B():j;O.layer&&!r.get("hide-empty-regions")&&(I=wc(t,t.objects[O.layer]));f=_(F,C,I),Y&&F.center&&console.warn("todo: what to do with projection center?");var q=As().projection(F),H=g.append("g.map"),W=H.append("rect.background").attr("width",l).attr("height",f);if(O.layer&&!r.get("hide-empty-regions")){var U=w("backgroundLayer.color",E),V=w("backgroundLayer.opacity",k);if(v){var X=ue(U),G=X.r,Z=X.g,J=X.b;N.push({id:"bg",style:{fill:"rgba("+G+","+Z+","+J+","+V+")"},features:[wc(t,t.objects[O.layer])]})}else z.push({id:"bg",selection:H.append("path.bg.geo").datum(wc(t,t.objects[O.layer])).attr("d",q).st({fill:U,opacity:V})})}var Q=function(t,e){var n,r,i,o=t.features;if(o.forEach((function(t){t.anchor=xt(t)})),v&&!e)N.push({id:"region",features:o,style:{fill:"#999999"}});else{var a=(r=(n=H.append("g.regions")).selectAll(".region").data(o).enter().append("g.region")).append("path.geo.region").attr("d",(function(t){return q(t)})).classed("highlight",(function(t){return"#id="===location.hash.substr(0,4)&&location.hash.substr(4).split(",").indexOf(t.properties.RS)>-1}));e||(z.push({id:"gregion",selection:r}),z.push({id:"region",selection:a}))}return{regionShapes:o,regions:n,gregion:r,region:i}}(j),tt=Q.regionShapes,et=Q.regions,nt=[{id:"regions",defaultStyle:{lineWidth:1,stroke:x},meshFunc:function(t,e){return t!==e}},{id:"borders",defaultStyle:{lineWidth:3.33,stroke:x},meshFunc:function(t,e){return t!==e}},{id:"innerborders",defaultStyle:{lineWidth:.3,stroke:x,opacity:.9},meshFunc:function(t,e){return!0}},{id:"exteriorBorders",defaultStyle:{lineWidth:2,stroke:x,strokeDasharray:"2,8"},meshFunc:function(t,e){return!0}}];b("outerBorder")&&(e.outerBorder=e.regions,nt.push({id:"outerBorder",defaultStyle:{lineWidth:1,stroke:x},meshFunc:function(t,e){return t===e}}));if(nt.forEach((function(n){var r=n.id,i=n.defaultStyle,o=n.meshFunc;if(e[r]){var a={stroke:w("borders."+r+".stroke",i.stroke),lineWidth:w("borders."+r+".scale",i.lineWidth),strokeDasharray:w("borders."+r+".strokeDasharray",i.strokeDasharray),opacity:i.opacity},u=function(t){return _c(t,Ac.apply(this,arguments))}(t,t.objects[e[r]],o);if(v){var s=ue(a.stroke),c=s.r,l=s.g,f=s.b;N.push({id:r,style:{stroke:"rgba("+c+","+l+","+f+","+(a.opacity||1)+")",lineWidth:a.lineWidth*xh,dash:a.strokeDasharray?a.strokeDasharray.split(",").map((function(t){return Number(t)*xh})):null},features:[u]})}else{var h=H.append("path.geo.borders."+r).datum(u).st(a).attr("d",q);z.push({id:r,type:"border",selection:h,style:a})}}})),!v&&"d3-maps-choropleth"===r.meta.id){var rt=H.append("g.outlines").selectAll(".region-outline").data(tt).enter().append("path.geo.region-outline").attr("d",q);z.push({id:"outlines",type:"border",selection:rt,style:{lineWidth:Yc(a,"vis.d3-maps-choropleth.borders.hoverOutline.scale",3)}})}var it,ot=[],at={};d||(g.at({height:f}),v&&v.at({height:f*m}).st({height:f}));var ut=!1;try{ut=window.parent&&window.parent.location.hostname.includes("app.datawrapper."+window.location.hostname.split(".").slice(-1)[0])}catch(t){}var st=window.__map={svg:g,canvas:v,scale:1,meta:e,getZoom:ht,g:H,data:tt,proj:F,mapProj:R,path:q,feat:j,svgBorderList:z.filter((function(t){return"border"===t.type})),svgLayers:z,canvasLayers:N,isDatawrapperEditor:ut,draw:ft,getThemeBgColor:A,SVG_TO_CANVAS_SCALE:xh,clearZoomLayer:function(){ot.forEach((function(t){return t.g.remove()})),ot.length=0},addZoomLayer:function(t,e,n){at[t]={g:e,feat:n},ot.push(at[t])},updateZoomLayerSelection:function(t,e){at[t].feat=e},onZoom:function(t){it=t},setBottomMargin:function(t){return c=t,vt(r.size()),st},setUserPadding:function(t){return s=t,vt(r.size()),st},zoomVisRegions:function(){I=st.getVisRegions(),_(F,C,I),vt(r.size())},getVisRegions:function(){return{type:"FeatureCollection",features:I.features.filter((function(t){return!st.hasNoData(t)}))}},hasNoData:function(t){return!t.data||void 0===t.data[o.values]||null===t.data[o.values]||"null"===t.data[o.values]||"-"===t.data[o.values]},sizeTooltip:_t(i),resizeMap:vt,fixZoom:wt,zoomBehavior:!1};v&&ft();ct(".map-outer").append("div.annotations");var lt=kt();function ft(){!function(t){var e=t.context,n=t.getZoom,r=t.proj,i=t.mapProj,o=t.width,a=t.height,u=t.canvasScale,s=t.canvasLayers,c=t.theme,l=n(),f=["vis.d3-maps-symbols.labels.clusters","typography.chart"],h=[Yc(c,f[0]+".fontWeight",Yc(c,f[1]+".fontWeight",400)),Yc(c,f[0]+".fontSize",Yc(c,f[1]+".fontSize",14))/l.k+"px",Yc(c,f[0]+".typeface",Yc(c,f[1]+".typeface","sans-serif"))].filter((function(t){return t})).join(" "),p=As(r,e);e.clearRect(0,0,o*u,a*u),e.lineJoin="round",e.lineCap="round",e.save(),e.scale(u,u),e.translate(l.x,l.y),e.scale(l.k,l.k),s.forEach((function(t){var n=t.features.filter((function(t){return!t.__hidden}));e.globalCompositeOperation=t.blendMode||"source-over",n.forEach((function(n){e.beginPath();var o="function"==typeof t.style?t.style(n):t.style,a="Feature"===n.type?n.geometry:n;if(a){if("Point"===a.type){var u;if(n.properties.__projCache?u=n.properties.__projCache:n.properties.__projCache=u=i(n.geometry.coordinates),!u)return;var s=r(u);e.save(),e.translate(s[0],s[1]);var c=void 0!==n.properties.__r?n.properties.__r:1;if(n.properties.__symbol){switch(n.properties.__symbolProps.scale){case"y":e.scale(2.5/l.k,c/l.k);break;case"area":default:e.scale(c/l.k,c/l.k)}n.properties.__symbol(e),n.properties.__symbolProps.fill&&e.closePath()}e.restore()}else p(n);e.strokeStyle=o.stroke?o.stroke:null,o.fill&&(e.fillStyle=o.fill,e.fill()),o.stroke&&(e.lineWidth=(o.lineWidth||1)/l.k,e.strokeStyle=o.stroke,e.setLineDash(o.dash?o.dash.map((function(t){return t/l.k})):[]),e.stroke())}})),e.globalCompositeOperation="source-over",e.font=h,e.textAlign="center",e.textBaseline="middle",n.forEach((function(n){var i="Feature"===n.type?n.geometry:n;if(i&&"Point"===i.type&&n.properties.__label){var o="function"==typeof t.style?t.style(n):t.style;e.fillStyle=o.labelFill||"#000000";var a=n.properties.__projCache;if(!a)return;var u=r(a);e.save(),e.translate(u[0],u[1]),e.fillText(n.properties.__label,0,0),e.restore()}}))})),e.restore(),r.log()}({context:S,getZoom:ht,proj:F,mapProj:R,width:l,height:f,canvasScale:m,canvasLayers:N,theme:a})}function ht(){return st&&void 0!==st.zoomBehavior&&!1!==st.zoomBehavior?gi(g.node()):di}if(r.get("zoomable",!1)){st.zoomBehavior=Ai().scaleExtent([1,e.maxZoom]).extent(M(F,C,j).extent).translateExtent(M(F,C,j).extent).filter((function(){var t="wheel"===K.type&&!K.ctrlKey,e=K.touches&&1===K.touches.length;return!K.button&&!t&&!e})).on("zoom",yt),g.call(st.zoomBehavior).style("touch-action","auto");var pt={in:"M1,5 h4 v-4 h2 v4 h4 v2 h-4 v4 h-2 v-4 h-4 v-2 Z",out:"M1,5 h10 v2 h-10 v-2 Z",home:"M0,2h2v-2h2v4h-4v-2Z M0,8h4v4h-2v-2h-2v-2z M8,0h2v2h2v2h-4v-4z M8,8h4v2h-2v2h-2v-4z"},dt=r.get("zoom-button-pos","br");p.select(".map-outer").append("div.zoom-buttons.zoom-buttons-"+dt).selectAll(".zoom-btn").data("b"===dt.charAt(0)?["home","in","out"]:["in","out","home"]).enter().append("button").attr("class",(function(t){return"zoom-btn zoom-btn-"+t})).on("click",bt).append("svg").at({width:12,height:12}).append("path").attr("d",(function(t){return pt[t]}));var gt=!1;p.on("keypress",(function(){if(!gt&&K.target.classList.contains("zoom-btn")&&(" "===K.key||"Enter"===K.key)){var t=p.append("div").st({position:"absolute",left:0,right:0,top:0,fontSize:15,textAlign:"center",padding:"10px 40px",zIndex:9,background:"rgba(255,255,255,0.8)",color:"black"}).html("Hint: you can use the <tt>w</tt>,<tt>a</tt>,<tt>s</tt>,<tt>d</tt> keys to pan around the map");setTimeout((function(){t.remove()}),1e4),gt=!0}if("wasd".includes(K.key)){var e=ht();if(e.k>1){var n="a"===K.key?100:"d"===K.key?-100:0,r="w"===K.key?100:"s"===K.key?-100:0;st.zoomBehavior.translateBy(g,n/e.k,r/e.k)}}}))}function vt(t){if(h=r.get("max-map-height",650),r.size(t[0],t[1]),l=t[0],f=t[1]-c,d){var e=document.querySelector(".annotation-keys:not(.hide)"),n=e&&e.clientHeight>0?e.clientHeight+0:0,i=document.querySelector(".map-key-mt,.map-key-mb"),o=i&&i.clientHeight>0?i.clientHeight+5:0;f-=o+n}if(f=_(F,C,I),st.zoomBehavior&&st.zoomBehavior.extent(M(F,C,j).extent).translateExtent(M(F,C,j).extent),v?ft():g.selectAll("path.geo").attr("d",(function(t){return q(t)})),g.at({width:l,height:f}),v&&v.at({width:l*m,height:f*m}).st({width:l,height:f}),W.attr("width",l).attr("height",f),st.sizeTooltip=_t(t),v?st.data.forEach((function(t){t.anchor=xt(t)})):et.selectAll("g.region").each((function(t){return t.anchor=xt(t)})),lt){var a=At(),u=Et();lt.$set({dataToPx:a,pxToData:u,visWidth:l})}wt()}return n(st);function mt(t,e,n){return Math.max(e,Math.min(n,t))}function yt(){var t=K.transform;if(p.classed("d3-maps-zoomed-in",t.k>1),wt(),lt){var e=At(),n=Et();lt.$set({dataToPx:e,pxToData:n})}it&&it(t.k,[t.x,t.y])}function bt(t){if("home"===t)st.zoomBehavior.transform(g.transition().duration(750),di);else{var n=mt(ht().k*Math.pow(2,+("in"===t?1:-1)),1,e.maxZoom);Math.abs(n-1)<1e-4?st.zoomBehavior.transform(g.transition().duration(750),di):st.zoomBehavior.scaleTo(g.transition().duration(750),n)}}function wt(){var t=ht(),n=st.scale=t.k;v&&F.areaThreshold(n===e.maxZoom?0:1/Math.pow(n,1.5)/Math.pow(Math.min(600,l)/600,2));var r=(.45+.25*Math.pow(Math.min(1,n-1),.5))/n,i=z.filter((function(t){return"border"===t.type}));v&&ft(),H.attr("transform",t),i.forEach((function(t){var n=t.id,i=t.selection,o=t.style;if((e[n]||"outlines"===n)&&i.style("stroke-width",r*o.lineWidth+"px"),o.strokeDasharray){var a=o.strokeDasharray.split(",").map((function(t){return Number(t)*r}));i.style("stroke-dasharray",a.join(","))}}));for(var o=ot.length,a=0;a<o;a++)ot[a].feat.attr("transform",u);function u(t){return"translate("+t.anchor+") scale("+1/n+")"}}function xt(t){if(void 0===t.properties.cx||void 0===t.properties.cy)return q.centroid(t);var e=R([t.properties.cx,t.properties.cy]);return e?F(e):q.centroid(t)}function _t(t){return function(e,n,i){if(t[0]<400){var o=e[1]/t[1],a=!0===r.__chart.get("metadata.describe.hide-title")||""===r.__chart.get("metadata.describe.intro")&&""===r.__chart.get("title");i.st({top:o<.5?"auto":a?"0px":"-20px",bottom:o<.5?"20px":"auto",left:0,right:0,"max-width":"100%","max-height":.45*t[1]+"px"})}else{var u=i.property("offsetWidth"),s=i.property("offsetHeight"),c=n.offsetWidth,l=n.offsetHeight,f=e[0]+10+u<c,h=e[1]+10+s<l;i.st({top:h?e[1]-10+"px":"auto",bottom:h?"auto":Math.min(l-s,l-e[1]+10)+"px",left:f?e[0]+10+"px":"auto",right:f?"auto":c-e[0]+10+"px","max-height":.55*t[1]+"px"}),i.style("max-width",null)}}}function Mt(){if(Lc()){var t=window.parent.dw.backend.hooks.call("get-annotation-controls").results;if(t&&t.length)return window.__registerAnnotationControls=void 0,t[t.length-1];window.__registerAnnotationControls=function(t){window.__annotationLayer.$set({editMode:!0}),t.syncAnnotationLayer(window.__annotationLayer)}}return null}function At(){var t;return function(e,n){var r=t||[20,20];if(Math.abs(e)>180||Math.abs(n)>90)return r;var i=R([e,n]);if(!i)return r;var o=i[0],a=i[1],u=F([o,a]),s=u[0],c=u[1],l=ht().apply([s,c]),f=l[0],h=l[1];return t=[f,h].map((function(t){return+t.toFixed(1)}))}}function Et(){return function(t,e){var n=ht().invert([t,e]),r=n[0],i=n[1],o=F.invert([r,i]),a=o[0],u=o[1];return R.invert([a,u])}}function kt(){var t=Lc(),e=Mt(),n=Cc(r.get("text-annotations",[]));if(!n.length&&!t)return!1;var i=At(),o=Et(),a=p.append("div.annotation-keys");if(window.__annotationLayer)try{window.__annotationLayer.$destroy()}catch(t){}var u=new Rc({target:document.querySelector(".annotations"),props:{textAnnotations:n,dataToPx:i,pxToData:o,theme:r.theme(),cm:r.colorMap(),visWidth:l,annotationKeysSel:a}});return window.__annotationLayer=u,e&&(u.$set({editMode:!0}),e.syncAnnotationLayer(u),H.on("mousedown",(function(){var t=e.get().editorState;t.selectedTextAnnotations=[],e.set({editorState:t})}))),u}}(u.content,u.meta,m,x,b,w)}else setTimeout((function(){return location.reload()}),2e3);function _(t,e,n){var r=M(t,e,n),i=r.extent,o=r.h;return t.fitExtent(i,n),o||f}function M(t,e,n){var i=function(t){var e=(f-f*(1-s))/2;return[parseInt((l-l*(1-s))/2,10)+t,parseInt(e,10)+t]}(e),o=i[0],a=i[1],u=r.get("map-align","center");return d?function(t,e,n,r,i,o,a){var u=As().projection(t).bounds(a),s=u[1][1]-u[0][1],c=u[1][0]-u[0][0],l=s/c,f=e/n;return{extent:[[i+(f>l&&"right"===r?(n-2*o)*l:0),o],[e-i-(f>l&&"left"===r?(n-2*o)*l:0),n-o]],h:n}}(t,l||50,f||50,u,o||0,a||0,n):function(t,e,n,r,i,o,a){var u=As().projection(t).bounds(a),s=u[1][1]-u[0][1],c=u[1][0]-u[0][0],l=s/c,f=Math.min(n,e*l),h=e-2*i-f/l;h<0&&(r="left"===r?"right":"right"===r?"left":r);return{extent:[[i+("right"===r?h:0),o],[e-i-("left"===r?h:0),f-o]],h:f}}(t,l||50,+h,u,o||0,a||0,n)}function A(){return r.theme().colors.background}},_svgCanvas:function(){return this.svg},getFormat:function(t,e,n){if(!e)return ef;var r=this,i=r.get(t,n),o=i.indexOf("%")>-1,a="number"===e.type()?function(t){return $c(o?.01*t:t).format((n={f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".1s":"0a",".2s":"0.0a",".3s":"0.00a"}).hasOwnProperty(e=i)?n[e]:e);var e,n}:"date"===e.type()?function(e){return moment(e).format(r.get(t)||"YYYY")}:ef;return function(t){return"date"===e.type()?ll(t)?a(t):t:a(t)}},getColorScale:function(t){var e=this,n=e.dataset,r=e.axes(!0).values,i=r.type(),o=e.get(t+".colors",function(t){var e=[{c:"#fff",p:0},{c:"#000",p:1}],n=t.theme(),r=n.colors?n.colors.gradients:null;if(!r)return e;var i=r[0];return!i||!sl(i[0])||i.length<2?e:i.map((function(t,e){return{c:t,p:e/(i.length-1)}}))}(e)),a=e.get(t+".stops",function(t,e){var n=[{p:0,v:0},{p:1,v:1}],r=e.name();if(!r)return n;var i=t.column(r).range();return i?[{p:0,v:i[0]},{p:1,v:i[1]}]:n}(n,r));if(window.ds=n,"number"===i){var u=Kn().range(a.map(Oi("p"))).domain(a.map(Oi("v"))),s=Kn().clamp(!0).domain(o.map(Oi("p"))).range(o.map(Oi("c")));return Oi(u,s)}var c=dh(r.values()).filter(ef);return o=e.__categoryColors=function(t,e,n){var r=jt(t),i=[].concat(n.colors.palette).concat(n.colors.secondary).filter((function(t){return r.indexOf(t)<0})),o=Object.assign({},t);return e.forEach((function(t){if(!o[t]){var e=i.shift();o[t]=e}})),o}(e.get("categories",{}),c,e.theme()),Rt().domain(function(t){var e=[];for(var n in t)e.push(n);return e}(o)).range(jt(o))}});var Mh=new Set(["฿","₿","¢","$","€","eur","£","gbp","¥","yen","usd","cad","us$","ca$","can$"]);var Ah=bh(wh);Ah._=Ah;var Eh=/^ */.source,kh=/[*']* *$/.source,Sh=/[ \-/.]?/.source,Nh=/[ \-/.]/.source,zh=/[ \-/.;,]/.source,$h=/[ \-|T]/.source,Oh=/[ \-/.m]/.source,Th={YY:{parse:/['’‘]?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(am|pm)?/}},jh={0:["jan","january","januar","jänner","jän","janv","janvier","ene","enero","gen","gennaio","janeiro"],1:["feb","february","febr","februar","fév","févr","février","febrero","febbraio","fev","fevereiro"],2:["mar","mär","march","mrz","märz","mars","mars","marzo","marzo","março"],3:["apr","april","apr","april","avr","avril","abr","abril","aprile"],4:["may","mai","mayo","mag","maggio","maio","maj"],5:["jun","june","juni","juin","junio","giu","giugno","junho"],6:["jul","july","juli","juil","juillet","julio","lug","luglio","julho"],7:["aug","august","août","ago","agosto"],8:["sep","september","sept","septembre","septiembre","set","settembre","setembro"],9:["oct","october","okt","oktober","octobre","octubre","ott","ottobre","out","outubro"],10:["nov","november","november","novembre","noviembre","novembre","novembro"],11:["dec","december","dez","des","dezember","déc","décembre","dic","diciembre","dicembre","desember","dezembro"]};Ah.each(jh,(function(t,e){Ah.each(t,(function(t){}))})),Th.MMM={parse:new RegExp("("+Ah.flatten(Ah.values(jh)).join("|")+")")},Ah.each(Th,(function(t){t.parse=t.parse.source,Ah.isRegExp(t.test)?t.test=t.test.source:t.test=t.parse}));Lh(Th.YYYY2.test),Lh(Th.YYYY2.parse),Lh(Th.YYYY.test,Sh,Th.H.test),Lh(Th.YYYY.parse,Sh,Th.H.parse),Lh(Th.H.test,Nh,Th.YYYY.test),Lh(Th.H.parse,Nh,Th.YYYY.parse),Lh(Th.YYYY.test,Sh,Th.Q.test),Lh(Th.YYYY.parse,Sh,Th.Q.parse),Lh(Th.Q.test,Nh,Th.YYYY.test),Lh(Th.Q.parse,Nh,Th.YYYY.parse),Lh(Th.YYYY.test,Oh,Th.MM.test),Lh(Th.YYYY.parse,Oh,Th.MM.parse),Lh(Th.MM.test,Nh,Th.YYYY.test),Lh(Th.MM.parse,Nh,Th.YYYY.parse),Lh(Th.YYYY.test,Nh,Th.MMM.parse),Lh(Th.YYYY.parse,Nh,Th.MMM.parse),Lh(Th.MMM.parse,Nh,Th.YYYY.test),Lh(Th.MMM.parse,Nh,Th.YYYY.parse),Lh(Th.MMM.parse,Nh,Th.YY.test),Lh(Th.MMM.parse,Nh,Th.YY.parse),Lh(Th.MMM.parse),Lh(Th.MMM.parse),Lh(Th.YYYY.test,Sh,Th.W.test),Lh(Th.YYYY.parse,Sh,Th.W.parse),Lh(Th.W.test,Nh,Th.YYYY.test),Lh(Th.W.parse,Nh,Th.YYYY.parse),Lh(Th.MM.test,"([\\-\\/])",Th.DD.test,"\\2",Th.YYYY.test),Lh(Th.MM.parse,"([\\-\\/])",Th.DD.parse,"\\2",Th.YYYY.parse),Lh(Th.MM.test,"([\\-\\/])",Th.DD.test,"\\2",Th.YY.test),Lh(Th.MM.parse,"([\\-\\/])",Th.DD.parse,"\\2",Th.YY.parse),Lh(Th.DD.test,"([\\-\\.\\/ ?])",Th.MM.test,"\\2",Th.YY.test),Lh(Th.DD.parse,"([\\-\\.\\/ ?])",Th.MM.parse,"\\2",Th.YY.parse),Lh(Th.DD.test,"([\\-\\.\\/ ?])",Th.MM.test,"\\2",Th.YYYY.test),Lh(Th.DD.parse,"([\\-\\.\\/ ?])",Th.MM.parse,"\\2",Th.YYYY.parse),Lh(Th.DD.test,"([\\-\\.\\/ ?])",Th.MMM.test,"\\2",Th.YYYY.test),Lh(Th.DD.parse,"([\\-\\.\\/ ?])",Th.MMM.parse,"\\2",Th.YYYY.parse),Lh(Th.DD.test,"([\\-\\.\\/ ?])",Th.MMM.test,"\\2",Th.YY.test),Lh(Th.DD.parse,"([\\-\\.\\/ ?])",Th.MMM.parse,"\\2",Th.YY.parse),Lh(Th.YYYY.test,"([\\-\\.\\/ ?])",Th.MM.test,"\\2",Th.DD.test),Lh(Th.YYYY.parse,"([\\-\\.\\/ ?])",Th.MM.parse,"\\2",Th.DD.parse),Lh(Th.MMM.test,Nh,Th.DD.test,zh,Th.YYYY.test),Lh(Th.MMM.parse,Nh,Th.DD.parse,zh,Th.YYYY.parse),Lh(Th.YYYY.test,Sh,Th.W.test,Nh,Th.DOW.test),Lh(Th.YYYY.parse,Sh,Th.W.parse,Nh,Th.DOW.parse),Lh(Th.MM.test,"([\\-\\/])",Th.DD.test,"\\2",Th.YYYY.test,$h,Th.HHMM.test),Lh(Th.MM.parse,"([\\-\\/])",Th.DD.parse,"\\2",Th.YYYY.parse,$h,Th.HHMM.parse),Lh(Th.DD.test,"([\\-\\.\\/ ?])",Th.MM.test,"\\2",Th.YYYY.test,$h,Th.HHMM.test),Lh(Th.DD.parse,"([\\-\\.\\/ ?])",Th.MM.parse,"\\2",Th.YYYY.parse,$h,Th.HHMM.parse),Lh(Th.YYYY.test,"([\\-\\.\\/ ?])",Th.MM.test,"\\2",Th.DD.test,$h,Th.HHMM.test),Lh(Th.YYYY.parse,"([\\-\\.\\/ ?])",Th.MM.parse,"\\2",Th.DD.parse,$h,Th.HHMM.parse);function Lh(){return new RegExp(Eh+Array.prototype.slice.call(arguments).join(" *")+kh,"i")}function Dh(t,e){if(void 0===e&&(e=!1),!t)return null;var n=t.offsetHeight;if(!e)return n;var r=getComputedStyle(t);return n+=parseInt(r.marginTop)+parseInt(r.marginBottom)}function Yh(){for(var t=0,e=document.querySelector(".dw-chart"),n=0;n<e.children.length;n++){var r=e.children[n],i=r.tagName.toLowerCase();"script"===i||"style"===i||"chart"===r.id||r.getAttribute("aria-hidden")||o(r,"tooltip")||o(r,"vg-tooltip")||o(r,"hidden")||o(r,"qtip")||o(r,"container")||o(r,"noscript")||o(r,"hidden")||o(r,"filter-ui")||o(r,"dw-after-body")||o(r,"dw-chart-body")||(t+=Number(Dh(r,!0)))}function o(t,e){return t.classList.contains(e)}var a=["padding-top","padding-bottom","margin-top","margin-bottom","border-top-width","border-bottom-width"];return[".dw-chart",".dw-chart-body"].forEach((function(e){a.forEach((function(n){t+=Number(function(t,e){return getComputedStyle(document.querySelector(t))[e].replace("px","")}(e,n))}))})),t}var Ch="TEOF",Rh="TOP",Ph="TNUMBER",Fh="TSTRING",Bh="TPAREN",Ih="TBRACKET",qh="TCOMMA",Hh="TNAME",Wh="TSEMICOLON";function Uh(t,e,n){this.type=t,this.value=e,this.index=n}function Vh(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}Uh.prototype.toString=function(){return this.type+": "+this.value},Vh.prototype.newToken=function(t,e,n){return new Uh(t,e,null!=n?n:this.pos)},Vh.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},Vh.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},Vh.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(Ch,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},Vh.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var r=this.expression.indexOf(n,e+1);r>=0&&this.pos<this.expression.length;){if(this.pos=r+1,"\\"!==this.expression.charAt(r-1)){var i=this.expression.substring(e+1,r);this.current=this.newToken(Fh,this.unescape(i),e),t=!0;break}r=this.expression.indexOf(n,r+1)}return t},Vh.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(Bh,t),this.pos++,!0)},Vh.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("["))&&(this.current=this.newToken(Ih,t),this.pos++,!0)},Vh.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(qh,","),this.pos++,!0)},Vh.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(Wh,";"),this.pos++,!0)},Vh.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(r in this.consts)return this.current=this.newToken(Ph,this.consts[r]),this.pos+=r.length,!0}return!1},Vh.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var r=this.expression.substring(t,e);if(this.isOperatorEnabled(r)&&(r in this.binaryOps||r in this.unaryOps||r in this.ternaryOps))return this.current=this.newToken(Rh,r),this.pos+=r.length,!0}return!1},Vh.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var r=this.expression.charAt(e);if(r.toUpperCase()===r.toLowerCase()){if(e===this.pos&&("$"===r||"_"===r)){"_"===r&&(n=!0);continue}if(e===this.pos||!n||"_"!==r&&(r<"0"||r>"9"))break}else n=!0}if(n){var i=this.expression.substring(t,e);return this.current=this.newToken(Hh,i),this.pos+=i.length,!0}return!1},Vh.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var Xh=/^[0-9a-f]{4}$/i;Vh.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var r=t.charAt(++e);switch(r){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var i=t.substring(e+1,e+5);Xh.test(i)||this.parseError("Illegal escape sequence: \\u"+i),n+=String.fromCharCode(parseInt(i,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+r+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},Vh.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},Vh.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var r=!1,i=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,r=!0}return r&&(this.current=this.newToken(Ph,parseInt(this.expression.substring(i,n),t)),this.pos=n),r},Vh.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,r=n,i=n,o=!1,a=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:a=!0,n++,e=a;if(e&&(i=n),"e"===t||"E"===t){n++;for(var u=!0,s=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!u||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;s=!0,u=!1}else u=!1;n++}s||(n=i)}return e?(this.current=this.newToken(Ph,parseFloat(this.expression.substring(r,n))),this.pos=n):this.pos=i,e},Vh.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(Rh,e);else if("∙"===e||"•"===e)this.current=this.newToken(Rh,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Rh,">="),this.pos++):this.current=this.newToken(Rh,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Rh,"<="),this.pos++):this.current=this.newToken(Rh,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(Rh,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Rh,"=="),this.pos++):this.current=this.newToken(Rh,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(Rh,"!="),this.pos++):this.current=this.newToken(Rh,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},Vh.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},Vh.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},Vh.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)};var Gh="INUMBER",Zh="IOP1",Kh="IOP2",Jh="IOP3",Qh="IVAR",tp="IVARNAME",ep="IFUNCALL",np="IFUNDEF",rp="IEXPR",ip="IEXPREVAL",op="IMEMBER",ap="IENDSTATEMENT",up="IARRAY";function sp(t,e){this.type=t,this.value=null!=e?e:0}function cp(t){return new sp(Zh,t)}function lp(t){return new sp(Kh,t)}function fp(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess}sp.prototype.toString=function(){switch(this.type){case Gh:case Zh:case Kh:case Jh:case Qh:case tp:case ap:return this.value;case ep:return"CALL "+this.value;case np:return"DEF "+this.value;case up:return"ARRAY "+this.value;case op:return"."+this.value;default:return"Invalid Instruction"}},fp.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},fp.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}(e,t.value):"function"==typeof e?e(t):t.value===e)},fp.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},fp.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},fp.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e))&&(this.next(),!0)},fp.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},fp.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(Hh)||this.accept(Rh,(function(t){return t.value in e})))t.push(new sp(Qh,this.current.value));else if(this.accept(Ph))t.push(new sp(Gh,this.current.value));else if(this.accept(Fh))t.push(new sp(Gh,this.current.value));else if(this.accept(Bh,"("))this.parseExpression(t),this.expect(Bh,")");else{if(!this.accept(Ih,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(Ih,"]"))t.push(new sp(up,0));else{var n=this.parseArrayList(t);t.push(new sp(up,n))}}},fp.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},fp.prototype.pushExpression=function(t,e){for(var n=0,r=e.length;n<r;n++)t.push(e[n])},fp.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(Wh)&&(!this.nextToken||this.nextToken.type===Ch||this.nextToken.type===Bh&&")"===this.nextToken.value||e.push(new sp(ap)),this.nextToken.type!==Ch&&this.parseExpression(e),t.push(new sp(rp,e)),!0)},fp.prototype.parseArrayList=function(t){for(var e=0;!this.accept(Ih,"]");)for(this.parseExpression(t),++e;this.accept(qh);)this.parseExpression(t),++e;return e},fp.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(Rh,"=");){var e=t.pop(),n=[],r=t.length-1;if(e.type!==ep){if(e.type!==Qh&&e.type!==op)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new sp(tp,e.value)),t.push(new sp(rp,n)),t.push(lp("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var i=0,o=e.value+1;i<o;i++){var a=r-i;t[a].type===Qh&&(t[a]=new sp(tp,t[a].value))}this.parseVariableAssignmentExpression(n),t.push(new sp(rp,n)),t.push(new sp(np,e.value))}}},fp.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(Rh,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(Rh,":"),this.parseConditionalExpression(n),t.push(new sp(rp,e)),t.push(new sp(rp,n)),t.push(new sp(Jh,"?"))}},fp.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(Rh,"or");){var e=[];this.parseAndExpression(e),t.push(new sp(rp,e)),t.push(lp("or"))}},fp.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(Rh,"and");){var e=[];this.parseComparison(e),t.push(new sp(rp,e)),t.push(lp("and"))}};var hp=["==","!=","<","<=",">=",">","in"];fp.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(Rh,hp);){var e=this.current;this.parseAddSub(t),t.push(lp(e.value))}};var pp=["+","-","||"];fp.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(Rh,pp);){var e=this.current;this.parseTerm(t),t.push(lp(e.value))}};var dp=["*","/","%"];function gp(t,e){return Number(t)+Number(e)}function vp(t,e){return t-e}function mp(t,e){return t*e}function yp(t,e){return t/e}function bp(t,e){return t%e}function wp(t,e){return t===e}function xp(t,e){return t!==e}function _p(t,e){return t>e}function Mp(t,e){return t<e}function Ap(t,e){return t>=e}function Ep(t,e){return t<=e}function kp(t,e){return Boolean(t&&e)}function Sp(t,e){return Boolean(t||e)}function Np(t){return Math.log(t)*Math.LOG10E}function zp(t){return-t}function $p(t){return!t}function Op(t){return t<0?Math.ceil(t):Math.floor(t)}function Tp(t){return Math.random()*(t||1)}function jp(t){return Array.isArray(t)?t.length:String(t).length}function Lp(t,e,n){return t?e:n}function Dp(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function Yp(t,e){return t[0|e]}function Cp(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function Rp(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function Pp(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))}function Fp(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,r){return t(e,n,r)}),e)}function Bp(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))}function Ip(t){return(t>0)-(t<0)||+t}function qp(t){return Math.log(1+t)}function Hp(t){return Math.log(t)/Math.LN2}function Wp(t){if(!Array.isArray(t))throw new Error("Sum argument is not an array");return t.reduce((function(t,e){return t+Number(e)}),0)}function Up(t,e,n){var r,i,o,a,u,s,c=[];if(Xp(t))return Gp(t,n);for(var l=t.length,f=0;f<l;f++){var h=t[f],p=h.type;if(p===Gh||p===tp)c.push(h.value);else if(p===Kh)i=c.pop(),r=c.pop(),"and"===h.value?c.push(!!r&&!!Up(i,e,n)):"or"===h.value?c.push(!!r||!!Up(i,e,n)):"="===h.value?(a=e.binaryOps[h.value],c.push(a(r,Up(i,e,n),n))):(a=e.binaryOps[h.value],c.push(a(Gp(r,n),Gp(i,n))));else if(p===Jh)o=c.pop(),i=c.pop(),r=c.pop(),"?"===h.value?c.push(Up(r?i:o,e,n)):(a=e.ternaryOps[h.value],c.push(a(Gp(r,n),Gp(i,n),Gp(o,n))));else if(p===Qh)if(h.value in e.functions)c.push(e.functions[h.value]);else if(h.value in e.unaryOps&&e.parser.isOperatorEnabled(h.value))c.push(e.unaryOps[h.value]);else{var d=n[h.value];if(void 0===d)throw new Error("undefined variable: "+h.value);c.push(d)}else if(p===Zh)r=c.pop(),a=e.unaryOps[h.value],c.push(a(Gp(r,n)));else if(p===ep){for(s=h.value,u=[];s-- >0;)u.unshift(Gp(c.pop(),n));if(!(a=c.pop()).apply||!a.call)throw new Error(a+" is not a function");c.push(a.apply(void 0,u))}else if(p===np)c.push(function(){for(var t=c.pop(),r=[],i=h.value;i-- >0;)r.unshift(c.pop());var o=c.pop(),a=function(){for(var i=arguments,o=Object.assign({},n),a=0,u=r.length;a<u;a++)o[r[a]]=i[a];return Up(t,e,o)};return Object.defineProperty(a,"name",{value:o,writable:!1}),n[o]=a,a}());else if(p===rp)c.push(Vp(h,e));else if(p===ip)c.push(h);else if(p===op)r=c.pop(),c.push(r[h.value]);else if(p===ap)c.pop();else{if(p!==up)throw new Error("invalid Expression");for(s=h.value,u=[];s-- >0;)u.unshift(c.pop());c.push(u)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Gp(c[0],n)}function Vp(t,e,n){return Xp(t)?t:{type:ip,value:function(n){return Up(t.value,e,n)}}}function Xp(t){return t&&t.type===ip}function Gp(t,e){return Xp(t)?t.value(e):t}function Zp(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}function Kp(t){return t.trim()}function Jp(t){this.options=t||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||Hp,LN:Math.log,LOG10:Math.log10||Np,LG:Math.log10||Np,LOG1P:Math.log1p||qp,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:function(t){return null===t},TRUNC:Math.trunc||Op,"-":zp,"+":Number,EXP:Math.exp,NOT:$p,LENGTH:jp,"!":$p,SIGN:Math.sign||Ip,TEXT:function(t){return e(t)?t.toISOString():String(t)},NUMBER:Number},this.binaryOps={"+":gp,"-":vp,"*":mp,"/":yp,"%":bp,"^":Math.pow,"==":wp,"!=":xp,">":_p,"<":Mp,">=":Ap,"<=":Ep,and:kp,or:Sp,in:function(t,e){return Array.isArray(e)?e.includes(t):String(e).includes(t)},"[":Yp},this.ternaryOps={"?":Lp};var e=function(t){return t instanceof Date&&!isNaN(t)},n=function(t){if(e(t))return t;try{var n=new Date(t);return e(n)?n:null}catch(t){return null}};function r(t){return(1===arguments.length&&Array.isArray(t)?t:Array.from(arguments)).slice(0).filter((function(t){return!isNaN(t)&&Number.isFinite(t)}))}var i=/\w*/g,o=/\w\S*/g,a=/[\\^$*+?.()|[\]{}]/g;try{i=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(t){}this.functions={IF:Lp,RANDOM:Tp,MIN:function(){var t=r.apply(this,arguments);return Rp(t)},MAX:function(){return Cp(r.apply(this,arguments))},SUM:function(){return Wp(r.apply(this,arguments))},MEAN:function(){var t=r.apply(this,arguments);return Wp(t)/t.length},MEDIAN:function(){var t=r.apply(this,arguments).sort((function(t,e){return t-e})),e=Math.floor(t.length/2);return t.length%2==1?t[e]:.5*(t[e-1]+t[e])},POW:Math.pow,ATAN2:Math.atan2,ROUND:Dp,CONCAT:function(){return Array.from(arguments).join("")},TRIM:Kp,SUBSTR:function(t,e,n){return t.substr(e,n)},REPLACE:function(t,e,n){return t.replace(new RegExp(String(e).replace(a,"\\$&"),"g"),n)},REPLACE_REGEX:function(t,e,n){return t.replace(new RegExp(e,"g"),n)},SPLIT:function(t,e){return String(t).split(e)},LOWER:function(t){return String(t).toLowerCase()},UPPER:function(t){return String(t).toUpperCase()},PROPER:function(t){return String(t).replace(i,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},TITLE:function(t){return String(t).replace(o,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))},SORT:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=null),!Array.isArray(t))throw new Error("First argument to SORT is not an array");return t.slice(0).sort((function(t,r){return((t="string"==typeof n?t[n]:"function"==typeof n?n(t):t)>(r="string"==typeof n?r[n]:"function"==typeof n?n(r):r)?1:t<r?-1:0)*(e?1:-1)}))},SLICE:function(t,e,n){if(!Array.isArray(t))throw new Error("First argument to SLICE is not an array");return t.slice(e,n)},JOIN:function(t,e,n){if(void 0===n&&(n=null),!Array.isArray(t))throw new Error("First argument to JOIN is not an array");return n?[t.slice(0,t.length-1).join(e),t[t.length-1]].join(n):t.join(e)},MAP:Pp,FOLD:Fp,FILTER:Bp,PLUCK:function(t,e){if(!Array.isArray(t))throw new Error("First argument to PLUCK is not an array");return t.map((function(t){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:null}))},INDEXOF:function(t,e){return Array.isArray(t)||(t=String(t)),t.indexOf(e)},FIND:function(t,e){if(!Array.isArray(t))throw new Error("First argument to FIND is not an array");if("function"!=typeof e)throw new Error("Second argument to FIND is not a function");for(var n=t.length,r=0;r<n;r++)if(e(t[r]))return t[r];return null},RANGE:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},EVERY:function(t,e){if(!Array.isArray(t))throw new Error("First argument to EVERY is not an array");if("function"!=typeof e)throw new Error("Second argument to EVERY is not a function");for(var n=t.length,r=!0,i=0;i<n;i++)if(!(r=r&&e(t[i])))return!1;return!0},SOME:function(t,e){if(!Array.isArray(t))throw new Error("First argument to SOME is not an array");if("function"!=typeof e)throw new Error("Second argument to SOME is not a function");for(var n=t.length,r=!1,i=0;i<n;i++)if(r=r||e(t[i]))return!0;return!1},DATE:function(){for(var t=arguments.length,e=Array(t);t--;)e[t]=arguments[t];return arguments.length>1&&(arguments[1]=arguments[1]-1),new(Function.prototype.bind.apply(Date,[null].concat(e)))},YEAR:function(t){return(t=n(t))?t.getFullYear():null},MONTH:function(t){return(t=n(t))?t.getMonth()+1:null},DAY:function(t){return(t=n(t))?t.getDate():null},WEEKDAY:function(t){return(t=n(t))?t.getDay():null},HOURS:function(t){return(t=n(t))?t.getHours():null},MINUTES:function(t){return(t=n(t))?t.getMinutes():null},SECONDS:function(t){return(t=n(t))?t.getSeconds():null},DATEDIFF:function(t,e){return t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/864e5:null},TIMEDIFF:function(t,e){return t=n(t),e=n(e),t&&e?(e.getTime()-t.getTime())/1e3:null}},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}fp.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(Rh,dp);){var e=this.current;this.parseFactor(t),t.push(lp(e.value))}},fp.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(Rh,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===Bh&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===Wh||this.nextToken.type===qh||this.nextToken.type===Ch||this.nextToken.type===Bh&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(cp(n.value))}else this.parseExponential(t)},fp.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(Rh,"^");)this.parseFactor(t),t.push(lp("^"))},fp.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(Rh,"!");)t.push(cp("!"))},fp.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(Rh,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(cp(n.value))}else for(this.parseMemberExpression(t);this.accept(Bh,"(");)if(this.accept(Bh,")"))t.push(new sp(ep,0));else{var r=this.parseArgumentList(t);t.push(new sp(ep,r))}},fp.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(Bh,")");)for(this.parseExpression(t),++e;this.accept(qh);)this.parseExpression(t),++e;return e},fp.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(Rh,".")||this.accept(Ih,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(Hh),t.push(new sp(op,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(Ih,"]"),t.push(lp("["))}}},Zp.prototype.evaluate=function(t){return t=t||{},Up(this.tokens,this,t)},Zp.prototype.variables=function(){return(this.tokens||[]).filter((function(t){return"IVAR"===t.type})).map((function(t){return t.value}))},Jp.prototype.parse=function(t){var e=[],n=new fp(this,new Vh(this,t),{allowMemberAccess:!0});return n.parseExpression(e),n.expect(Ch,"EOF"),new Zp(e,this)},Jp.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var Qp=new Jp;Jp.parse=function(t){return Qp.parse(t)},Jp.evaluate=function(t,e){return Qp.parse(t).evaluate(e)},Jp.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var td={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function ed(){var t=window.innerHeight-8;return t-=Yh()}function nd(t){if("string"==typeof t){var e,n={},r=t.split(/([\.#])/g);for(t=r.shift();e=r.shift();)"."==e?n.class=n.class?n.class+" "+r.shift():r.shift():"#"==e&&(n.id=r.shift());return{tag:t,attr:n}}return t}function rd(){return null}Jp.prototype.isOperatorEnabled=function(t){var e=function(t){return Object.prototype.hasOwnProperty.call(td,t)?td[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};var id=/^(allowReorder|attributeName|attributeType|autoReverse|baseFrequency|baseProfile|calcMode|clipPathUnits|contentScriptType|contentStyleType|diffuseConstant|edgeMode|externalResourcesRequired|filterRes|filterUnits|glyphRef|gradientTransform|gradientUnits|kernelMatrix|kernelUnitLength|keyPoints|keySplines|keyTimes|lengthAdjust|limitingConeAngle|markerHeight|markerUnits|markerWidth|maskContentUnits|maskUnits|numOctaves|pathLength|patternContentUnits|patternTransform|patternUnits|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|referrerPolicy|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|specularConstant|specularExponent|spreadMethod|startOffset|stdDeviation|stitchTiles|surfaceScale|systemLanguage|tableValues|targetX|targetY|textLength|viewBox|viewTarget|xChannelSelector|yChannelSelector|zoomAndPan)$/;function od(t,e){void 0===e&&(e=700);var n=!1,r=!0;return{set:function(i){n!==i&&setTimeout((function(){r=!1,t(n)}),r?e:0),n=i},clear:function(){n=null,r=!0,t(null)},get:function(){return n}}}function ad(t,e,n){var r=e.swatches,i=e.swatchWidth,o=e.swatchHeight,a=e.itemMarginBottom,u=e.itemMarginRight,s=e.swatchBorderRadius,c=e.swatchLabelDistance,l=e.fontWeight,f=e.highlight,h=e.reverse,p=t.append("div.legend-categories").st({fontWeight:l}),d=od((function(t){null!==t?(f&&(p.classed("highlighted",!0),v.classed("highlight",(function(e){return e.key===t.key}))),n("mouseenter",t)):(f&&(p.classed("highlighted",!1),v.classed("highlight",!1)),n("mouseleave"))})),g=h?r.slice(0).reverse():r,v=p.appendMany("div.legend-swatch",g).st({marginBottom:a,marginRight:u}).on("mouseenter",(function(t){return d.set(t)}));p.on("mouseleave",d.clear);var m=v.append("div.legend-no-break"),y="50%"===s?"dw-circle":"export-rect";function b(t){var e=t.trim().indexOf(" "),n=t.trim().indexOf("-");return e<0&&n<0?t:n<0||e<n?t.substr(0,e):t.substr(0,n+1)}return m.append("div.legend-color."+y).st({width:i,height:o,marginRight:c,borderRadius:s,background:function(t){return t.color}}),m.append("div.legend-label").html((function(t){return b(t.label)})),v.append("div.legend-label").html((function(t){return e=t.label,n=b(e),e.substr(n.length);var e,n})),{highlight:function(t){p.classed("highlighted",!!t),t?v.classed("highlight",(function(e){return e.key===t})):v.classed("highlight",!1)}}}function ud(t,e){return e=null==e?t.length-1:+e,function(){for(var n=arguments,r=Math.max(arguments.length-e,0),i=Array(r),o=0;o<r;o++)i[o]=n[o+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var a=Array(e+1);for(o=0;o<e;o++)a[o]=n[o];return a[e]=i,t.apply(this,a)}}st.prototype.translate=function(t,e){var n=this.node();return n?n.getBBox?this.attr("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+","+i[1]+")"})):this.style("transform",(function(n,r){var i="function"==typeof t?t.call(this,n,r):t;return 0===e?i=[i,0]:1===e&&(i=[0,i]),"translate("+i[0]+"px,"+i[1]+"px)"})):this},st.prototype.append=function(t){var e,n;"function"==typeof t?e=t:(n=nd(t),e=o(n.tag));var r=this.select((function(){return this.appendChild(e.apply(this,arguments))}));if(n)for(var i in n.attr)r.attr(i,n.attr[i]);return r},st.prototype.insert=function(t,e){var n=nd(t),r=o(n.tag),i=null==e?rd:"function"==typeof e?e:u(e),a=this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}));for(var s in n.attr)a.attr(s,n.attr[s]);return a},st.prototype.parent=function(){var t=[];return this.filter((function(){return!(t.indexOf(this.parentNode)>-1)&&(t.push(this.parentNode),!0)})).select((function(){return this.parentNode}))},st.prototype.selectAppend=function(t){var e,n=u(t),r=nd(t);for(var i in t=o(r.tag),e=this.select((function(){return n.apply(this,arguments)||this.appendChild(t.apply(this,arguments))})),r.attr)e.attr(i,r.attr[i]);return e},st.prototype.tspans=function(t,e){return this.selectAll("tspan").data((function(e,n){return("function"==typeof t?t.call(this,e,n):t).map((function(t){return{line:t,parent:e}}))})).enter().append("tspan").text((function(t){return t.line})).attr("x",0).attr("dy",(function(t,n){return n?("function"==typeof e?e.call(this,t.parent,t.line,n):e)||15:0}))},st.prototype.appendMany=function(t,e){if("string"==typeof e){console.warn("DEPRECATED: jetpack's appendMany order of arguments has changed. It's appendMany('div', data) from now on");var n=e;e=t,t=n}return this.selectAll(null).data(e).enter().append(t)},st.prototype.at=function(t,e){if("object"==typeof t){for(var n in t)this.attr(id.test(n)?n:n.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase(),t[n]);return this}return 1==arguments.length?this.attr(t):this.attr(t,e)},st.prototype.st=function(t,e){if("object"==typeof t){for(var n in t)r(this,n,t[n]);return this}return 1==arguments.length?this.style(t):r(this,t,e);function r(t,e,n){e=e.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase();return~"top left bottom right padding-top padding-left padding-bottom padding-right border-top b-width border-left-width border-botto-width m border-right-width margin-top margin-left margin-bottom margin-right font-size width stroke-width line-height margin padding border border-radius max-width min-width max-height min-height".indexOf(e)?t.style(e,"function"==typeof n?o(n):i(n)):t.style(e,n),t}function i(t){return t.match?t:t+"px"}function o(t){return function(){var e=t.apply(this,arguments);return i(e)}}},st.prototype.prop=st.prototype.property;var sd="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},cd=Array.prototype,ld=Object.prototype,fd=cd.slice,hd=ld.toString,pd=ld.hasOwnProperty,dd=Array.isArray,gd=Object.keys,vd=isNaN,md=!{toString:null}.propertyIsEnumerable("toString"),yd=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],bd=Math.pow(2,53)-1;function wd(t){var e="[object "+t+"]";return function(t){return hd.call(t)===e}}var xd=wd("Function"),_d=sd.document&&sd.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof _d&&(xd=function(t){return"function"==typeof t||!1});var Md=xd;function Ad(t){return t instanceof Ad?t:this instanceof Ad?void(this._wrapped=t):new Ad(t)}function Ed(t){return t}function kd(t){var e=typeof t;return"function"===e||"object"===e&&!!t}Ad.VERSION="1.12.0",Ad.prototype.value=function(){return this._wrapped},Ad.prototype.valueOf=Ad.prototype.toJSON=Ad.prototype.value,Ad.prototype.toString=function(){return String(this._wrapped)};var Sd=dd||wd("Array");function Nd(t,e){return null!=t&&pd.call(t,e)}function zd(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=yd.length,r=t.constructor,i=Md(r)&&r.prototype||ld,o="constructor";for(Nd(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=yd[n])in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function $d(t){if(!kd(t))return[];if(gd)return gd(t);var e=[];for(var n in t)Nd(t,n)&&e.push(n);return md&&zd(t,e),e}var Od=function(t,e){return function(n){var r=arguments,i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var o=1;o<i;o++)for(var a=r[o],u=t(a),s=u.length,c=0;c<s;c++){var l=u[c];e&&void 0!==n[l]||(n[l]=a[l])}return n}}($d);function Td(t){return t=Od({},t),function(e){return function(t,e){var n=$d(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}(e,t)}}function jd(t){return t=function(t){return Ad.toPath(t)}(t),function(e){return function(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}(e,t)}}function Ld(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function Dd(t,e,n){return null==t?Ed:Md(t)?Ld(t,e,n):kd(t)&&!Sd(t)?Td(t):jd(t)}function Yd(t,e){return Dd(t,e,1/0)}function Cd(t,e,n){return Ad.iteratee!==Yd?Ad.iteratee(t,e):Dd(t,e,n)}Ad.toPath=function(t){return Sd(t)?t:[t]},Ad.iteratee=Yd;var Rd,Pd,Fd=(Rd="length",function(t){return null==t?void 0:t[Rd]}),Bd=(Pd=Fd,function(t){var e=Pd(t);return"number"==typeof e&&e>=0&&e<=bd});var Id=wd("Arguments");!function(){Id(arguments)||(Id=function(t){return Nd(t,"callee")})}();var qd=Id;function Hd(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,a=Fd(t);o<a;o++){var u=t[o];if(Bd(u)&&(Sd(u)||qd(u)))if(e>1)Hd(u,e-1,n,r),i=r.length;else for(var s=0,c=u.length;s<c;)r[i++]=u[s++];else n||(r[i++]=u)}return r}var Wd,Ud=(Wd=1,function(t,e,n){e=Cd(e,n);for(var r=Fd(t),i=Wd>0?0:r-1;i>=0&&i<r;i+=Wd)if(e(t[i],i,t))return i;return-1}),Vd=wd("Number");function Xd(t){return Vd(t)&&vd(t)}var Gd=function(t,e,n){return function(r,i,o){var a=0,u=Fd(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(n&&o&&u)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(fd.call(r,a,u),Xd))>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&o<u;o+=t)if(r[o]===i)return o;return-1}}(1,Ud,(function(t,e,n,r){for(var i=(n=Cd(n,r,1))(e),o=0,a=Fd(t);o<a;){var u=Math.floor((o+a)/2);n(t[u])<i?o=u+1:a=u}return o}));function Zd(t,e,n,r){return Bd(t)||(t=function(t){for(var e=$d(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}(t)),("number"!=typeof n||r)&&(n=0),Gd(t,e,n)>=0}function Kd(t,e,n){return e in n}var Jd=ud((function(t,e){var n={},r=e[0];if(null==t)return n;Md(r)?(e.length>1&&(r=Ld(r,e[1])),e=function(t){if(!kd(t))return[];var e=[];for(var n in t)e.push(n);return md&&zd(t,e),e}(t)):(r=Kd,e=Hd(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],u=t[a];r(u,a,t)&&(n[a]=u)}return n})),Qd=ud((function(t,e){var n,r,i=e[0];return Md(i)?(r=i,i=function(){return!r.apply(this,arguments)},e.length>1&&(n=e[1])):(e=function(t,e,n){e=Cd(e,n);for(var r=!Bd(t)&&$d(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var u=r?r[a]:a;o[a]=e(t[u],u,t)}return o}(Hd(e,!1,!1),String),i=function(t,n){return!Zd(e,n)}),Jd(t,i,n)}));function tg(t,e){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var n,r=Object.assign({},{title:"",horizontal:!0,swatches:[{color:"#dd0000",label:"A red swatch",key:"red"},{color:"#0033dd",label:"A blue swatch",key:"blue"}],reverse:!1,width:"100%",height:"auto",swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,paddingTop:0,paddingBottom:10,color:"inherit",fontSize:"inherit",fontWeight:"inherit",fontFamily:"inherit",textAlign:"left",highlight:!1},e.theme?Qd({swatchWidth:Yc(e.theme,"style.chart.legend.swatch.width",14),swatchHeight:Yc(e.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Yc(e.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Yc(e.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Yc(e.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Yc(e.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Yc(e.theme,"style.chart.legend.rowSpacing"),paddingTop:Yc(e.theme,"style.chart.legend.padding.top"),textAlign:Yc(e.theme,"style.chart.legend.alignment"),color:Yc(e.theme,"style.chart.labels.legend.color")},(function(t){return null==t})):{},e),i={},o=ct(t).append("div.category-legend").classed("horizontal",r.horizontal).classed("vertical",!r.horizontal).st({paddingTop:r.paddingTop,paddingBottom:r.paddingBottom,textAlign:r.textAlign,color:r.color,fontSize:r.fontSize,fontFamily:r.fontFamily,width:r.width,height:r.height});return r.title&&o.append("div.legend-title.label").append("span").html(r.title),n=ad(o,r,(function(t,e){i[t]&&i[t].length&&i[t].forEach((function(t){"function"==typeof t&&t(e)}))})),n=Object.assign({},{container:o,on:function(t,e){return"function"!=typeof e||"string"!=typeof t||(i[t]||(i[t]=[]),i[t].push(e)),n}},n)}function eg(){var t=window.navigator.userAgent;return/MSIE|Trident/.test(t)}var ng=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},rg="object"==typeof pc&&pc&&pc.Object===Object&&pc,ig="object"==typeof self&&self&&self.Object===Object&&self,og=rg||ig||Function("return this")(),ag=function(){return og.Date.now()},ug=og.Symbol,sg=Object.prototype,cg=sg.hasOwnProperty,lg=sg.toString,fg=ug?ug.toStringTag:void 0;var hg=function(t){var e=cg.call(t,fg),n=t[fg];try{t[fg]=void 0;var r=!0}catch(t){}var i=lg.call(t);return r&&(e?t[fg]=n:delete t[fg]),i},pg=Object.prototype.toString;var dg=function(t){return pg.call(t)},gg=ug?ug.toStringTag:void 0;var vg=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":gg&&gg in Object(t)?hg(t):dg(t)};var mg=function(t){return null!=t&&"object"==typeof t};var yg=function(t){return"symbol"==typeof t||mg(t)&&"[object Symbol]"==vg(t)},bg=/^\s+|\s+$/g,wg=/^[-+]0x[0-9a-f]+$/i,xg=/^0b[01]+$/i,_g=/^0o[0-7]+$/i,Mg=parseInt;var Ag=function(t){if("number"==typeof t)return t;if(yg(t))return NaN;if(ng(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ng(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(bg,"");var n=xg.test(t);return n||_g.test(t)?Mg(t.slice(2),n?2:8):wg.test(t)?NaN:+t},Eg=Math.max,kg=Math.min;var Sg=function(t,e,n){var r,i,o,a,u,s,c=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,o=i;return r=i=void 0,c=e,a=t.apply(o,n)}function d(t){return c=t,u=setTimeout(v,e),l?p(t):a}function g(t){var n=t-s;return void 0===s||n>=e||n<0||f&&t-c>=o}function v(){var t=ag();if(g(t))return m(t);u=setTimeout(v,function(t){var n=e-(t-s);return f?kg(n,o-(t-c)):n}(t))}function m(t){return u=void 0,h&&r?p(t):(r=i=void 0,a)}function y(){var t=ag(),n=g(t);if(r=arguments,i=this,s=t,n){if(void 0===u)return d(s);if(f)return clearTimeout(u),u=setTimeout(v,e),p(s)}return void 0===u&&(u=setTimeout(v,e)),a}return e=Ag(e)||0,ng(n)&&(l=!!n.leading,o=(f="maxWait"in n)?Eg(Ag(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=s=i=u=void 0},y.flush=function(){return void 0===u?a:m(ag())},y},Ng=[],zg=!1;function $g(){if(Ng.length){var t=Ng.map((function(t){try{return t.measure&&t.measure()}catch(t){return t}}));Ng.forEach((function(e,n){try{e.update&&e.update(t[n])}catch(t){}})),Ng=[],zg=!1}}function Og(t){Ng.push(t),zg||(zg=!0,requestAnimationFrame($g))}var Tg,jg={categories:ad,continuous:function(t,e,n){for(var r=e.colors,i=e.limits,o=e.format,a=e.labels,u=e.horizontal,s=e.width,c=e.height,l=e.rulerSize,f=e.swatchLabelDistance,h=e.highlight,p=e.reverse,d=3===i.length,g=t.parent().append("defs"),v=[],m=0;m<17;m++)v.push(m/16);var y="g-"+Math.floor(1e6*Math.random()).toString(32);g.append("linearGradient").attr("id",y).attr(u?"y2":"x2",0).attr(u?"x2":"y2",1).appendMany("stop",v).attr("offset",(function(t){return 100*t+"%"})).attr("stop-color",p?function(t){return S(1-t)}:S),t.append("rect").at({width:u?s:l,height:u?l:c}).style("fill","url(#"+y+")");var b=(a||i.map(o)).slice(0),w=i.slice(0);p&&(b.reverse(),w.reverse());var x=eg();t.append("g.labels").translate(u?[0,l+f+(x?8:0)]:[l+f,0]).appendMany("text",b).attr("class",(function(t,e){return 0===e?"min":1===e&&d?"center":"max"})).translate(u?function(t,e){return[s*e/(d?2:1),0]}:function(t,e){return[0,c*e/(d?2:1)]}).tspans((function(t){return t.split("<br>")}));var _=t.append("g.highlight");_.append("path.triangle").translate(u?[0,l+7]:[l+7,0]).attr("d",u?"M-5,0 L 5,0 L 0,-7 Z":"M0,-5 L-7,0 L 0,5 Z"),_.append("g.text").translate(u?[0,l+12+(x?8:0)]:[l+12,0]).append("text.buffer").parent().append("text");var M=_.selectAll("text"),A=od((function(e){if(null!==e){if(h){t.classed("highlighted",!0),_.style("transform","translate("+(u?[e*s,0]:[0,e*c]).map((function(t){return t+"px"}))+")"),_.translate(u?[e*s,0]:[0,e*c]);var r=E(e);M.text(o(r))}n("mouseenter",{min:E(e*(p?1.1:.9)),max:E(e*(p?.9:1.1))})}else h&&t.classed("highlighted",!1),n("mouseleave")}));return t.parent().on("mouseenter",(function(){t.parent().classed("no-transition",!0)})),t.parent().on("mousemove",(function(){var e=ht(t.node())[u?0:1]/(u?s:c);A.set(Math.min(1,Math.max(0,e)))})),t.parent().on("mouseleave",(function(){A.clear(),t.parent().classed("no-transition",!1)})),{highlight:function(e){null!=e?(t.parent().classed("no-transition",!t.classed("highlighted")),t.classed("highlighted",!0),_.style("transform","translate("+(u?[k(e)*s,0]:[0,k(e)*c]).map((function(t){return t+"px"}))+")"),_.translate(u?[k(e)*s,0]:[0,k(e)*c]),M.text(o(e))):t.classed("highlighted",!1)}};function E(t){return d?t<.5?w[0]+2*t*(w[1]-w[0]):w[1]+2*(t-.5)*(w[2]-w[1]):w[0]+t*(w[1]-w[0])}function k(t){return d?t<w[1]?.5*(t-w[0])/(w[1]-w[0]):.5+.5*(t-w[1])/(w[2]-w[1]):(t-w[0])/(w[1]-w[0])}function S(t){var e=d?t<=.5?2*t*(i[1]-i[0])+i[0]:2*(t-.5)*(i[2]-i[1])+i[1]:t*(i[1]-i[0])+i[0];return r(e)}},ruler:function(t,e,n){var r=e.colors,i=e.format,o=e.breaks,a=e.width,u=e.height,s=e.rulerSize,c=e.tickLength,l=e.tickWidth,f=e.horizontal,h=e.reverse,p=e.swatchLabelDistance,d=e.highlight,g=[],v=r.map((function(t,e){return{color:t,min:0===e?-1/0:+o[e],max:e===r.length-1?1/0:+o[e+1],label:e===(h?r.length-1:0)?"":""+i(o[h?e+1:e])}}));h&&v.reverse();var m=f?Math.floor(a/r.length)-1:s,y=f?s:Math.floor(u/r.length)-1,b=t.appendMany("g.swatch",v).translate(f?function(t,e){return[e*(m+l),0]}:function(t,e){return[0,e*(y+l)]}),w=od((function(e){null!==e?(d&&(t.classed("highlighted",!0),b.classed("highlight",(function(t){return e===t}))),n("mouseenter",e)):(d&&(t.classed("highlighted",!1),b.classed("highlight",!1)),n("mouseleave"))}));if(b.on("mouseenter",(function(t){return w.set(t)})),t.parent().on("mouseleave",w.clear),b.append("rect").at({width:m,height:y}).style("fill",(function(t){return t.color})),b.append("text").translate(f?[0,y+p+c+(eg()?8:0)]:[m+p+c,0]).text((function(t){return t.label})),c>0&&b.filter((function(t,e){return e>0})).append("path.tick").style("stroke-width",l).attr("d","M"+(f?"-"+Math.ceil(.5*l)+",0":"0,-"+Math.ceil(.5*l))+(f?"v":"h")+((f?y:m)+c)),f){var x=Sg((function(){_&&(b.selectAll("text").st({textAnchor:"end"}).at({transform:"translate("+.5*-m+","+(y+p+c)+") rotate(-90)"}),g.forEach((function(t){return t()})))}),20),_=!1;b.selectAll("text").each((function(t){var e=this;Og({measure:function(){return e.getBoundingClientRect()},update:function(t){t.width>m+2&&(_=!0,x())}})}))}return{highlight:function(e){null!=e?(t.classed("highlighted",!0),b.classed("highlight",(function(t){return e>=t.min&&e<t.max}))):(t.classed("highlighted",!1),b.classed("highlight",!1))},onupdate:function(t){g.push(t)}}},ranges:function(t,e,n){var r=e.colors,i=e.format,o=e.labels,a=e.breaks,u=e.width,s=e.swatchWidth,c=e.swatchHeight,l=e.itemMarginBottom,f=e.swatchBorderRadius,h=e.swatchLabelDistance,p=e.rulerSize,d=e.horizontal,g=e.highlight,v=e.reverse,m=[],y=r.map((function(t,e){return{color:t,min:0===e?-1/0:+a[e],max:e===r.length-1?1/0:+a[e+1],label:o?o[e]:0===e?"< "+i(a[1]):e===r.length-1?"≥ "+i(a[e]):i(a[e])+"–"+i(a[e+1])}})),b=d?Math.floor(u/r.length)-1:s,w=d?p:c;v&&y.reverse();var x=t.appendMany("g.swatch",y).translate(d?function(t,e){return[e*(b+1),0]}:function(t,e){return[0,e*(w+l)]}).on("mouseenter",(function(t){return _.set(t)})),_=od((function(e){null!==e?(g&&(t.classed("highlighted",!0),x.classed("highlight",(function(t){return e===t}))),n("mouseenter",e)):(g&&(t.classed("highlighted",!1),x.classed("highlight",!1)),n("mouseleave"))}));if(t.parent().on("mouseleave",_.clear),x.append("rect").at({width:b,height:w,rx:Math.min(f,.5*w),ry:Math.min(f,.5*b)}).style("fill",(function(t){return t.color})).parent().append("text").translate(d?[.5*b,w+h]:[b+h,.5*w]).text((function(t){return t.label})),d){var M=Sg((function(){if(A){var n=t.parent(),r=n.parent();n.remove(),r.classed("ranges",!1).classed("color-legend",!1).classed("category-legend",!0).classed("categories",!0),ad(r,Object.assign({},e,{swatches:y,reverse:!1})),m.forEach((function(t){return t()}))}}),20),A=!1;x.selectAll("text").each((function(t){var e=this;Og({measure:function(){return e.getBoundingClientRect()},update:function(t){t.width>b+2&&(A=!0,M())}})}))}return{highlight:function(e){null!=e?(t.classed("highlighted",!0),x.classed("highlight",(function(t){return e>=t.min&&e<t.max}))):(t.classed("highlighted",!1),x.classed("highlight",!1))},onupdate:function(t){m.push(t)}}},winner:function(t,e){var n=e.colors,r=e.format,i=e.breaks,o=e.labels,a=e.width,u=e.height,s=e.rulerSize,c=e.tickLength,l=e.tickWidth,f=e.horizontal,h=e.reverse,p=e.itemMarginBottom,d=e.swatchLabelDistance,g=o.map((function(t){return{label:t,swatches:n[t].map((function(e,o){return{color:e,label:(h?o===n[t].length-1:0===o)?"":""+r(i[h?o+1:o])}}))}}));g[g.length-1].isLast=!0;var v=i.length-1,m=f?Math.floor(a/(v+3))-1:s,y=f?s:Math.floor(u/(v+3))-1,b=t.appendMany("g.group",g).translate((function(t,e){return f?[0,(y+p)*e]:[(m+p)*e,0]}));b.append("text.label").attr("transform",f?"translate("+[(m+l)*v+d,.5*y+1]+")":"translate("+[.5*m,(y+l)*v+d]+") rotate(-90)").text((function(t){return t.label}));var w=b.appendMany("g.swatch",(function(t){return h?t.swatches.slice(0).reverse():t.swatches})).translate(f?function(t,e){return[e*(m+l),0]}:function(t,e){return[0,e*(y+l)]});return w.append("rect").at({width:m,height:y}).style("fill",(function(t){return t.color})),b.filter((function(t){return t.isLast})).selectAll("g.swatch").append("text").translate(f?[0,y+d+c]:[m+d+c,0]).text((function(t){return t.label})),c>0&&w.append("path.tick").style("stroke-width",l).attr("d","M"+(f?"-"+Math.ceil(.5*l)+",0":"0,-"+Math.ceil(.5*l))+(f?"v":"h")+((f?y:m)+c)),{highlight:function(t){}}}};function Lg(t,e){if("svg"===t.nodeName.toLowerCase()||t.ownerSVGElement)throw new Error("can only render in HTML elements");var n,r=Object.assign({},{title:"",width:100,height:200,horizontal:!0,colors:["white","yellow","red"],breaks:!1,limits:!1,ruler:!1,labels:!1,format:function(t){return String(+t.toFixed(2))},swatchWidth:20,swatchHeight:20,itemMarginBottom:3,itemMarginRight:10,swatchBorderRadius:0,swatchLabelDistance:3,rulerSize:13,tickLength:0,tickWidth:1,highlight:!1,reverse:!1},e.theme?Qd({swatchWidth:Yc(e.theme,"style.chart.legend.swatch.width",14),swatchHeight:Yc(e.theme,"style.chart.legend.swatch.height",14),swatchBorderRadius:Yc(e.theme,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Yc(e.theme,"style.chart.legend.swatch.marginRight"),paddingBottom:Yc(e.theme,"style.chart.legend.padding.bottom"),itemMarginRight:Yc(e.theme,"style.chart.legend.text.marginRight"),itemMarginBottom:Yc(e.theme,"style.chart.legend.rowSpacing"),paddingTop:Yc(e.theme,"style.chart.legend.padding.top"),textAlign:Yc(e.theme,"style.chart.legend.alignment"),color:Yc(e.theme,"style.chart.labels.legend.color")},(function(t){return null==t})):{},e),i={},o=Array.isArray(r.colors)&&!r.ruler&&!r.horizontal,a=ct(t).append("div."+(o?"category":"color")+"-legend").classed("horizontal",r.horizontal).classed("vertical",!r.horizontal);r.title&&a.append("div.title.legend-title.label").style("max-width",r.width+"px").append("span").html(r.title);var u=o?null:a.append("svg").at({width:r.width,height:r.height}),s=o?null:u.append("g");if("function"==typeof r.colors)a.classed("continuous",!0),n=jg.continuous(s,r,f);else if(Array.isArray(r.colors)){var c=r.ruler?"ruler":o?"categories":"ranges";a.classed(c,!0),r.swatches=function(t){var e=t.colors,n=t.labels,r=t.breaks,i=t.format;return e.map((function(t,o){return{color:t,min:0===o?-1/0:+r[o],max:o===e.length-1?1/0:+r[o+1],label:n?n[o]:0===o?"< "+i(r[1]):o===e.length-1?"≥ "+i(r[o]):i(r[o])+"–"+i(r[o+1])}}))}(r),n=jg[c](o?a:s,r,f)}else a.classed("winner",!0),n=jg.winner(s,r,f);function l(){Og({measure:function(){return s.node().getBoundingClientRect()},update:function(t){u.attr("height",t.height).attr("width",t.width)}})}function f(t,e){i[t]&&i[t].length&&i[t].forEach((function(t){"function"==typeof t&&t(e)}))}return l(),n.onupdate&&n.onupdate(l),n=Object.assign({},{container:a,on:function(t,e){return"function"!=typeof e||"string"!=typeof t||(i[t]||(i[t]=[]),i[t].push(e)),n}},n)}function Dg(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,u,s,c,l,f,h,p=t._root,d={data:r},g=t._x0,v=t._y0,m=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a,i=p,!(p=p[f=l<<1|c]))return i[f]=d,t;if(u=+t._x.call(null,p.data),s=+t._y.call(null,p.data),e===u&&n===s)return d.next=p,i?i[f]=d:t._root=d,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+m)/2))?g=o:m=o,(l=n>=(a=(v+y)/2))?v=a:y=a}while((f=l<<1|c)==(h=(s>=a)<<1|u>=o));return i[h]=p,i[f]=d,t}function Yg(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Cg(t){return t[0]}function Rg(t){return t[1]}function Pg(t,e,n){var r=new Fg(null==e?Cg:e,null==n?Rg:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Fg(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Bg(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ig=Pg.prototype=Fg.prototype;function qg(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],u=e[1],s=o[0],c=o[1],l=!1,f=0;f<i;++f)n=(o=t[f])[0],(r=o[1])>u!=c>u&&a<(s-n)*(u-r)/(c-r)+n&&(l=!l),s=n,c=r;return l}function Hg(t){return t.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function Wg(t,e){var n=As();t.forEach((function(t){void 0!==t.properties.cx&&void 0!==t.properties.cy&&(t.properties.__centroid=e([t.properties.cx,t.properties.cy])),t.properties.__centroid&&void 0!==t.properties.__centroid[0]||(t.properties.__centroid=n.centroid(t)),t.properties.__bbox=n.bounds(t)}));var r=Pg(t,(function(t){return t.properties.__centroid[0]}),(function(t){return t.properties.__centroid[1]}));return function(t){var e=r.copy(),n=e.find(t[0],t[1]);if(n){for(var i=300;e.size()&&!o(n)&&--i>0;)e.remove(n),n=e.find(t[0],t[1]);if(i&&e.size())return n}function o(e){if(!e)return!1;var n=e.properties.__bbox;return t[0]>=n[0][0]&&t[0]<=n[1][0]&&t[1]>=n[0][1]&&t[1]<=n[1][1]&&function(t,e){if("MultiPolygon"===t.geometry.type||"Polygon"===t.geometry.type){for(var n="MultiPolygon"===t.geometry.type?t.geometry.coordinates:[t.geometry.coordinates],r=0;r<n.length;r++)for(var i=n[r],o=0;o<i.length;o++){if(qg(i[o],e))return!0}return!1}console.warn(t.geometry.type,"is not supported")}(e,t)}}}function Ug(t){return"<div class=\"tooltip-warning\"'>Woops! There's an error in your tooltip formula: "+t.message+"</div>"}function Vg(t,e){return ll(t)?Oc(t).format(e):_h(+t,{format:e})}function Xg(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gg(t){var e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=function(e,n){return t(e)-n},n=function(t){return function(e,n){return Xg(t(e),n)}}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);var a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}function Zg(t){return null===t?NaN:+t}Ig.copy=function(){var t,e,n=new Fg(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Bg(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Bg(e));return n},Ig.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Dg(this.cover(e,n),e,n,t)},Ig.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),u=new Array(o),s=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,u[n]=i,r<s&&(s=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(s>l||c>f)return this;for(this.cover(s,c).cover(l,f),n=0;n<o;++n)Dg(this,a[n],u[n],t[n]);return this},Ig.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,u,s=i-n,c=this._root;n>t||t>=i||r>e||e>=o;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Ig.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Ig.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ig.find=function(t,e,n){var r,i,o,a,u,s,c,l=this._x0,f=this._y0,h=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new Yg(g,l,f,h,p)),null==n?n=1/0:(l=t-n,f=e-n,h=t+n,p=e+n,n*=n);s=d.pop();)if(!(!(g=s.node)||(i=s.x0)>h||(o=s.y0)>p||(a=s.x1)<l||(u=s.y1)<f))if(g.length){var v=(i+a)/2,m=(o+u)/2;d.push(new Yg(g[3],v,m,a,u),new Yg(g[2],i,m,v,u),new Yg(g[1],v,o,a,m),new Yg(g[0],i,o,v,m)),(c=(e>=m)<<1|t>=v)&&(s=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=s)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);l=t-x,f=e-x,h=t+x,p=e+x,r=g.data}}return r},Ig.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,u,s,c,l,f,h,p=this._root,d=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(u=(d+v)/2))?d=u:v=u,(l=a>=(s=(g+m)/2))?g=s:m=s,e=p,!(p=p[f=l<<1|c]))return this;if(!p.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[h]=p:this._root=p),this):(this._root=i,this)},Ig.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ig.root=function(){return this._root},Ig.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Ig.visit=function(t){var e,n,r,i,o,a,u=[],s=this._root;for(s&&u.push(new Yg(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&s.length){var c=(r+o)/2,l=(i+a)/2;(n=s[3])&&u.push(new Yg(n,c,l,o,a)),(n=s[2])&&u.push(new Yg(n,r,l,c,a)),(n=s[1])&&u.push(new Yg(n,c,i,o,l)),(n=s[0])&&u.push(new Yg(n,r,i,c,l))}return this},Ig.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Yg(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,s=e.x1,c=e.y1,l=(a+s)/2,f=(u+c)/2;(o=i[0])&&n.push(new Yg(o,a,u,l,f)),(o=i[1])&&n.push(new Yg(o,l,u,s,f)),(o=i[2])&&n.push(new Yg(o,a,f,l,c)),(o=i[3])&&n.push(new Yg(o,l,f,s,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ig.x=function(t){return arguments.length?(this._x=t,this):this._x},Ig.y=function(t){return arguments.length?(this._y=t,this):this._y};var Kg=Gg(Xg).right,Jg=(Gg(Zg).center,Math.sqrt(50)),Qg=Math.sqrt(10),tv=Math.sqrt(2);function ev(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=nv(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)/a;return r&&o.reverse(),o}function nv(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Jg?10:o>=Qg?5:o>=tv?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Jg?10:o>=Qg?5:o>=tv?2:1)}function rv(t,e,n){if(void 0===n&&(n=Zg),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function iv(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ov(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function av(t){return+t}var uv=[0,1];function sv(t){return t}function cv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function lv(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=cv(i,r),o=n(a,o)):(r=cv(r,i),o=n(o,a)),function(t){return o(r(t))}}function fv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=cv(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Kg(t,e,1,r)-1;return o[n](i[n](e))}}function hv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function pv(){var t,e,n,r,i,o,a=uv,u=uv,s=rn,c=sv;function l(){var t=Math.min(a.length,u.length);return c!==sv&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?fv:lv,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,s)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(u,a.map(t),Je)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,av),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=on,l()},f.clamp=function(t){return arguments.length?(c=!!t||sv,l()):c!==sv},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function dv(){return pv()(sv,sv)}function gv(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Jg?i*=10:o>=Qg?i*=5:o>=tv&&(i*=2),e<t?-i:i}(t,e,n);switch((r=Dn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Vn(o,a))||(r.precision=i),In(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Xn(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Un(o))||(r.precision=i-2*("%"===r.type))}return Bn(r)}function vv(t){var e=t.domain;return t.ticks=function(t){var n=e();return ev(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return gv(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,u=o.length-1,s=o[a],c=o[u],l=10;for(c<s&&(i=s,s=c,c=i,i=a,a=u,u=i);l-- >0;){if((i=nv(s,c,n))===r)return o[a]=s,o[u]=c,e(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function mv(){var t=dv();return t.copy=function(){return hv(t,mv())},ov.apply(t,arguments),vv(t)}function yv(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[Kg(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return yv().domain(e).range(n).unknown(t)},ov.apply(i,arguments)}var bv,wv=function(t){if(!ng(t))return!1;var e=vg(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},xv=og["__core-js_shared__"],_v=(bv=/[^.]+$/.exec(xv&&xv.keys&&xv.keys.IE_PROTO||""))?"Symbol(src)_1."+bv:"";var Mv=function(t){return!!_v&&_v in t},Av=Function.prototype.toString;var Ev=function(t){if(null!=t){try{return Av.call(t)}catch(t){}try{return t+""}catch(t){}}return""},kv=/^\[object .+?Constructor\]$/,Sv=Function.prototype,Nv=Object.prototype,zv=Sv.toString,$v=Nv.hasOwnProperty,Ov=RegExp("^"+zv.call($v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Tv=function(t){return!(!ng(t)||Mv(t))&&(wv(t)?Ov:kv).test(Ev(t))};var jv=function(t,e){return null==t?void 0:t[e]};var Lv=function(t,e){var n=jv(t,e);return Tv(n)?n:void 0},Dv=function(){try{var t=Lv(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Yv=function(t,e,n){"__proto__"==e&&Dv?Dv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n};var Cv=function(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r};var Rv=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++i];if(!1===n(o[s],s,o))break}return e}}();var Pv=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r};var Fv=function(t){return mg(t)&&"[object Arguments]"==vg(t)},Bv=Object.prototype,Iv=Bv.hasOwnProperty,qv=Bv.propertyIsEnumerable,Hv=Fv(function(){return arguments}())?Fv:function(t){return mg(t)&&Iv.call(t,"callee")&&!qv.call(t,"callee")},Wv=Array.isArray;var Uv=function(){return!1},Vv=dc((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n?og.Buffer:void 0,o=(i?i.isBuffer:void 0)||Uv;t.exports=o})),Xv=/^(?:0|[1-9]\d*)$/;var Gv=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Xv.test(t))&&t>-1&&t%1==0&&t<e};var Zv=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Kv={};Kv["[object Float32Array]"]=Kv["[object Float64Array]"]=Kv["[object Int8Array]"]=Kv["[object Int16Array]"]=Kv["[object Int32Array]"]=Kv["[object Uint8Array]"]=Kv["[object Uint8ClampedArray]"]=Kv["[object Uint16Array]"]=Kv["[object Uint32Array]"]=!0,Kv["[object Arguments]"]=Kv["[object Array]"]=Kv["[object ArrayBuffer]"]=Kv["[object Boolean]"]=Kv["[object DataView]"]=Kv["[object Date]"]=Kv["[object Error]"]=Kv["[object Function]"]=Kv["[object Map]"]=Kv["[object Number]"]=Kv["[object Object]"]=Kv["[object RegExp]"]=Kv["[object Set]"]=Kv["[object String]"]=Kv["[object WeakMap]"]=!1;var Jv=function(t){return mg(t)&&Zv(t.length)&&!!Kv[vg(t)]};var Qv=function(t){return function(e){return t(e)}},tm=dc((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&rg.process,o=function(){try{var t=r&&r.require&&r.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o})),em=tm&&tm.isTypedArray,nm=em?Qv(em):Jv,rm=Object.prototype.hasOwnProperty;var im=function(t,e){var n=Wv(t),r=!n&&Hv(t),i=!n&&!r&&Vv(t),o=!n&&!r&&!i&&nm(t),a=n||r||i||o,u=a?Pv(t.length,String):[],s=u.length;for(var c in t)!e&&!rm.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Gv(c,s))||u.push(c);return u},om=Object.prototype;var am=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||om)};var um=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),sm=Object.prototype.hasOwnProperty;var cm=function(t){if(!am(t))return um(t);var e=[];for(var n in Object(t))sm.call(t,n)&&"constructor"!=n&&e.push(n);return e};var lm=function(t){return null!=t&&Zv(t.length)&&!wv(t)};var fm=function(t){return lm(t)?im(t):cm(t)};var hm=function(t,e){return function(n,r){if(null==n)return n;if(!lm(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(t,e){return t&&Rv(t,e,fm)}));var pm=function(t,e,n,r){return hm(t,(function(t,i,o){e(r,t,n(t),o)})),r};var dm=function(){this.__data__=[],this.size=0};var gm=function(t,e){return t===e||t!=t&&e!=e};var vm=function(t,e){for(var n=t.length;n--;)if(gm(t[n][0],e))return n;return-1},mm=Array.prototype.splice;var ym=function(t){var e=this.__data__,n=vm(e,t);return!(n<0)&&(n==e.length-1?e.pop():mm.call(e,n,1),--this.size,!0)};var bm=function(t){var e=this.__data__,n=vm(e,t);return n<0?void 0:e[n][1]};var wm=function(t){return vm(this.__data__,t)>-1};var xm=function(t,e){var n=this.__data__,r=vm(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function _m(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_m.prototype.clear=dm,_m.prototype.delete=ym,_m.prototype.get=bm,_m.prototype.has=wm,_m.prototype.set=xm;var Mm=_m;var Am=function(){this.__data__=new Mm,this.size=0};var Em=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var km=function(t){return this.__data__.get(t)};var Sm=function(t){return this.__data__.has(t)},Nm=Lv(og,"Map"),zm=Lv(Object,"create");var $m=function(){this.__data__=zm?zm(null):{},this.size=0};var Om=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Tm=Object.prototype.hasOwnProperty;var jm=function(t){var e=this.__data__;if(zm){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Tm.call(e,t)?e[t]:void 0},Lm=Object.prototype.hasOwnProperty;var Dm=function(t){var e=this.__data__;return zm?void 0!==e[t]:Lm.call(e,t)};var Ym=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=zm&&void 0===e?"__lodash_hash_undefined__":e,this};function Cm(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cm.prototype.clear=$m,Cm.prototype.delete=Om,Cm.prototype.get=jm,Cm.prototype.has=Dm,Cm.prototype.set=Ym;var Rm=Cm;var Pm=function(){this.size=0,this.__data__={hash:new Rm,map:new(Nm||Mm),string:new Rm}};var Fm=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Bm=function(t,e){var n=t.__data__;return Fm(e)?n["string"==typeof e?"string":"hash"]:n.map};var Im=function(t){var e=Bm(this,t).delete(t);return this.size-=e?1:0,e};var qm=function(t){return Bm(this,t).get(t)};var Hm=function(t){return Bm(this,t).has(t)};var Wm=function(t,e){var n=Bm(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Um(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Um.prototype.clear=Pm,Um.prototype.delete=Im,Um.prototype.get=qm,Um.prototype.has=Hm,Um.prototype.set=Wm;var Vm=Um;var Xm=function(t,e){var n=this.__data__;if(n instanceof Mm){var r=n.__data__;if(!Nm||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vm(r)}return n.set(t,e),this.size=n.size,this};function Gm(t){var e=this.__data__=new Mm(t);this.size=e.size}Gm.prototype.clear=Am,Gm.prototype.delete=Em,Gm.prototype.get=km,Gm.prototype.has=Sm,Gm.prototype.set=Xm;var Zm=Gm;var Km=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var Jm=function(t){return this.__data__.has(t)};function Qm(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Vm;++e<n;)this.add(t[e])}Qm.prototype.add=Qm.prototype.push=Km,Qm.prototype.has=Jm;var ty=Qm;var ey=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var ny=function(t,e){return t.has(e)};var ry=function(t,e,n,r,i,o){var a=1&n,u=t.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var c=o.get(t),l=o.get(e);if(c&&l)return c==e&&l==t;var f=-1,h=!0,p=2&n?new ty:void 0;for(o.set(t,e),o.set(e,t);++f<u;){var d=t[f],g=e[f];if(r)var v=a?r(g,d,f,e,t,o):r(d,g,f,t,e,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!ey(e,(function(t,e){if(!ny(p,e)&&(d===t||i(d,t,n,r,o)))return p.push(e)}))){h=!1;break}}else if(d!==g&&!i(d,g,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h},iy=og.Uint8Array;var oy=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var ay=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},uy=ug?ug.prototype:void 0,sy=uy?uy.valueOf:void 0;var cy=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new iy(t),new iy(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return gm(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=oy;case"[object Set]":var s=1&r;if(u||(u=ay),t.size!=e.size&&!s)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=ry(u(t),u(e),r,i,o,a);return a.delete(t),l;case"[object Symbol]":if(sy)return sy.call(t)==sy.call(e)}return!1};var ly=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t};var fy=function(t,e,n){var r=e(t);return Wv(t)?r:ly(r,n(t))};var hy=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o};var py=function(){return[]},dy=Object.prototype.propertyIsEnumerable,gy=Object.getOwnPropertySymbols,vy=gy?function(t){return null==t?[]:(t=Object(t),hy(gy(t),(function(e){return dy.call(t,e)})))}:py;var my=function(t){return fy(t,fm,vy)},yy=Object.prototype.hasOwnProperty;var by=function(t,e,n,r,i,o){var a=1&n,u=my(t),s=u.length;if(s!=my(e).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in e:yy.call(e,l)))return!1}var f=o.get(t),h=o.get(e);if(f&&h)return f==e&&h==t;var p=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<s;){var g=t[l=u[c]],v=e[l];if(r)var m=a?r(v,g,l,e,t,o):r(g,v,l,t,e,o);if(!(void 0===m?g===v||i(g,v,n,r,o):m)){p=!1;break}d||(d="constructor"==l)}if(p&&!d){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p},wy=Lv(og,"DataView"),xy=Lv(og,"Promise"),_y=Lv(og,"Set"),My=Lv(og,"WeakMap"),Ay="[object Map]",Ey="[object Promise]",ky="[object Set]",Sy="[object WeakMap]",Ny="[object DataView]",zy=Ev(wy),$y=Ev(Nm),Oy=Ev(xy),Ty=Ev(_y),jy=Ev(My),Ly=vg;(wy&&Ly(new wy(new ArrayBuffer(1)))!=Ny||Nm&&Ly(new Nm)!=Ay||xy&&Ly(xy.resolve())!=Ey||_y&&Ly(new _y)!=ky||My&&Ly(new My)!=Sy)&&(Ly=function(t){var e=vg(t),n="[object Object]"==e?t.constructor:void 0,r=n?Ev(n):"";if(r)switch(r){case zy:return Ny;case $y:return Ay;case Oy:return Ey;case Ty:return ky;case jy:return Sy}return e});var Dy=Ly,Yy="[object Arguments]",Cy="[object Array]",Ry="[object Object]",Py=Object.prototype.hasOwnProperty;var Fy=function(t,e,n,r,i,o){var a=Wv(t),u=Wv(e),s=a?Cy:Dy(t),c=u?Cy:Dy(e),l=(s=s==Yy?Ry:s)==Ry,f=(c=c==Yy?Ry:c)==Ry,h=s==c;if(h&&Vv(t)){if(!Vv(e))return!1;a=!0,l=!1}if(h&&!l)return o||(o=new Zm),a||nm(t)?ry(t,e,n,r,i,o):cy(t,e,s,n,r,i,o);if(!(1&n)){var p=l&&Py.call(t,"__wrapped__"),d=f&&Py.call(e,"__wrapped__");if(p||d){var g=p?t.value():t,v=d?e.value():e;return o||(o=new Zm),i(g,v,n,r,o)}}return!!h&&(o||(o=new Zm),by(t,e,n,r,i,o))};var By=function t(e,n,r,i,o){return e===n||(null==e||null==n||!mg(e)&&!mg(n)?e!=e&&n!=n:Fy(e,n,r,i,t,o))};var Iy=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var u=n[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var s=(u=n[i])[0],c=t[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in t))return!1}else{var f=new Zm;if(r)var h=r(c,l,s,t,e,f);if(!(void 0===h?By(l,c,3,r,f):h))return!1}}return!0};var qy=function(t){return t==t&&!ng(t)};var Hy=function(t){for(var e=fm(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,qy(i)]}return e};var Wy=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}};var Uy=function(t){var e=Hy(t);return 1==e.length&&e[0][2]?Wy(e[0][0],e[0][1]):function(n){return n===t||Iy(n,t,e)}},Vy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xy=/^\w*$/;var Gy=function(t,e){if(Wv(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!yg(t))||(Xy.test(t)||!Vy.test(t)||null!=e&&t in Object(e))};function Zy(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Zy.Cache||Vm),n}Zy.Cache=Vm;var Ky=Zy;var Jy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qy=/\\(\\)?/g,tb=function(t){var e=Ky(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Jy,(function(t,n,r,i){e.push(r?i.replace(Qy,"$1"):n||t)})),e}));var eb=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},nb=ug?ug.prototype:void 0,rb=nb?nb.toString:void 0;var ib=function t(e){if("string"==typeof e)return e;if(Wv(e))return eb(e,t)+"";if(yg(e))return rb?rb.call(e):"";var n=e+"";return"0"==n&&1/e==-Infinity?"-0":n};var ob=function(t){return null==t?"":ib(t)};var ab=function(t,e){return Wv(t)?t:Gy(t,e)?[t]:tb(ob(t))};var ub=function(t){if("string"==typeof t||yg(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e};var sb=function(t,e){for(var n=0,r=(e=ab(e,t)).length;null!=t&&n<r;)t=t[ub(e[n++])];return n&&n==r?t:void 0};var cb=function(t,e,n){var r=null==t?void 0:sb(t,e);return void 0===r?n:r};var lb=function(t,e){return null!=t&&e in Object(t)};var fb=function(t,e,n){for(var r=-1,i=(e=ab(e,t)).length,o=!1;++r<i;){var a=ub(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Zv(i)&&Gv(a,i)&&(Wv(t)||Hv(t))};var hb=function(t,e){return null!=t&&fb(t,e,lb)};var pb=function(t,e){return Gy(t)&&qy(e)?Wy(ub(t),e):function(n){var r=cb(n,t);return void 0===r&&r===e?hb(n,t):By(e,r,3)}};var db=function(t){return t};var gb=function(t){return function(e){return null==e?void 0:e[t]}};var vb=function(t){return function(e){return sb(e,t)}};var mb=function(t){return Gy(t)?gb(ub(t)):vb(t)};var yb=function(t){return"function"==typeof t?t:null==t?db:"object"==typeof t?Wv(t)?pb(t[0],t[1]):Uy(t):mb(t)};var bb=function(t,e){return function(n,r){var i=Wv(n)?Cv:pm,o=e?e():{};return i(n,t,yb(r),o)}},wb=Object.prototype.hasOwnProperty,xb=bb((function(t,e,n){wb.call(t,n)?++t[n]:Yv(t,n,1)})),_b={values:[],margins:null,mode:"continuous",rangeMin:null,rangeCenter:null,rangeMax:null,colors:[{color:"#ffffff",position:0},{color:"#000000",position:1}],stops:"equidistant",customStops:[],stopCount:5,palette:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],fallback:"#eeeeee",map:{}};var Mb=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1};var Ab=function(t){return t!=t};var Eb=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1};var kb=function(t,e,n){return e==e?Eb(t,e,n):Mb(t,Ab,n)};var Sb=function(t,e){return!!(null==t?0:t.length)&&kb(t,e,0)>-1};var Nb=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1};var zb=function(){},$b=_y&&1/ay(new _y([,-0]))[1]==1/0?function(t){return new _y(t)}:zb;var Ob=function(t,e,n){var r=-1,i=Sb,o=t.length,a=!0,u=[],s=u;if(n)a=!1,i=Nb;else if(o>=200){var c=e?null:$b(t);if(c)return ay(c);a=!1,i=ny,s=new ty}else s=e?[]:u;t:for(;++r<o;){var l=t[r],f=e?e(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=s.length;h--;)if(s[h]===f)continue t;e&&s.push(f),u.push(l)}else i(s,f,n)||(s!==u&&s.push(f),u.push(l))}return u};var Tb,jb,Lb,Db,Yb,Cb,Rb=function(t){return t&&t.length?Ob(t):[]};function Pb(t){var e={},n=t.palette,r=t.categoryOrder||[],i=r.length?r:Rb(t.values).sort(),o=0;i.forEach((function(r){r&&(e[r]=t.map[r]||(o>=n.length?t.fallback:n[o++]))}));var a=function(n){return e[n]||t.fallback};return a._labels=Object.keys(e),a._colors=a._labels.map((function(t){return e[t]})),a}function Fb(t){return(+t).toFixed(function(t){return Math.max(0,String(t-Math.floor(t)).replace(/00000*[0-9]+$/,"").replace(/33333*[0-9]+$/,"").replace(/99999*[0-9]+$/,"").length-2)}(t))}function Bb(t){var e,n=t.stops,r=t.mode,i=t.stopCount,o=t.customStops,a=t.values,u=t.rangeMin,s=t.rangeCenter,c=t.rangeMax;if(""!==(e=s)&&null!=e&&"continuous"===r){if("equidistant"===n)return[u,s,c];i++;var l=[],f=[];a.filter((function(t){return t>=u&&t<=c})).forEach((function(t){return(t<s?l:f).push(t)})),l.push(s),Fb(f[0])>s&&f.unshift(s);var h=Math.floor((i-1)/2)+1,p=iv(h).map((function(t,e){return e/(h-1)})).map((function(t){return rv(l,t)})),d=iv(h).map((function(t,e){return e/(h-1)})).map((function(t){return rv(f,t)}));return p.length+d.length>i?d.shift():d[0]+=1e-7,p.concat(d)}if("continuous"===r&&"equidistant"===n)return[u,c];var g=Math.LOG10E*Math.log(u),v=Math.LOG10E*Math.log(c),m=a.filter((function(t){return t>=u&&t<=c})),y="custom"===n?o.map((function(t){return+t})):"pretty"===n?ev(u,c,i):"natural"===n?function(t,e){for(var n=[],r=[],i=[],o=!1,a=0;a<e;a++)n[a]=[];for(var u=Math.round(t.length/(e+1)),s=0;s<e;s++)r[s]=t[u*(s+1)];var c,l,f=20;do{for(var h=0;h<e;h++)n[h].length=0;o=!1;for(var p=-1,d=0;d<t.length;d++){for(var g=-1,v=0;v<e;v++){var m=Math.abs(r[v]-t[d]);(-1===g||m<=g)&&(g=m,p=v)}n[p].push(t[d])}i=r.slice(0);for(var y=0;y<e;y++){for(var b=0,w=0;w<n[y].length;w++)b+=n[y][w];r[y]=b/n[y].length}for(var x=0;x<e;x++)c=r[x],l=i[x],Math.abs(c-l)<1e-6||(o=!0)}while(o&&f-- >0);return n.filter((function(t){return t.length}))}(m,i).map((function(t){return t[0]})):"logarithmic"===n?iv(1,i).map((function(t){return Math.pow(10,g+t/i*(v-g))})):"quantiles"===n?iv(0,1.001,1/i).map((function(t){return rv(m,t)})):iv(u,c+1e-5,(c-u)/i);return"custom"!==n&&(Fb(y[0])>u&&y.unshift(u),Fb(y[y.length-1])<c&&y.push(c)),y}function Ib(t){if(void 0===t&&(t={}),"categories"===(t=Object.assign({},Cc(_b),Cc(t))).mode)return t.margins?function(t){var e=t.margins.sort((function(t,e){return t-e})),n=[e[0],e[e.length-1]],r=Pb(t),i={},o=Bb(Object.assign({},t,{values:e,rangeMin:n[0],rangeMax:n[1]})),a=iv(o.length-1).map((function(t){return.5*(o[t]+o[t+1])})),u=mv().domain([a[0],a[a.length-1]]).range([90,20]);function s(t,e){return i[t](e)}return s._stops=o,s._colors={},s._labels=r._labels,s._labels.forEach((function(t){var e=Ae(r(t)),n=a.map((function(t){return Ae(u(t),e.a,e.b)+""}));i[t]=yv(o.slice(1,-1),n),s._colors[t]=o.slice(0,-1).map((function(e,n){return i[t](.5*(e+o[n+1]))}))})),s}(t):Pb(t);var e=xb(t.values);t.values.forEach((function(n,r){e[n]>1&&e[n]>.1*e.length&&(t.values[r]+=1e-6*(Math.random()-.5))})),t.values=t.values.filter(Number.isFinite).sort((function(t,e){return t-e}));var n=t.values[0],r=t.values[t.values.length-1];qb(t.rangeMin)&&(t.rangeMin=n),qb(t.rangeMax)&&(t.rangeMax=r),["rangeMin","rangeMax","rangeCenter","stopCount"].forEach((function(e){qb(t[e])||(t[e]=+t[e])})),(t.ranceCenter<=t.rangeMin||t.ranceCenter>=t.rangeMax)&&(t.rangeCenter=""),t.colors&&t.colors.length||(t.colors=[{color:"#ffffff",position:0},{color:"#000000",position:1}]);var i=mv().domain(t.colors.map((function(t){return t.position}))).range(t.colors.map((function(t){return t.color}))).interpolate(bn),o=Bb(Object.assign({},t,{rangeCenter:"discrete"===t.mode?void 0:t.rangeCenter,stopCount:t.stopCount-("continuous"===t.mode?1:0)}));if("continuous"===t.mode){var a=o.map((function(t,e){return e/(o.length-1)})),u=mv(o,a).clamp(!0),s=function(t){return i(u(t))+""};return s._limits=qb(t.rangeCenter)?[t.rangeMin,t.rangeMax]:[t.rangeMin,+t.rangeCenter,t.rangeMax],s._stops=o,s}if("discrete"===t.mode){var c=iv(0,1.0001,1/(o.length-2)).map(i);c.unshift(c[0]),c.push(c[c.length-1]);var l=yv(o,c);return l._stops=o,l._colors=c.slice(1,-1),l}}function qb(t){return""===t||null==t}function Hb(t,e){return t.replace(/{{ *([a-zA-Z0-9_]+) *}}/g,(function(t,n){return e[n]?"{{ "+Hg(e[n])+" }}":t}))}st.prototype.append=Si,st.prototype.st=Ti;var Wb,Ub,Vb={},Xb=!1,Gb={},Zb=["zoomable","zoom-button-pos","hide-empty-regions"],Kb=new Map,Jb=new Map;dw.visualization.register("d3-maps-choropleth","d3-maps-core",{render:function(t){if(jb)return!1;jb=!0;var e=this,n=t,r=e.chart(),i=e.theme(),o=e.size(),a=e.dataset.list();!function(t,e,n){var r=e.visualize;void 0===r&&(r={});var i=e.data;void 0===i&&(i={});var o,a=e.axes;if(void 0===a&&(a={}),r.gradient||r.categories){var u={mode:"continuous",stops:"quantiles",interpolation:"equidistant",colors:[],rangeMin:"",rangeMax:"",rangeCenter:"",stopCount:5,palette:0,categoryOrder:[],categoryLabels:{},map:{}};if(r.categories&&(u.map=r.categories,delete r.categories),r.gradient){var s=r.gradient;if(s.colors&&(u.colors=s.colors.map((function(t){return{color:t.c,position:t.p}}))),s.stops){var c=s.stops.filter((function(t){return 0===t.p}))[0];c&&(u.rangeMin=c.v);var l=s.stops.filter((function(t){return 1===t.p}))[0];if(l&&(u.rangeMax=l.v),3===s.stops.length){var f=s.stops.filter((function(t){return Math.abs(t.p-.5)<.03}))[0];f&&(u.rangeCenter=f.v),u.interpolation="quantiles-3"}else s.stops.length>3&&(u.interpolation=s.stops.length<6?"quantiles-5":"quantiles-6")}}r.colorscale=u,delete r.gradient}if(r.colorscale&&!r.colorscale.customStops&&(r.colorscale.customStops=["","","","","","","",""]),r.legend&&!r.legend.hideItems&&(r.legend.hideItems=[]),r.tooltip&&void 0===r.tooltip.enabled){var h={enabled:!1,sticky:!0,body:"",title:""};if(r.tooltip){var p=r.tooltip,d=p.title,g=p.body,v=p.fields;(d||g)&&(h.body=v?Hb(g||"",v):g||"",h.title=v?Hb(d||"",v):d||"",h.migrated=!0,h.enabled=!0)}r.tooltip=h}if(void 0===r["min-label-zoom"]&&r["map-key-position"]&&(r["min-label-zoom"]=1.5),"d3-maps-choropleth"===t&&r.tooltip&&(a.keys&&(r.tooltip.title=String(r.tooltip.title).replace("%REGION_NAME%","{{ "+Hg(a.keys)+" }}")),a.values&&(r.tooltip.body=String(r.tooltip.body).replace("%REGION_VALUE%","{{ "+Hg(a.values)+" }}"))),r["map-key-position"]){var m="d3-maps-choropleth"===t?"hidden"!==r["map-key-position"]||!1===r["map-key-auto"]&&""===r["map-key-stops"]:!1!==r["show-map-key"];r.legend={enabled:m,orientation:"vertical",position:m?r["map-key-position"]:"mt",title:r["map-key-title"]||"",labelFormat:(o=r["map-key-format"],{"0,0.[00]":"0,0.[00]",f:"0",".1f":"0.0",".2f":"0.00",".3f":"0.000",".0%":"0%",".1%":"0.0%",".2%":"0.00%",".0s":"0a",".1s":"0.0a",".2s":"0.00a",".3s":"0.000a"}[o]||o),size:100,offsetTop:0,offsetLeft:0,labels:"ranges",reverse:!1,interactive:!1},delete r["map-key-position"],delete r["map-key-title"],delete r["map-key-format"],delete r["map-key-position"]}if(void 0===r["zoom-button-pos"]&&(r["zoom-button-pos"]="br"===Yc(r,"legend.position")?"tr":"br"),r["cluster-symbols"]){var y=["noverlap","hexbin"].includes(r["cluster-symbols"]);r.clustering={enabled:y,type:y?r["cluster-symbols"]:"noverlap",showCount:Yc(r,"cluster-count",!0),gridSize:Yc(r,"hexbin-gridsize",15),aggregation:Yc(r,"cluster-aggregation","none"),radius:Yc(r,"cluster-radius",9),iterations:Yc(r,"iterations",1),tolerance:Yc(r,"tolerance",0),color:Yc(r,"cluster-color",0)},delete r["cluster-color"],delete r["cluster-symbols"],delete r["cluster-count"],delete r["hexbin-gridsize"],delete r["cluster-aggregation"],delete r["cluster-radius"],delete r.iterations,delete r.tolerance}if(null===Yc(r,"clustering.aggregationColor")&&Yc(r,"clustering.aggregationColor",Yc(r,"cluster-aggregation","none")),r["cluster-tooltip"]){var b=Yc(r,"cluster-tooltip",{}),w=b.title,x=b.body,_=b.fields;r.clusterTooltip=(w||x)&&_?{enabled:!0,sticky:!0,title:Hb(w||"",_),body:Hb(x||"",_),migrated:!0}:{enabled:w||x,sticky:!0,title:w||"",body:x||""},delete r["cluster-tooltip"]}if(r["map-align"]||(r["map-align"]="center"),"d3-maps-symbols"===t&&void 0===r["blend-multiply"]&&(r["blend-multiply"]=!0),n.hasColumn(a.values)||delete a.values,a.values&&r["map-key-stops"]&&"number"===n.column(a.values).type()){var M={},A=n.column(a.values).values(),E=!0;r["map-key-stops"].split("\n").forEach((function(t,e){var n=t.split(",");M[n[0]]=n[1]}));for(var k=0;k<A.length;k++)if("number"==typeof A[k]&&isFinite(A[k])&&void 0===M[A[k]]){E=!1;break}if(E){i["column-format"][a.values]||(i["column-format"][a.values]={}),i["column-format"][a.values].type="text";var S=Ib({values:A,mode:"continuous",colors:r.colorscale.colors,stops:r.colorscale.interpolation.split("-")[0],stopCount:+(r.colorscale.interpolation.split("-")[1]||5),rangeMin:r.colorscale.rangeMin,rangeCenter:r.colorscale.rangeCenter,rangeMax:r.colorscale.rangeMax});for(var N in r.colorscale.map={},M)void 0!==N&&""!==N&&(r.colorscale.map[N]=S(Number(N)),r.colorscale.categoryLabels[N]=M[N],r.colorscale.categoryOrder.push(N))}delete r["map-key-stops"]}void 0===r["text-annotations"]&&(r["text-annotations"]=[])}(r.get("type"),r.get("metadata"),e.dataset),this.chart().dataset(!0);var u,s=Yc(i,"vis.d3-maps-choropleth.noDataFill","#dddddd"),c=e.get("zoomable",!0)||e.get("highlighted-series",[]).length>0?e.get("min-label-zoom",1):1,l=e.get("avoid-label-overlap",!0),f=e.axes(),h=(u=r.get("id"),function(t,e){if(window.parent&&window.parent.postMessage){var n={source:"datawrapper",chartId:u,type:t,data:e};window.parent.postMessage(n,"*")}}),p=!Lb||Lb!==e.get("basemap","bl");p||Zb.forEach((function(t){void 0!==Gb[t]&&Gb[t]!==e.get(t)&&(p=!0)}));var d=ed();if(window.addEventListener("resize",(function(){d=ed()})),p)Zb.forEach((function(t){Gb[t]=e.get(t)})),Db=e.size(),Yb=e.get("max-map-height"),Cb=e.get("map-align","center"),t.innerHTML="",Lb=e.get("basemap","bl"),e.initBaseMap(n,Lb,(function(t){(Tb=t).svgLayers.forEach((function(t){var e=t.id,n=t.selection;Jb.set(e,n)})),Tb.canvasLayers.forEach((function(t){var e=t.id,n=t.style,r=t.features;Kb.set(e,{style:n,features:r})})),Tb.highlight=function(t){e.get("legend.interactive")&&(Ub=t,Tb.canvas?Tb.draw():Jb.get("region").style("opacity",(function(t){return!Ub||b(t)?1:.1})))},y(),jb=!1,e.renderingComplete()}));else{if(Tb.svg){var g=e.size(),v=e.get("max-map-height"),m=e.get("map-align","center");Db[0]!==g[0]||Db[1]!==g[1]||v!==Yb||m!==Cb?(Db=g,Yb=v,Cb=m,Tb.resizeMap(g),y()):y()}jb=!1,e.renderingComplete()}function y(){var t=[],u=e.colorMap(),p=e.get("highlighted-series");if(Tb.setUserPadding(e.get("map-padding",0)/100),Tb.data){Tb.clearZoomLayer();var g=kt().key((function(t){return t[f.keys]})).rollup((function(t){return t[0]})).map(a),v=e.get("map-key-attr",function(){var t="id",e=__dw.params.d3maps_basemap[Lb].meta,n=e.keys?e.keys:null;if(!n)return t;var r=n[0]?n[0].value:null;if(!r)return t;return r}());Tb.data.forEach((function(e){var n=g.get(e.properties[v]);n&&(e.data=n,t.push(n))}));var m=t.map(Oi(f.values)),y=function(t){var e=t.column,n=t.vis,r=t.values,i=t.theme,o=Yc(i,"colors.gradients.0",["#f0f9e8","#b6e3bb","#75c8c5","#4ba8c9","#2989bd","#0a6aad","#254b8c"]),a=Yc(i,"colors.categories.0",["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]),u=o.map((function(t,e){return{color:t,position:e/(o.length-1)}})),s=n.get("colorscale.palette",0),c=n.get("colorscale.stopCount",14),l=Cc("custom"===n.get("colorscale.stops")?n.get("colorscale.customStops",[]):null);if(Array.isArray(l)){for(var f=1/0,h=-1/0,p=r.length-1;p>=0;p--)r[p]<f&&(f=r[p]),r[p]>h&&(h=r[p]);var d=(l=l.slice(1,c).map((function(t){return+t})))[l.length-1];l=[Math.min(f,l[0])].concat(l,[Math.max(h,d)])}return Ib("text"===e.type()?{mode:"categories",palette:Yc(i,"colors.categories",[a])[Number.isFinite(s)?s:0],values:r,map:n.get("colorscale.map",{}),categoryOrder:n.get("colorscale.categoryOrder",[])}:"discrete"===n.get("colorscale.mode","continuous")?{values:r,mode:"discrete",colors:n.get("colorscale.colors",u),stops:n.get("colorscale.stops","equidistant"),customStops:l,stopCount:c,rangeMin:n.get("colorscale.rangeMin"),rangeCenter:n.get("colorscale.rangeCenter"),rangeMax:n.get("colorscale.rangeMax")}:{values:r,mode:"continuous",colors:n.get("colorscale.colors",u),stops:n.get("colorscale.interpolation","equidistant").split("-")[0],stopCount:+(n.get("colorscale.interpolation","equidistant").split("-")[1]||5),rangeMin:n.get("colorscale.rangeMin"),rangeCenter:n.get("colorscale.rangeCenter"),rangeMax:n.get("colorscale.rangeMax")})}({vis:e,theme:i,column:e.axes(!0).values,values:m});if(e.get("hide-empty-regions")&&(Tb.canvas?(Kb.get("region").features.forEach((function(t){Tb.hasNoData(t)&&(t.__hidden=!0)})),Tb.zoomVisRegions()):(Jb.get("gregion").classed("hidden",Tb.hasNoData),Jb.get("outlines").classed("hidden",Tb.hasNoData),Tb.zoomVisRegions())),Tb.canvas)Tb.canvasLayers.find((function(t){return"region"===t.id})).style=function(t){var e=ue(u(t.fill=Tb.hasNoData(t)?s:y(t.data[f.values])));return{fill:"rgba("+e.r+","+e.g+","+e.b+","+(!Ub||b(t)?1:.1)+")"}},Tb.draw();else Jb.get("region").style("fill",(function(t){return Tb.hasNoData(t)?u(t.fill=s):u(t.fill=y(t.data[f.values]))})),Jb.get("outlines").classed("has-data",(function(t){return!Tb.hasNoData(t)}));if(f.labels){var w,x=/<br *\/?>|\n/g,_=e.axes(!0).labels.type();if("number"===_){var M=e.chart().getMetadata("data.column-format",{})[f.labels]||{};w={prepend:M["number-prepend"]||"",append:M["number-append"]||"",minusChar:Yc(e.theme(),"typography.chart.minusCharacter","−"),format:e.get("map-label-format","0,0.[00]")}}Tb.data.forEach((function(t){t.__area=Tb.path.area(t)}));var A=Tb.data.sort((function(t,e){return e.__area-t.__area})),E=Tb.g.append("g.labels"),k=E.selectAll("g.label").data(A).enter().append("g.label").classed("inverted",L).each((function(t){var e=t.data&&t.data[f.labels]?"text"===_?t.data[f.labels].replace(/-/g,"- "):_h(t.data[f.labels],w):"";t.__lines=(e?e.match(e)?e.trim().split(x):function(t,e,n,r){var i,o,a,u,s,c,l=[],f=[],h=[];return(o=t.split(" ")).forEach((function(t,e){var n=t.split("-"),r=e<o.length-1?" ":"";n.length>1?n.forEach((function(t,e){f.push(t+(e<n.length-1?"-":r))})):f.push(t+r)})),a=e||40,u=n||Math.max(3,Math.min(.5*a,.75*f.map((function(t){return t.length})).sort((function(t,e){return t-e}))[Math.round(f.length/2)])),s=a*ji.a,c=u*ji.a,i=0,f.forEach((function(t){var e=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}(t.split("").map(p));return i+e>s&&i>c&&(l.push(h.join("")),h.length=0,i=0),i+=e,h.push(t)})),h.length&&l.push(h.join("")),l.filter((function(t){return""!==t}));function p(t){return!r&&ji[t]||ji.a}}(e,10):[]).map((function(t){return"text"===_?t.replace(/- /g,"-"):t}))}));k.append("text.buffer"),k.append("text.label").style("fill",(function(t){return D(t)})),k=E.selectAll("text").filter((function(t){return t.anchor&&isFinite(t.anchor[0])&&isFinite(t.anchor[1])})).translate((function(t){return t.anchor})),e.get("hide-empty-regions")&&k.classed("hidden",Tb.hasNoData),k.tspans(Oi("__lines"),12),E.selectAll("g.label").each((function(t){var e=ct(this);e.classed("inverted")&&e.select("text.label").selectAll("tspan").style("fill",D(t))})),T(),k.classed("lbl-hidden",j),Tb.addZoomLayer("labels",E,k),Tb.onZoom((function(){T(),k.classed("lbl-hidden",j)}))}var S=Wb&&Wb.title&&(Wb.title!==e.get("tooltip.title")||Wb.body!==e.get("tooltip.body"));if((Wb=Object.assign({},e.get("tooltip",{title:"",body:"",enabled:!1}))).enabled){try{Wb.template=dw.utils.htmlTemplate((Wb.title?"<h2>"+Wb.title+"</h2>":"")+Wb.body)}catch(t){Tb.isDatawrapperEditor?Wb.template=dw.utils.htmlTemplate(Ug(t)):Wb.template=function(){throw new Error}}var N=ct(n.querySelector(".dw-tooltip"));if(N.node())S&&C(Vb,!1,!0);else{N=ct(n).append("div.dw-tooltip").style("max-height",.55*o[1]+"px").style("overflow-y","auto");var z=Tb.g.append("path.region-outline.hover-outline.has-data").st({vectorEffect:"non-scaling-stroke",strokeWidth:Yc(i,"vis.d3-maps-choropleth.borders.hoverOutline.scale",2)*Tb.SVG_TO_CANVAS_SCALE,strokeLinejoin:"round",fill:"none"}).attr("d","M0,0");if(Tb.onZoom((function(){z.datum()&&(z.attr("d",Tb.path),Y())})),Tb.canvas){var $=Wg(Kb.get("region").features,Tb.mapProj);Tb.svg.on("mousemove",(function(t){if(!(Xb||!Wb.enabled&&!e.get("legend.interactive")||"ontouchstart"in window||navigator.msMaxTouchPoints)){var n=ht(Tb.svg.node()),r=Tb.getZoom().invert(n),i=Tb.proj.invert(r),o=$(i);o&&o.data&&null!==o.data[f.values]?(Wb.enabled&&C(o),z.datum(o).attr("d",Tb.path),h("region.mouseenter",o.data),Tb.onHighlight&&Tb.onHighlight(o)):(h("region.mouseleave"),Tb.onHighlight&&Tb.onHighlight(null),N.style("visibility","hidden"),z.datum(null).attr("d","M0,0"))}})).on("click",(function(t){var n="ontouchstart"in window||navigator.msMaxTouchPoints;if(e.get("tooltip.sticky")||n){if(Xb)return Y();var r=ht(Tb.svg.node()),i=Tb.getZoom().invert(r),o=Tb.proj.invert(i),a=$(o);a&&a!==Xb&&a.data&&null!==a.data[f.values]&&(Xb=a,N.classed("sticky",!0),z.datum(a).attr("d",Tb.path),C(a),h("region.click",a.properties))}}))}else Jb.get("outlines").on("mouseover",null).on("mousemove",null).on("mouseout",null).on("mouseover",(function(t){Xb||"ontouchstart"in window||navigator.msMaxTouchPoints||(C(t),Tb.onHighlight&&Tb.onHighlight(t),ct(this).classed("hovered-region",!0))})).on("mousemove",(function(t){Xb||"ontouchstart"in window||navigator.msMaxTouchPoints||C(t,!0)})).on("mouseout",(function(){Xb||"ontouchstart"in window||navigator.msMaxTouchPoints||(Tb.onHighlight&&Tb.onHighlight(null),N.style("visibility","hidden"))})).on("click",(function(t){e.get("tooltip.sticky")&&(""===Wb.title&&""===Wb.body||(Jb.get("outlines").classed("sticky",!1),Xb===t||Tb.hasNoData(t)?(Xb&&Tb.hasNoData(t)||Xb===t)&&Y():(ct(this).classed("sticky",!0),Xb=t,C(t))))})),ct(n).selectAll("rect.background").on("click",Y)}}else{var O=n.querySelector(".dw-tooltip");O&&O.parentNode.removeChild(O)}!function(t){var e=t.cont,n=t.colorScale,r=t.size,i=t.vis,o=t.theme,a=t.map,u=t.cm,s=t.columnFormats,c=Cc({width:r[0],settings:i.get("legend"),column:{type:i.axes(!0).values.type(),name:i.axes(!0).values.name()},cs:{limits:n._limits,colors:n._colors,labels:n._labels,stops:n._stops},zoomable:i.get("zoomable"),zoomBtnPos:i.get("zoom-button-pos"),hideRegions:i.get("hide-empty-regions"),colorscale:i.get("colorscale",{}),colorSim:window.__dwColorMode||"normal"});if(!Hl(c,Tg)&&(Tg=c,ct(e).select(".map-key").remove(),i.get("legend.enabled",!0)&&(!n._limits||void 0!==n._limits[0]))){var l="text"===i.axes(!0).values.type(),f=r[0]<450,h=i.get("legend.interactive"),p=i.get("legend.position","mt"),d="div.map-key.export-rect.map-key-"+p+(["mt","mb"].includes(p)?"":".map-key-inside"),g="mt"===p?ct(e).insert(d,".map-outer"):ct(e).append(d),v="m"===p.charAt(0);g.classed("mobile",f),h&&g.style("pointer-events","all"),v||g.style("b"===p.charAt(0)?"bottom":"top",i.get("legend.offsetTop",0)+"%").style("r"===p.charAt(1)?"right":"left",i.get("legend.offsetLeft",0)+"%");var m,y={title:i.get("legend.title"),highlight:h,width:f?r[0]-10:220,horizontal:f||v||"horizontal"===i.get("legend.orientation","horizontal"),reverse:!l&&i.get("legend.reverse",!1)};y=Object.assign({},y,sh({swatchWidth:Yc(o,"style.chart.legend.swatch.width",14),swatchHeight:Yc(o,"style.chart.legend.swatch.height",14),swatchBorderRadius:Yc(o,"style.chart.legend.swatch.borderRadius"),swatchLabelDistance:Yc(o,"style.chart.legend.swatch.marginRight"),paddingBottom:Yc(o,"style.chart.legend.padding.bottom"),itemMarginRight:Yc(o,"style.chart.legend.text.marginRight"),itemMarginBottom:Yc(o,"style.chart.legend.rowSpacing"),paddingTop:Yc(o,"style.chart.legend.padding.top"),textAlign:Yc(o,"style.chart.legend.alignment"),color:Yc(o,"style.chart.labels.legend.color")},(function(t){return null==t})));var b,w="discrete"===i.get("colorscale.mode")&&"ruler"!==i.get("legend.labels")&&!y.horizontal,x=i.get("legend.hideItems",[]),_=!l&&n._colors&&"ruler"!==i.get("legend.labels")&&("m"===i.get("legend.position","br").charAt(0)||w);if(f||v?!v||f||"number"!==i.axes(!0).values.type()||"continuous"!==i.get("colorscale.mode")&&"ruler"!==i.get("legend.labels")||(y.width=i.get("legend.size",200)):y[y.horizontal||l||w?"width":"height"]=i.get("legend.size",170),"number"===i.axes(!0).values.type()){var M=i.get("legend.labelFormat","0.[00]"),A=M.indexOf("%")>-1,E=i.axes().values,k=s[E]?Yc(s[E],"number-prepend",""):"",S=s[E]?Yc(s[E],"number-append",""):"";b=function(t){return""+k+$c(A?.01*t:t).format(M)+S}}if(l){var N=Yc(o,"colors.categories",[[]])[i.get("colorscale.palette",0)],z=i.get("colorscale.map",{}),$=i.get("colorscale.categoryOrder",[]),O=i.get("colorscale.categoryLabels",{}),T=0;(y=Object.assign({},y,{swatches:dh(n._labels.sort((function(t,e){return $.indexOf(t)-$.indexOf(e)})).map((function(t,e){var n=null!=O[t]?O[t]:t,r=z[t]?z[t]:N[T++];return{key:r+"///"+n,label:n,value:t,index:e,color:u(r)}})),(function(t){return t.key})).sort((function(t,e){return t.index-e.index})).filter((function(t){return t.label}))})).horizontal||(y.height="auto",y.paddingBottom=0),m=tg(g.node(),y)}else if(_){var j="discrete"===i.get("colorscale.mode")&&"custom"===i.get("legend.labels")&&i.get("legend.customLabels",[]);y=Object.assign({},y,{swatches:n._stops.slice(1).map((function(t,e){return{key:"class-"+e,color:u(n._colors[e]),index:e,min:0===e?-1/0:+n._stops[e],max:e===n._stops.length-2?1/0:+n._stops[e+1],label:j?j[e]:0===e?"<&nbsp;"+b(t):e<n._colors.length-1?b(n._stops[e])+"–"+b(t):"≥&nbsp;"+b(n._stops[e])}}))}),"custom"===i.get("legend.labels")&&(y.swatches=y.swatches.filter((function(t,e){return!x.includes(e)}))),y.horizontal||(y.height="auto",y.paddingBottom=0),m=tg(g.node(),y)}else y=Object.assign({},y,{limits:n._limits,breaks:n._stops,ruler:"ruler"===i.get("legend.labels"),colors:n._colors?n._colors.map((function(t){return u(t)})):function(t){return u(n(t))},format:b}),"categories"===i.get("colorscale.mode")?y.labels=n._labels:"continuous"===i.get("colorscale.mode")&&"custom"===i.get("legend.labels")?(y.labels=[i.get("legend.labelMin",""),i.get("legend.labelMax","")],""!==i.get("colorscale.rangeCenter")&&void 0!==i.get("colorscale.rangeCenter")&&y.labels.splice(1,0,i.get("legend.labelCenter",""))):"discrete"===i.get("colorscale.mode")&&"custom"===i.get("legend.labels")&&(y.labels=i.get("legend.customLabels",[]).filter((function(t,e){return!x.includes(e)})),y.colors=y.colors.filter((function(t,e){return!x.includes(e)})),y.breaks=y.breaks.filter((function(t,e){return 0===e||e===y.breaks.length-1||!x.includes(e-1)}))),m=Lg(g.node(),y),setTimeout((function(){Og({measure:function(){return g.select(".color-legend").node().getBoundingClientRect()},update:function(t){a.setBottomMargin(f?t.height:0)}})}));if(h){m.on("mouseenter",(function(t){a.highlight(t)})),m.on("mouseleave",(function(){a.highlight(null)}));var L=i.axes(!0).values,D=i.get("colorscale.categoryLabels",{});a.onHighlight=function(t){if(!t)return m.highlight();var e=t.data?t.data[L.name()]:t.properties._cluster?t.properties._val2:t.properties[L.name()];if(_){var r=n._stops.filter((function(t,r){return r===n._stops.length-2||0===r?t<=e:t<e})).length-1;e="class-"+r}m.highlight("text"===L.type()?(t.fill||t.properties._color)+"///"+(D[e]||e):e)}}}}({cont:n,colorScale:y,size:o,vis:e,theme:i,map:Tb,cm:u,columnFormats:r.get("metadata.data.column-format",{})}),Tb.fixZoom(),Tb.resizeMap(e.size())}function T(){if(l){var t=[],e=Tb.svg.node().getBoundingClientRect();E.selectAll("g.label").each((function(n,r){var i=this.getBoundingClientRect(),o=.5,a=i.top-e.top-o,u=i.bottom-e.top+o,s=i.left-e.left-o,c=i.right-e.left+o,l=!1;(s<0||a<0||u>e.height||c>e.width)&&(l=!0),l||t.forEach((function(t){a>t.b||c<t.l||u<t.t||s>t.r||n!==t.data&&(l=!0)})),l||t.push({t:a,l:s,b:u,r:c,data:n}),n._visible=!l}))}}function j(t){return!function(t){return t&&t.data&&p&&p.length&&f.labels&&p.indexOf(t.data[f.labels])>-1}(t)&&(Tb.scale<c||!!l&&!t._visible)}function L(t){return Ae(t.fill).l<50}function D(t){return u(Ae(t.fill).darker(L(t)?-4:2.5)+"")}function Y(){Xb=!1,N.style("visibility","hidden").classed("sticky",!1)}function C(t,r,i){if(Vb=t,!Tb.hasNoData(t)&&(""!==Wb.title||""!==Wb.body)){if(!r){var a,u={FORMAT:Vg};!function(t,e,n,r){void 0===r&&(r=!1);var i=new Set,o=new Map;e.forEach((function(t){for(var e=Hg(t.name()),n=e,r=0;i.has(n);)n=e+"_"+ ++r;i.add(n),o.set(t.name(),n)})),e.forEach((function(e){var i=Hg(e.name()),a=o.get(e.name());if(t[a]=n[r?i:e.name()],"number"===e.type()){var u=e.range(),s={min:u[0],max:u[1],sum:e.sum(),mean:e.mean(),median:e.median()};Object.keys(s).forEach((function(e){t[a+"__"+e]=s[e]}))}}))}(u,e.dataset.columns(),t.data);try{a=Wb.template(u).replace(/\n\n/g,"<br>")}catch(t){if(!Tb.isDatawrapperEditor)return;a=Ug(t)}var s;if(s="ontouchstart"in window?a+'<div class="dw-tooltip-close">&#x2715;</div>':a,""===a)return;N.style("visibility","visible").html(s)}if(N.select(".dw-tooltip-close").on("click",Y),!i){var c=ht(n);Tb.sizeTooltip(c,n,N),N.style("max-height",d*(o[0]<450?.55:.45)+"px")}}}}function b(t){if(!t.data)return!1;if(void 0!==Ub.min){var e=t.data[f.values];return e>=Ub.min&&e<Ub.max}return Ub.value?t.data[f.values]===Ub.value:void 0}},reset:function(){}})}();
//# sourceMappingURL=d3-maps-choropleth.js.map
